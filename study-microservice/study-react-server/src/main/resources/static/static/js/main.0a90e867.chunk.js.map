{"version":3,"sources":["../node_modules/react-pdf/node_modules/pdfjs-dist/build sync","assert/img/login_3.jpg","assert/svg/Logo.svg","home/menu.ts","home/header/index.tsx","common/http/index.ts","home/sider/user/manage/add/index.tsx","home/sider/user/manage/edit/index.tsx","common/util/index.ts","common/simplelist/index.tsx","home/sider/user/manage/list/index.tsx","home/sider/user/manage/view/index.tsx","home/sider/user/manage/index.tsx","home/sider/user/authority/index.tsx","home/sider/user/index.tsx","common/route/index.tsx","common/selector/contractnum/index.tsx","home/sider/docm/list/index.tsx","home/sider/docm/util.tsx","common/NumericInput/index.tsx","home/sider/docm/edit/form/dept/index.tsx","home/sider/docm/edit/form/index.tsx","home/sider/docm/edit/index.tsx","home/sider/docm/view/payItemForm/decorator.tsx","home/sider/docm/view/payItemForm/index.tsx","home/sider/docm/view/filedown/index.tsx","home/sider/docm/view/preview/index.tsx","home/sider/docm/view/index.tsx","home/sider/docm/index.tsx","home/sider/account/info/index.tsx","home/sider/account/mod-pwd/index.tsx","home/sider/account/index.tsx","common/selector/user/index.tsx","home/sider/operlog/list/index.tsx","home/sider/operlog/view/index.tsx","home/sider/operlog/index.tsx","home/sider/index.tsx","home/index.tsx","login/index.tsx","index.tsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","__webpack_require__","p","menu","key","title","role","Header","HomeHeader","fetchDefaultSelectedKey","menus","pathname","_this","props","location","menuPaths","map","m","selectedKeys","filter","path","indexOf","length","_this2","this","react_default","a","createElement","es_menu","Item","es_button","onClick","history","push","sessionStorage","removeItem","setTimeout","UserContext","Consumer","userInfo","headerMenu","className","theme","mode","style","lineHeight","onSelect","param","_this2$props","match","selectable","dropdown","overlay","placement","es_icon","fontSize","color","type","margin","Component","withRouter","serverPath","http","axios","create","baseURL","withCredentials","timeout","interceptors","request","use","config","xAuthToken","getItem","headers","error","console","response","setItem","status","message","createHashHistory","Content","Option","Add","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","form","undefined","handleCancel","preventDefault","concat","manageSiderPath","handleSubmit","validateFields","err","values","params","objectSpread","password","md5","dept","Http","put","then","res","data","catch","handlePermOnChange","permissions","setFieldsValue","perm","setState","handleDeptOnChange","state","treeData","deptData","get","v","index","group","value","children","name","post","_this3","_this$state","display","alignItems","order","flexGrow","padding","float","block","WrappedNormalForm","wrappedComponentRef","es_form","formItemLayout","label","es_select","width","placeholder","showSearch","allowClear","optionFilterProp","filterOption","input","option","toLowerCase","onChange","tree_select","searchPlaceholder","multiple","treeCheckable","tailFormItemLayout","React","labelCol","xs","span","sm","wrapperCol","offset","NormalForm","getFieldDecorator","hidden","rules","required","pattern","validator","_validator","asyncToGenerator","regenerator_default","mark","_callee","rule","callback","source","options","wrap","_context","prev","next","cku","stop","_x","_x2","_x3","_x4","_x5","apply","arguments","validateTrigger","max","Edit","loading","edit_Content","edit_WrappedNormalForm","edit_Option","_this$props$form","getFieldValue","toLine","replace","findToolBarElement","els","$","addToolBarScrollEventListener","doFixed","unFixed","toolBarEle","addEventListener","event","fixedTop","target","offsetTop","scrollTop","bind","removeToolBarScrollEventListener","removeEventListener","List","handleListChange","httpPath","pageSize","current","queryRequest","handleSelectChange","conditions","handleDeleteOper","_ref","ids","modal","confirm","okText","cancelText","onOk","queryString","forEach","delete","substring","success","handleOk","modalFlag","method","msg","modalData","selectedRowKeys","total","content","sorters","modelName","tokenSeparators","showArrow","suffixIcon","notFoundContent","disabled","render","text","record","onHeaderCell","column","textAlign","onCell","rowIndex","dataIndex","moment","createTime","format","sorter","b","_this4","_this$state2","table","rowKey","rowSelection","columnWidth","columns","buildColumns","dataSource","pagination","pageSizeOptions","showSizeChanger","showTotal","filters","extra","field","fetchOrderDirection","empty","description","_this5","_this$state3","visible","onCancel","simplelist_WrappedNormalForm","resetFields","simplelist_Content","renderSearchBar","renderButtonBar","renderTable","renderAddModal","TabPane","loadDeptData","handleSelectChangeForKeyword","handleSelectChangeForDept","marginRight","list_Option","overflow","textOverflow","whiteSpace","cursor","tooltip","frozen","operation","onRow","list_Content","tabs","defaultActiveKey","tab","simplelist","renderKeywordSearchBar","renderDeptSearchBar","TreeNode","View","username","phone","email","tree","showLine","defaultExpandAll","spin","size","view_Content","flex","renderContent","Manage","curItem","breadcrumb","react_router_dom","react_router","exact","to","component","ListCmpt","AddCmpt","EditCmpt","ViewCmpt","Authority","modulePath","Sider","UserSider","collapsed","handleOnSelect","toggleCollapsed","layout","collapsedWidth","PrivateRoute","objectWithoutProperties","needPerms","userPerms","find","userPerm","Array","needPerm","assign","result","height","subTitle","from","ContractNumSelector","fetchUser","trim","contractNum","handleChange","debounce","ranges","onSearch","d","contractnum_Option","colLayout","md","loadProjectTypes","projectTypes","handleCheckInvalidAttach","invalidAttachInfos","handleDeleteInvalidAttach","_ref2","_callee2","attachs","_context2","_ref3","_callee4","_context4","_onOk","_callee3","_context3","needFixed","DOCM_EDIT_OPER_permission","DOCM_DELETE_OPER_permission","DOCM_DOWNLOAD_OPER_permission","attachments","href","Fragment","onShowSizeChange","info","footer","handleNotFoundInvalidAttachs","pType","docm_list_Option","contractnum","DOCM_ADD_OPER_permission","row","gutter","col","renderProjectTypeSearchBar","renderContractNumSearchBar","docm_list_Content","renderToolBar","singleRowFormItemLayout","commonTableColumnProps","NumericInput","Number","isNaN","test","onBlur","_this$props","charAt","slice","maxLength","DeptSelect","deptValue","handleOnChange","dept_Option","nextProps","prevProps","EditForm","form_dept","date_picker","common_NumericInput","tips","TextArea","edit_form","Dragger","Meta","editForm","fileList","contractTime","credentialTime","file","docPath","docName","updateFileUploadByResponse","uid","targetFile","updateFileUploadStatus","updateFileUploadProgress","percent","addFileUpload","handleCustomUpload","obj","formData","FormData","append","ajax","url","dataType","processData","contentType","xhr","XMLHttpRequest","upload","lengthComputable","Math","floor","loaded","_res$data$","attachmentInfo","renderForm","uploadFileMaxAmount","appConf","accept","showUploadList","customRequest","showAttachmentList","selectedDept","initData","attachment","card","marginTop","len","i","splice","progress","avatar","shape","icon","docm_edit_Content","ContractForm","createForm","MonthPicker","PayItemForm","input_number","decorator","setValue","_this$form$props$form","money","credentialNum","payTime","desc","FileDown","handleClick","disable","open","responseType","onload","blob","blobUrl","window","URL","createObjectURL","onLoad","statusText","send","pdfjs","GlobalWorkerOptions","workerSrc","version","cMapUrl","cMapPacked","Sample","numPages","onDocumentLoadSuccess","fileData","entry","onLoadSuccess","el","pageNumber","renderMode","customColLayout","goBack","handleDeletePayItem","refreshPage","errors","payItem","contractId","handlePayItemModalCancel","showPayItemForm","handlePreviewModalCancel","showPreview","attachmentId","projectName","company","projectType","filedown","payItems","sum","item","bordered","round","toFixed","_this6","destroyOnClose","payItemForm","preview_Sample","docm_view_Content","renderPayItem","renderPayItemModal","renderPreviewModal","Docm","docm_Sider","route","permission","Info","separator","info_Content","ModPwd","fielldValues","oldPassword","mod_pwd_WrappedNormalForm","mod_pwd_Content","menusKey","AccountSider","account_Sider","UserSelector","keywordUsername","account","user_Option","Panel","loadOperNames","operNames","handleSelectChangeForOperator","handleSelectChangeForOperName","handleCreateTimeRangeChange","createTimeRange","start","add","end","rangeOptionValue","modules","activeKey","es_radio","Group","Button","selector_user","operName","operlog_list_Option","collapse","border","header","renderPanel","colPropsfor10","operlog_list_Content","viewItemLayout","operator","ip","userAgent","operlog_view_Content","Operlog","operlog_Sider","Side","routeMap","DocmModule","UserModule","AccountModule","OperlogModule","r","createContext","Home","Provider","home_header","home_sider","Login","setFields","src","img","alt","Logo","WrappedNormalLoginForm","NormalLoginForm","prefix","App","locale_provider","locale","zhCN","PureComponent","ReactDOM","src_App","document","getElementById"],"mappings":"2EAAA,SAAAA,EAAAC,GACA,IAAAC,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEAF,EAAAK,KAAA,WAAuC,UACvCL,EAAAM,QAAAN,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,yBCRAF,EAAAC,QAAiBE,EAAAC,EAAuB,yDCAxCJ,EAAAC,QAAiBE,EAAAC,EAAuB,itBCwBzBC,UAvBF,CACX,CACEC,IAAK,QACLC,MAAO,2BACPC,KAAM,CAAC,WAET,CACEF,IAAK,QACLC,MAAO,2BACPC,KAAM,CAAC,UAET,CACEF,IAAK,WACLC,MAAO,2BACPC,KAAM,CAAC,UAET,CACEF,IAAK,WACLC,MAAO,2BACPC,KAAM,CAAC,SAAU,YCbbC,aAMFC,6MACJC,wBAA0B,SAAAC,GAAS,IACzBC,EAAaC,EAAKC,MAAMC,SAAxBH,SACFI,EAAYL,EAAMM,IAAI,SAAAC,GAAC,OAAIA,EAAEb,MAC7Bc,EAAeH,EAAUI,OAAO,SAAAC,GACpC,OAAOT,EAASU,QAAQD,IAAS,IAEnC,OAAIF,EAAaI,OAAS,EACjB,CAACP,EAAU,IAEbG,2EAGA,IAAAK,EAAAC,KACDrB,EACJsB,EAAAC,EAAAC,cAAAC,EAAA,OACEH,EAAAC,EAAAC,cAAAC,EAAA,EAAMC,KAAN,KACEJ,EAAAC,EAAAC,cAAAG,EAAA,GACEC,QAAS,WACPR,EAAKV,MAAMmB,QAAQC,KAAK,2BAGzB,6BAGLR,EAAAC,EAAAC,cAAAC,EAAA,EAAMC,KAAN,KACEJ,EAAAC,EAAAC,cAAAG,EAAA,GACEC,QAAS,WACPG,eAAeC,WAAW,UAC1BC,WAAW,WACTb,EAAKV,MAAMmB,QAAQC,KAAK,WACvB,OAGJ,kBAKT,OACER,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAAAC,GACC,IAAM7B,EAAQ8B,EAAWrB,OAAO,SAAAF,GAC9B,MAA6B,UAAzBsB,EAAQ,SACHtB,EAAEX,KAAKa,OAAO,SAAAb,GAAI,MAAa,UAATA,IAAkBgB,OAAS,EAEjDL,EAAEX,KAAKa,OAAO,SAAAb,GAAI,MAAa,WAATA,IAAmBgB,OAAS,IAGvDJ,EAAeK,EAAKd,wBAAwBC,GAClD,OACEe,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACpB,EAAD,CAAQkC,UAAU,UAIhBhB,EAAAC,EAAAC,cAAAC,EAAA,GACEa,UAAU,SACVC,MAAM,OACNC,KAAK,aACLzB,aAAcA,EACd0B,MAAO,CAAEC,WAAY,QACrBC,SAAU,SAAAC,GAAS,IAAAC,EACUzB,EAAKV,MAAxBmB,EADSgB,EACThB,QAASiB,EADAD,EACAC,MACjBjB,EAAQC,KAAKgB,EAAM7B,KAAO2B,EAAM3C,OAGjCM,EAAMM,IAAI,SAAAC,GACT,OACEQ,EAAAC,EAAAC,cAAAC,EAAA,EAAMC,KAAN,CAAWY,UAAU,cAAcrC,IAAKa,EAAEb,KACvCa,EAAEZ,UAKXoB,EAAAC,EAAAC,cAAAC,EAAA,GACEa,UAAU,UACVC,MAAM,OACNC,KAAK,aACLC,MAAO,CAAEC,WAAY,QACrBK,YAAY,GAEZzB,EAAAC,EAAAC,cAAAC,EAAA,EAAMC,KAAN,CAAWzB,IAAI,QACbqB,EAAAC,EAAAC,cAAAwB,EAAA,GAAUC,QAASjD,EAAMkD,UAAU,eACjC5B,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA2B,EAAA,GACEV,MAAO,CAAEW,SAAU,OAAQC,MAAO,QAClCC,KAAK,SAEPhC,EAAAC,EAAAC,cAAA,QACEiB,MAAO,CACLW,SAAU,OACVC,MAAO,OACPE,OAAQ,cAGTnB,EAAQ,UAEXd,EAAAC,EAAAC,cAAA2B,EAAA,GAAMV,MAAO,CAAEY,MAAO,QAAUC,KAAK,8BAlGpCE,aAgHVC,cAAWpD,+KC7GbqD,EAAa,2BAEpBC,EAAOC,IAAMC,OAAO,CACxBC,QAASJ,EACTK,iBAAiB,EACjBC,QAAS,MAGXL,EAAKM,aAAaC,QAAQC,IAAI,SAAAC,GAC5B,IAAMC,EAAatC,eAAeuC,QAAQ,cAI1C,OAHID,IACFD,EAAOG,QAAQ,gBAAkBF,GAE5BD,GACN,SAAAI,GACDC,QAAQD,MAAM,8BAGhBb,EAAKM,aAAaS,SAASP,IAAI,SAAAO,GAC7B,IAAML,EAAaK,EAASH,QAAQ,gBAIpC,OAHIF,GACFtC,eAAe4C,QAAQ,aAAcN,GAEhCK,GACN,SAAAF,GAC6B,MAA1BA,EAAME,SAASE,SACjB7C,eAAeC,WAAW,UAC1B6C,EAAA,EAAQL,MAAM,+DAAc,GAC5BvC,WAAW,WACT6C,cAAoBhD,KAAK,WACxB,MAEyB,MAA1B0C,EAAME,SAASE,QACjBC,EAAA,EAAQL,MAAM,6CAAW,KAIdb,0BC5CPoB,cACAC,aAUFC,cAEJ,SAAAA,EAAYvE,GAAO,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAA4D,IACjBxE,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAjE,KAAMX,KAFR6E,UAAkDC,EAC/B/E,EAoCnBgF,aAAe,SAAAnG,GACbA,EAAEoG,iBACFjF,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2BC,GAA3B,WAtCiBnF,EAyCnBoF,aAAe,SAAAvG,GACbA,EAAEoG,iBACFjF,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKO,eAAe,SAACC,EAAKC,GACxC,IAAKD,EAAK,CACR,IAAME,EAAkBf,OAAAgB,EAAA,EAAAhB,CAAA,GACnBc,EADmB,CAEtBG,SAAUC,IAAIJ,EAAOG,SAAWH,EAAOG,SAAW,QAClDE,KAAM,CACJxG,GAAImG,EAAOK,QAGfC,EAAKC,IAAI,QAASN,GACfO,KAAK,SAAAC,GACoB,aAApBA,EAAIC,KAAK9B,OACXnE,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2BC,GAA3B,UAEAf,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,WAG1B8B,MAAM,SAAAZ,GACLlB,EAAA,EAAQL,MAAMuB,EAAIrB,SAASgC,KAAK7B,eA9DzBpE,EAoEnBmG,mBAAqB,SAAAC,GACnBpG,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKuB,eAAe,CAClCD,YAAaA,EAAYhG,IAAI,SAAAkG,GAAI,MAAK,CAAElH,GAAIkH,OAEhDtG,EAAKuG,SAAS,CAAEH,iBAzECpG,EA4EnBwG,mBAAqB,SAAAZ,GACnB5F,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKuB,eAAe,CAClCT,UA7EJ5F,EAAKyG,MAAQ,CACXC,SAAU,GACVN,YAAa,GACbO,SAAU,IALK3G,mFASC,IAAAW,EAAAC,KAClBiF,EAAKe,IAAL,aACGb,KAAK,SAAAC,GACJ,IAAMU,EAAWV,EAAIC,KAAKA,KAAK7F,IAAI,SAACyG,EAAGC,GACrC,MAAO,CACLtH,IAAKsH,EACLrH,MAAOoH,EAAEE,MACTC,WAAOjC,EACPkC,SAAUJ,EAAET,YAAYhG,IAAI,SAAAkG,GAC1B,MAAO,CACL9G,IAAK8G,EAAKlH,GACVK,MAAO6G,EAAKY,KACZF,MAAOV,EAAKlH,SAKpBuB,EAAK4F,SAAS,CAAEG,eAEjBR,MAAM,SAAAZ,MACTO,EAAKsB,KAAL,kBACGpB,KAAK,SAAAC,GACJrF,EAAK4F,SAAS,CAAEI,SAAUX,EAAIC,KAAKA,SAEpCC,MAAM,SAAAZ,uCAkDF,IAAA8B,EAAAxG,KAAAyG,EACqCzG,KAAK6F,MAAzCC,EADDW,EACCX,SAAUN,EADXiB,EACWjB,YAAaO,EADxBU,EACwBV,SAC/B,OACE9F,EAAAC,EAAAC,cAACuD,EAAD,KACEzD,EAAAC,EAAAC,cAAA,OACEiB,MAAO,CACLc,OAAQ,eACRwE,QAAS,OACTC,WAAY,WAGd1G,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEwF,MAAO,EAAGC,SAAU,EAAGC,QAAS,cAC5C7G,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAE2F,MAAO,UACpB9G,EAAAC,EAAAC,cAAAG,EAAA,GAAQ0G,OAAK,EAAC/E,KAAM,UAAW1B,QAASP,KAAKoE,cAA7C,mBAMNnE,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,QACpBjC,EAAAC,EAAAC,cAAC8G,EAAD,CACEC,oBAAqB,SAAChD,GACpBsC,EAAKtC,KAAOA,KAGhBjE,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,EACRnH,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAM,4BAC5BpH,EAAAC,EAAAC,cAAAmH,EAAA,GACElG,MAAO,CAAEmG,MAAO,QAChBC,YAAa,qBACbC,YAAU,EACVC,YAAU,EACVC,iBAAiB,WACjBC,aAAc,SAACC,EAAOC,GAAR,OACZA,EAAOzI,MAAMgH,SACV0B,cACAlI,QAAQgI,EAAME,gBAAkB,GAErCC,SAAUhI,KAAK4F,oBAEdG,EAASvG,IAAI,SAAAwF,GAAI,OAChB/E,EAAAC,EAAAC,cAACwD,EAAD,CAAQ/E,IAAKoG,EAAKxG,GAAI4H,MAAOpB,EAAKxG,IAAKwG,EAAKsB,UAIlDrG,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BACnCpH,EAAAC,EAAAC,cAAA8H,EAAA,GACE7G,MAAO,CAAEmG,MAAO,QAChBW,kBAAmB,qBACnBC,UAAU,EACVV,YAAY,EACZ3B,SAAUA,EACVM,MAAOZ,EACP4C,eAAe,EACfJ,SAAUhI,KAAKuF,sBAGnBtF,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAASgI,EACbpI,EAAAC,EAAAC,cAAAG,EAAA,GAAQ0G,OAAK,EAAC/E,KAAM,UAAW1B,QAASP,KAAKwE,cAC1C,2BAhJC8D,IAAMnG,WA0JTC,cAAWwB,GAEpBwD,EAAiB,CACrBmB,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAIVJ,EAAqB,CACzBM,WAAY,CACVH,GAAI,CACFC,KAAM,EACNG,OAAQ,GAEVF,GAAI,CACFD,KAAM,EACNG,OAAQ,KAWRC,mLACK,IACCC,EAAsB9I,KAAKX,MAAM6E,KAAjC4E,kBACR,OACE7I,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,EACP0B,EAAkB,KAAlBA,CAAwB7I,EAAAC,EAAAC,cAAA0H,EAAA,GAAOkB,QAAM,KACtC9I,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,WAAYyI,MAAM,sBAC/ByB,EAAkB,WAAY,CAC7BE,MAAO,CACL,CACEC,UAAU,EACVhH,KAAM,SACNiH,QAAS,+BACT1F,QAAS,6IAEX,CACEA,QAAS,uCACT2F,UAAS,eAAAC,EAAAvF,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAAE,SAAAC,EAAOC,EAAMrD,EAAOsD,EAAUC,EAAQC,GAAtC,OAAAN,EAAApJ,EAAA2J,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACH/E,EAAKe,IAAL,wCAAA1B,OACoC8B,IAEvCjB,KAAK,SAAAC,GACJ,GAAwB,aAApBA,EAAIC,KAAK9B,OAAuB,CAClC,IAAM0G,GAAwB,IAAlB7E,EAAIC,KAAKA,WAAuBlB,EAC5CuF,EAASO,QAETzG,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,SACvBkG,MAGHpE,MAAM,SAAAZ,GACLlB,EAAA,EAAQL,MAAM,kCACduG,MAfK,wBAAAI,EAAAI,SAAAV,MAAF,gBAAAW,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAAnB,EAAAoB,MAAAxK,KAAAyK,YAAA,KAoBbC,gBAAiB,UA9BlB5B,CA+BE7I,EAAAC,EAAAC,cAAA0H,EAAA,UAEL5H,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,WAAYyI,MAAM,gBAC/ByB,EAAkB,WAAY,CAC7BE,MAAO,CACL,CACEC,UAAU,EACVzF,QAAS,uDACT0F,QAAS,cAGbwB,gBAAiB,UARlB5B,CASE7I,EAAAC,EAAAC,cAAA0H,EAAA,GAAO5F,KAAM,WAAYuF,YAAa,yCAE3CvH,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,gBAC5ByB,EAAkB,QAAS,CAC1BE,MAAO,CACL,CACEC,UAAU,EACVzF,QAAS,yDACTmH,IAAK,KAGTD,gBAAiB,UARlB5B,CASE7I,EAAAC,EAAAC,cAAA0H,EAAA,UAEL5H,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,gBAC5ByB,EAAkB,QAAS,CAC1BE,MAAO,CACL,CACEC,UAAU,EACVzF,QAAS,mDACTvB,KAAM,UAGVyI,gBAAiB,UARlB5B,CASE7I,EAAAC,EAAAC,cAAA0H,EAAA,UAGJiB,EAAkB,QAElBA,EAAkB,uBA/EFR,IAAMnG,WAqFzB8E,EAAoBE,EAAA,EAAK3E,OAAO,CACpC8D,KAAM,gBADkBa,CAEvB0B,GC7RKnF,cACAC,aA4BFiH,cAEJ,SAAAA,EAAYvL,GAAe,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAA4K,IACzBxL,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAA+G,GAAA3G,KAAAjE,KAAMX,KAFR6E,UAAkDC,EACvB/E,EA0D3BgF,aAAe,SAAAnG,GACbA,EAAEoG,iBACFjF,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2BC,GAA3B,WA5DyBnF,EA+D3BoF,aAAe,SAAAvG,GACbA,EAAEoG,iBACFjF,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKO,eAAe,SAACC,EAAKC,GACxC,IAAKD,EAAK,CACR,IAAME,EAAkBf,OAAAgB,EAAA,EAAAhB,CAAA,GACnBc,EADmB,CAEtBK,KAAM,CACJxG,GAAImG,EAAOK,QAGfC,EAAKsB,KAAK,QAAS3B,GAChBO,KAAK,SAAAC,GACoB,aAApBA,EAAIC,KAAK9B,OACXnE,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2BC,GAA3B,UAEAf,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,WAG1B8B,MAAM,SAAAZ,GACLlB,EAAA,EAAQL,MAAMuB,EAAIrB,SAASgC,KAAK7B,eAnFjBpE,EAyF3BmG,mBAAqB,SAAAC,GACnBpG,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKuB,eAAe,CAClCD,YAAaA,EAAYhG,IAAI,SAAAkG,GAAI,MAAK,CAAElH,GAAIkH,OAEhDtG,EAAKuG,SAAS,CAAEH,iBA9FSpG,EAiG3BwG,mBAAqB,SAAAZ,GACnB5F,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKuB,eAAe,CAClCT,SAEJ5F,EAAKuG,SAAS,CAAEX,UApGhB5F,EAAKyG,MAAQ,CACXrH,GAAIY,EAAKC,MAAMoC,MAAMmD,OAAjB,GACJiG,SAAS,EACT/E,SAAU,GACVN,YAAa,GACbO,SAAU,GACVf,KAAM,IARiB5F,mFAYP,IAAAW,EAAAC,KACVxB,EAAOwB,KAAK6F,MAAZrH,GACRwB,KAAK2F,SAAS,CAAEkF,SAAS,GAAQ,WAC/B5F,EAAKe,IAAL,YAAA1B,OAAqB9F,IAClB2G,KAAK,SAAAC,GACJ,IAAMC,EAAOD,EAAIC,KAAKA,KAChBL,EAAOK,EAAKL,KAAOK,EAAKL,KAAKxG,QAAK2F,EACxCpE,EAAKmE,MACHnE,EAAKmE,KAAK7E,MAAM6E,KAAKuB,eAArB5B,OAAAgB,EAAA,EAAAhB,CAAA,GACKwB,EADL,CAEEL,UAEJ,IAAMQ,EAAcH,EAAKG,YAAYhG,IAAI,SAAAkG,GAAI,OAAIA,EAAKlH,KACtDuB,EAAK4F,SAAS,CAAEkF,SAAS,EAAOrF,cAAaR,WAE9CM,MAAM,SAAAnC,GACLpD,EAAK4F,SAAS,CAAEkF,SAAS,MAE7B5F,EAAKe,IAAL,aACGb,KAAK,SAAAC,GACJ,IAAMU,EAAWV,EAAIC,KAAKA,KAAK7F,IAAI,SAACyG,EAAGC,GACrC,MAAO,CACLtH,IAAKsH,EACLrH,MAAOoH,EAAEE,MACTC,WAAOjC,EACPkC,SAAUJ,EAAET,YAAYhG,IAAI,SAAAkG,GAC1B,MAAO,CACL9G,IAAK8G,EAAKlH,GACVK,MAAO6G,EAAKY,KACZF,MAAOV,EAAKlH,SAKpBuB,EAAK4F,SAAS,CAAEG,eAEjBR,MAAM,SAAAZ,MAETO,EAAKsB,KAAL,kBACGpB,KAAK,SAAAC,GACJrF,EAAK4F,SAAS,CAAEI,SAAUX,EAAIC,KAAKA,SAEpCC,MAAM,SAAAZ,yCAmDJ,IAAA8B,EAAAxG,KAAAyG,EACoDzG,KAAK6F,MAAxDgF,EADDpE,EACCoE,QAAS/E,EADVW,EACUX,SAAUN,EADpBiB,EACoBjB,YAAaO,EADjCU,EACiCV,SAAUf,EAD3CyB,EAC2CzB,KAClD,OACE/E,EAAAC,EAAAC,cAAC2K,EAAD,KACE7K,EAAAC,EAAAC,cAAA,OACEiB,MAAO,CACLc,OAAQ,eACRwE,QAAS,OACTC,WAAY,WAGd1G,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEwF,MAAO,EAAGC,SAAU,EAAGC,QAAS,cAC5C7G,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAE2F,MAAO,UACpB9G,EAAAC,EAAAC,cAAAG,EAAA,GAAQ0G,OAAK,EAAC/E,KAAM,UAAW1B,QAASP,KAAKoE,cAA7C,mBAMNnE,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,QACpBjC,EAAAC,EAAAC,cAAC4K,GAAD,CACE7D,oBAAqB,SAAChD,GACpBsC,EAAKtC,KAAOA,KAGhBjE,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACRnH,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAM,4BAC5BpH,EAAAC,EAAAC,cAAAmH,EAAA,GACElG,MAAO,CAAEmG,MAAO,QAChBC,YAAa,qBACbpB,MAAOpB,EACPyC,YAAU,EACVC,YAAU,EACVC,iBAAiB,WACjBC,aAAc,SAACC,EAAOC,GAAR,OACZA,EAAOzI,MAAMgH,SACV0B,cACAlI,QAAQgI,EAAME,gBAAkB,GAErCC,SAAUhI,KAAK4F,oBAEdG,EAASvG,IAAI,SAAAwF,GAAI,OAChB/E,EAAAC,EAAAC,cAAC6K,EAAD,CAAQpM,IAAKoG,EAAKxG,GAAI4H,MAAOpB,EAAKxG,IAAKwG,EAAKsB,UAIlDrG,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BACnCpH,EAAAC,EAAAC,cAAA8H,EAAA,GACE7G,MAAO,CAAEmG,MAAO,QAChBW,kBAAmB,qBACnBC,UAAU,EACVrC,SAAUA,EACVM,MAAOZ,EACP4C,eAAe,EACfJ,SAAUhI,KAAKuF,sBAGnBtF,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAASgI,GACbpI,EAAAC,EAAAC,cAAAG,EAAA,GACE0G,OAAK,EACL/E,KAAM,UACN4I,QAASA,EACTtK,QAASP,KAAKwE,cAEb,2BA3KE8D,IAAMnG,WAqLVC,cAAWwI,GAEpBxD,GAAiB,CACrBmB,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAIVJ,GAAqB,CACzBM,WAAY,CACVH,GAAI,CACFC,KAAM,EACNG,OAAQ,GAEVF,GAAI,CACFD,KAAM,EACNG,OAAQ,KAWRC,oLACK,IAAAoC,EACsCjL,KAAKX,MAAM6E,KAAhD4E,EADDmC,EACCnC,kBAAmBoC,EADpBD,EACoBC,cAC3B,OACEjL,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACP0B,EAAkB,KAAlBA,CAAwB7I,EAAAC,EAAAC,cAAA0H,EAAA,GAAOkB,QAAM,KACtC9I,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,WAAYyI,MAAM,sBAC/ByB,EAAkB,WAAY,CAC7BE,MAAO,CACL,CACEC,UAAU,EACVhH,KAAM,SACNiH,QAAS,+BACT1F,QAAS,6IAEX,CACEA,QAAS,uCACT2F,UAAS,eAAAC,EAAAvF,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAAE,SAAAC,EAAOC,EAAMrD,EAAOsD,EAAUC,EAAQC,GAAtC,IAAApL,EAAA,OAAA8K,EAAApJ,EAAA2J,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACHxL,EAAK0M,EAAc,MADhBpB,EAAAE,KAAA,EAEH/E,EAAKe,IAAL,wCAAA1B,OACoC8B,EADpC,QAAA9B,OACgD9F,IAEnD2G,KAAK,SAAAC,GACJ,GAAwB,aAApBA,EAAIC,KAAK9B,OAAuB,CAClC,IAAM0G,GAAwB,IAAlB7E,EAAIC,KAAKA,WAAuBlB,EAC5CuF,EAASO,QAETzG,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,SACvBkG,MAGHpE,MAAM,SAAAZ,GACLlB,EAAA,EAAQL,MAAM,kCACduG,MAhBK,wBAAAI,EAAAI,SAAAV,MAAF,gBAAAW,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAAnB,EAAAoB,MAAAxK,KAAAyK,YAAA,KAqBbC,gBAAiB,UA/BlB5B,CAgCE7I,EAAAC,EAAAC,cAAA0H,EAAA,UAEL5H,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,gBAC5ByB,EAAkB,QAAS,CAC1BE,MAAO,CACL,CACEC,UAAU,EACVzF,QAAS,yDACTmH,IAAK,KAGTD,gBAAiB,UARlB5B,CASE7I,EAAAC,EAAAC,cAAA0H,EAAA,UAEL5H,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,gBAC5ByB,EAAkB,QAAS,CAC1BE,MAAO,CACL,CACEC,UAAU,EACVzF,QAAS,mDACTvB,KAAM,UAGVyI,gBAAiB,UARlB5B,CASE7I,EAAAC,EAAAC,cAAA0H,EAAA,UAGJiB,EAAkB,QAElBA,EAAkB,uBApEFR,IAAMnG,WA0EzB8E,GAAoBE,EAAA,EAAK3E,OAAO,CACpC8D,KAAM,gBADkBa,CAEvB0B,wIC5TI,SAASsC,GAAO7E,GACrB,OAAOA,EAAK8E,QAAQ,WAAY,OAAOrD,cAQlC,SAASsD,KACd,IAAMC,EAAMC,KAAE,sBACd,GAAmB,IAAfD,EAAIxL,OACN,OAAOwL,EAAI,GAgBR,SAASE,GAA8BC,EAASC,GACrD,IAAMC,EAAaN,KACnBM,GACEA,EAAWC,iBACT,SAhBC,SAAuBH,EAASC,EAASG,GAC9C,IAAMC,EAAWD,EAAME,OAAOC,UACxBC,EAAYJ,EAAME,OAAOE,UAI3BA,GAAwB,EAAXH,EAAe,EAC9BL,IACSQ,EAAuB,EAAXH,EAAe,GACpCJ,KAQgBQ,KAAKP,EAAYF,EAASC,IAGvC,SAASS,KACd,IAAMR,EAAaN,KACnBM,GACEA,EAAWS,oBAAoB,SAAU,kBC7BrC1I,eAoCF2I,eAEJ,SAAAA,EAAYhN,GAAe,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAAqM,IACzBjN,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAAwI,GAAApI,KAAAjE,KAAMX,KAFR6E,UAAkDC,EACvB/E,EAwB3BkN,iBAAmB,WAAM,IACfC,EAAanN,EAAKC,MAAlBkN,SACRnN,EAAKuG,SAAS,CAAEkF,SAAS,GAAQ,WAAM,IAAApE,EACArH,EAAKyG,MAAlC2G,EAD6B/F,EAC7B+F,SAAUC,EADmBhG,EACnBgG,QAASlL,EADUkF,EACVlF,MACrBmL,EAA0B7I,OAAAgB,EAAA,EAAAhB,CAAA,CAC9B2I,WACAC,WACGlL,GAEL0D,EAAKsB,KAAL,GAAAjC,OAAaiI,EAAb,SAA8BG,GAC3BvH,KAAK,SAAAC,GACJhG,EAAKuG,SAAS,CAAEkF,SAAS,EAAOxF,KAAMD,EAAIC,KAAKA,SAEhDC,MAAM,SAAAnC,GACL/D,EAAKuG,SAAS,CAAEkF,SAAS,SAtCNzL,EA2C3BuN,mBAAqB,SAAAvG,GACIhH,EAAKyG,MAAMtE,MAA1BqL,WACE,SAAexG,EACzBhH,EAAKuG,SAAS,CAAE8G,QAAS,IACzBrN,EAAKkN,oBA/CoBlN,EAkD3ByN,iBAlD2B,eAAAC,EAAAjJ,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAkDR,SAAAC,EAAOuD,GAAP,IAAAR,EAAA,OAAAjD,EAAApJ,EAAA2J,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACTuC,EAAanN,EAAKC,MAAlBkN,SACRS,GAAA,EAAMC,QAAQ,CACZpO,MAAO,4BACPqO,OAAQ,eACRC,WAAY,eACZC,KAAM,WACJ,IAAIC,EAAc,GAClBN,EAAIO,QAAQ,SAAA9O,GAAE,OAAK6O,EAAcA,EAAY/I,OAAZ,OAAAA,OAA0B9F,EAA1B,QACjCyG,EAAKsI,OAAL,GAAAjJ,OACKiI,EADL,KAAAjI,OACiB+I,EAAYG,UAAU,EAAGH,EAAYvN,OAAS,KAC7DqF,KAAK,SAAAC,GACmB,aAApBA,EAAIC,KAAK9B,QACXC,EAAA,EAAQiK,QAAQ,4BAChBrO,EAAKkN,oBAEL9I,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,cAhBd,wBAAAsG,EAAAI,SAAAV,MAlDQ,gBAAAW,GAAA,OAAA2C,EAAAtC,MAAAxK,KAAAyK,YAAA,GAAArL,EA0O3BsO,SAAW,SAAAzP,GACTA,EAAEoG,iBADY,IAENkI,EAAanN,EAAKC,MAAlBkN,SACAoB,EAAcvO,EAAKyG,MAAnB8H,UACRvO,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKO,eAAe,SAACC,EAAKC,GACxC,IAAKD,EAAK,CAER,IAAMkJ,EACU,IAAdD,EAAkB1I,EAAKC,IAAoB,IAAdyI,EAAkB1I,EAAKsB,UAAOpC,EAC7DyJ,GACEA,EAAM,GAAAtJ,OAAIiI,GAAY5H,GACnBQ,KAAK,SAAAC,GACoB,aAApBA,EAAIC,KAAK9B,QACXC,EAAA,EAAQiK,QAAR,4BACArO,EAAKkN,oBAEL9I,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,WAG1B8B,MAAM,SAAAZ,GAELlB,EAAA,EAAQL,MAAMuB,EAAIrB,SAASgC,KAAKwI,OAEtCzO,EAAKuG,SAAS,CACZgI,UAAW,QAnQMvO,EAyQ3BgF,aAAe,SAAAnG,GACbmB,EAAKuG,SAAS,CACZgI,UAAW,EACXG,eAAW3J,KA1Qb/E,EAAKyG,MAAQ,CACXgF,SAAS,EACTkD,gBAAiB,GACjB1I,KAAM,CACJ2I,WAAO7J,EACP8J,QAAS,IAEXzB,SAAU,GACVC,QAAS,EACTlL,MAAO,CACLqL,WAAY,GACZsB,QAAS,IAEXP,UAAW,EACXG,eAAW3J,GAhBY/E,mFAqBzBY,KAAKsM,6DAoDW,IACR6B,EAAcnO,KAAKX,MAAnB8O,UACR,OACElO,EAAAC,EAAAC,cAAAmH,EAAA,GACEnG,KAAM,OACNqG,YAAW,qBAAAlD,OAAQ6J,GACnB/M,MAAO,CAAEmG,MAAO,SAChB6G,gBAAiB,CAAC,KAClBC,WAAW,EACXC,WAAYrO,EAAAC,EAAAC,cAAA2B,EAAA,GAAMV,MAAO,CAAEW,SAAU,QAAUE,KAAK,WACpD+F,SAAUhI,KAAK2M,mBACf4B,gBAAiB,iDAKL,IAAAxO,EAAAC,KACR+N,EAAoB/N,KAAK6F,MAAzBkI,gBACR,OACE9N,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAAG,EAAA,GACEW,UAAU,gBACVgB,KAAK,UACL1B,QAAS,SAAAsL,GACPA,EAAMxH,iBACNtE,EAAK4F,SAAS,CAAEgI,UAAW,MAL/B,gBAUA1N,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAK,QACLuM,SAAUT,EAAgBjO,OAAS,EACnCS,QAAS,WACPR,EAAK8M,iBAAiBkB,KAJ1B,oEAaS,IAAAvH,EAAAxG,KAsEb,MArEgB,CACd,CACEnB,MAAO,eACPD,IAAK,QACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OAAOA,EAAQ,GAEjB0I,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,QAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,eACPD,IAAK,OACLqQ,UAAW,OACXL,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,YAEtBC,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,2BACPD,IAAK,aACLqQ,UAAW,aACXR,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OAAOgJ,KAAOP,EAAOQ,YAAYC,OAAO,wBAE1CC,OAAQ,SAACnP,EAAGoP,GACV,OAAOpP,EAAE1B,GAAK8Q,EAAE9Q,IAElBoQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,eACPD,IAAK,YACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OACEjG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAAS,SAAAsL,GACPA,EAAMxH,iBACNmC,EAAKb,SAAS,CAAEgI,UAAW,EAAGG,UAAWa,MAJ7C,gBASA1O,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAAS,SAAAsL,GACPA,EAAMxH,iBACNmC,EAAKqG,iBAAiB,CAAC8B,EAAOnQ,OAJlC,kBAYNoQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,oDAM7C,IAAAS,EAAAvP,KAAAwP,EACkDxP,KAAK6F,MAA3DgF,EADI2E,EACJ3E,QAASkD,EADLyB,EACKzB,gBAAiB1I,EADtBmK,EACsBnK,KAAMmH,EAD5BgD,EAC4BhD,SAAUC,EADtC+C,EACsC/C,QAC1CuB,EAAmB3I,EAAnB2I,MAAOC,EAAY5I,EAAZ4I,QACf,OAAOpD,GAAWxF,EAAK4I,QAAQnO,OAAS,EACtCG,EAAAC,EAAAC,cAAAsP,GAAA,GACEC,OAAQ,SAAAf,GACN,OAAOA,EAAOnQ,IAEhBmR,aAAc,CACZC,YAAa,OACb7B,kBACA/F,SAAU,SAAA+F,GACRwB,EAAK5J,SAAS,CAAEoI,sBAGpB8B,QAAS7P,KAAK8P,eACdC,WAAY9B,EACZpD,QAASA,EACTmF,WAAY,CACVhC,QACAvB,UACAD,WACAyD,gBAAiB,CAAC,KAAM,KAAM,MAC9BC,iBAAiB,EACjBC,UAAW,SAAAnC,GACT,gBAAA1J,OAAY0J,EAAZ,aAGJhG,SAAU,SAACgI,EAAYI,EAASf,EAAQgB,GAAU,IACxC9O,EAAUgO,EAAK1J,MAAftE,MACAkL,EAAsBuD,EAAtBvD,QAASD,EAAawD,EAAbxD,SACT8D,EAAiBjB,EAAjBiB,MAAO1J,EAAUyI,EAAVzI,MACfrF,EAAM2M,QAAU,GACZoC,GAAS1J,IACXrF,EAAM2M,QAAQ/C,GAAOmF,IAuGjC,SAA6B1J,GAC3B,MAAc,YAAVA,EACK,OAEA,MA3GgC2J,CAAoB3J,IAErD2I,EAAK5J,SAAS,CAAE8G,UAASD,aACzB+C,EAAKjD,sBAITrM,EAAAC,EAAAC,cAAAqQ,GAAA,GAAOC,YAAa,sEA0CP,IAAAC,EAAA1Q,KAAA2Q,EACkB3Q,KAAK6F,MAA9B8H,EADOgD,EACPhD,UAAWG,EADJ6C,EACI7C,UACbjP,EAAK,GAAAyF,OACK,IAAdqJ,EAAkB,eAAqB,IAAdA,EAAkB,oBAAOxJ,EADzC,gBAGX,OACElE,EAAAC,EAAAC,cAAA6M,GAAA,GACEnO,MAAOA,EACP+R,QAASjD,EAAY,EACrBT,OAAQ,eACRC,WAAY,eACZC,KAAMpN,KAAK0N,SACXmD,SAAU7Q,KAAKoE,cAEfnE,EAAAC,EAAAC,cAAC2Q,GAAD,CACE5J,oBAAqB,SAAChD,GACpBwM,EAAKxM,KAAOA,EACRwM,EAAKxM,OACW,IAAdyJ,GAAmBG,EAErB4C,EAAKxM,KAAK7E,MAAM6E,KAAKuB,eAArB5B,OAAAgB,EAAA,EAAAhB,CAAA,GAAyCiK,IAClB,IAAdH,GAET+C,EAAKxM,KAAK7E,MAAM6E,KAAK6M,YAAY,CAAC,KAAM,+CAUpD,OACE9Q,EAAAC,EAAAC,cAAC6Q,GAAD,KACE/Q,EAAAC,EAAAC,cAAA,OAAKc,UAAU,aACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,qBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,6BACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,oCACZjB,KAAKiR,mBAERhR,EAAAC,EAAAC,cAAA,OAAKc,UAAU,oCACZjB,KAAKkR,oBAGVjR,EAAAC,EAAAC,cAAA,OAAKc,UAAU,2BAA2BjB,KAAKmR,iBAGnDlR,EAAAC,EAAAC,cAAA,WAAMH,KAAKoR,0BAlUA9I,IAAMnG,WAgVVC,mBAAWiK,IAEpBjF,GAAiB,CACrBmB,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAqBVI,oLACK,IACCC,EAAsB9I,KAAKX,MAAM6E,KAAjC4E,kBACR,OACE7I,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACP0B,EAAkB,KAAlBA,CAAwB7I,EAAAC,EAAAC,cAAA0H,EAAA,GAAOkB,QAAM,KACtC9I,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAM,gBAC3ByB,EAAkB,OAAQ,CACzBE,MAAO,CAAC,CAAEC,UAAU,EAAMzF,QAAO,oCADlCsF,CAEE7I,EAAAC,EAAAC,cAAA0H,EAAA,kBATYS,IAAMnG,WAgBzB8E,GAAoBE,EAAA,EAAK3E,OAAO,CACpC8D,KAAM,gBADkBa,CAEvB0B,IClaKnF,wBACAC,cACA0N,gBAuBFhF,eACJ,SAAAA,EAAYhN,GAAe,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAAqM,IACzBjN,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAAwI,GAAApI,KAAAjE,KAAMX,KAuBRiN,iBAAmB,WACjBlN,EAAKuG,SAAS,CAAEkF,SAAS,GAAQ,WAAM,IAAApE,EACArH,EAAKyG,MAAlC2G,EAD6B/F,EAC7B+F,SAAUC,EADmBhG,EACnBgG,QAASlL,EADUkF,EACVlF,MACrBmL,EAA0B7I,OAAAgB,EAAA,EAAAhB,CAAA,CAC9B2I,WACAC,WACGlL,GAEL0D,EAAKsB,KAAL,aAAwBmG,GACrBvH,KAAK,SAAAC,GACJhG,EAAKuG,SAAS,CAAEkF,SAAS,EAAOxF,KAAMD,EAAIC,KAAKA,SAEhDC,MAAM,SAAAnC,GACL/D,EAAKuG,SAAS,CAAEkF,SAAS,SArCNzL,EA0C3BkS,aAAe,WACblS,EAAKuG,SAAS,CAAEkF,SAAS,GAAQ,WAC/B5F,EAAKsB,KAAL,kBACGpB,KAAK,SAAAC,GACJhG,EAAKuG,SAAS,CAAEkF,SAAS,EAAO9E,SAAUX,EAAIC,KAAKA,SAEpDC,MAAM,SAAAnC,GACL/D,EAAKuG,SAAS,CAAEkF,SAAS,SAjDNzL,EAsD3BmS,6BAA+B,SAAAnL,GACNhH,EAAKyG,MAAMtE,MAA1BqL,WACE,SAAexG,EACzBhH,EAAKuG,SAAS,CAAE8G,QAAS,IACzBrN,EAAKkN,oBA1DoBlN,EA6D3BoS,0BAA4B,SAAApL,GACHhH,EAAKyG,MAAMtE,MAA1BqL,WACE,KAAW,CAAEpO,GAAI4H,GAC3BhH,EAAKuG,SAAS,CAAE8G,QAAS,IACzBrN,EAAKkN,oBAjEoBlN,EAoE3ByN,iBApE2B,eAAAC,EAAAjJ,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAoER,SAAAC,EAAOuD,GAAP,OAAAzD,EAAApJ,EAAA2J,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACjBgD,GAAA,EAAMC,QAAQ,CACZpO,MAAO,4BACPqO,OAAQ,eACRC,WAAY,eACZC,KAAM,WACJ,IAAIC,EAAc,GAClBN,EAAIO,QAAQ,SAAA9O,GAAE,OAAK6O,EAAcA,EAAY/I,OAAZ,OAAAA,OAA0B9F,EAA1B,QACjCyG,EAAKsI,OAAL,SAAAjJ,OACW+I,EAAYG,UAAU,EAAGH,EAAYvN,OAAS,KACvDqF,KAAK,SAAAC,GACmB,aAApBA,EAAIC,KAAK9B,QACXC,EAAA,EAAQiK,QAAQ,4BAChBrO,EAAKkN,oBAEL9I,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,cAfd,wBAAAsG,EAAAI,SAAAV,MApEQ,gBAAAW,GAAA,OAAA2C,EAAAtC,MAAAxK,KAAAyK,YAAA,GAEzBrL,EAAKyG,MAAQ,CACXgF,SAAS,EACT9E,SAAU,GACVgI,gBAAiB,GACjB1I,KAAM,CACJ2I,WAAO7J,EACP8J,QAAS,IAEXzB,SAAU,GACVC,QAAS,EACTlL,MAAO,CACLqL,WAAY,GACZsB,QAAS,KAdY9O,mFAoBzBY,KAAKsR,eACLtR,KAAKsM,oEAsEL,OACErM,EAAAC,EAAAC,cAAAmH,EAAA,GACEnG,KAAM,OACNqG,YAAa,iFACbpG,MAAO,CAAEmG,MAAO,QAASkK,YAAa,QACtCrD,gBAAiB,CAAC,KAClBC,WAAW,EACXC,WAAYrO,EAAAC,EAAAC,cAAA2B,EAAA,GAAMV,MAAO,CAAEW,SAAU,QAAUE,KAAK,WACpD+F,SAAUhI,KAAKuR,6BACfhD,gBAAiB,qDAKD,IACZxI,EAAa/F,KAAK6F,MAAlBE,SACR,OACE9F,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,+CACAF,EAAAC,EAAAC,cAAAmH,EAAA,GACEE,YAAa,qBACbpG,MAAO,CAAEmG,MAAO,SAChBG,YAAU,EACV2G,WAAW,EACXrG,SAAUhI,KAAKwR,2BAEdzL,EAASvG,IAAI,SAAAwF,GAAI,OAChB/E,EAAAC,EAAAC,cAACuR,GAAD,CAAQ9S,IAAKoG,EAAKxG,GAAI4H,MAAOpB,EAAKxG,IAC/BwG,EAAKsB,oDAQA,IAAAvG,EAAAC,KACR+N,EAAoB/N,KAAK6F,MAAzBkI,gBACR,OACE9N,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAAG,EAAA,GACEW,UAAU,gBACVgB,KAAK,UACL1B,QAAS,SAAAsL,GACPA,EAAMxH,iBACNtE,EAAKV,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2BC,GAA3B,WALJ,gBAUAtE,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAK,QACLuM,SAAUT,EAAgBjO,OAAS,EACnCS,QAAS,WACPR,EAAK8M,iBAAiBkB,KAJ1B,oEAaS,IAAAvH,EAAAxG,KAiJb,MAhJgB,CACd,CACEnB,MAAO,eACPD,IAAK,QACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OAAOA,EAAQ,GAEjB0I,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,QAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,qBACPoQ,UAAW,WACXrQ,IAAK,WACLgQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,YAEtBC,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,eACPoQ,UAAW,QACXrQ,IAAK,QACLgQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,eACPoQ,UAAW,QACXrQ,IAAK,QACLgQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,eACPoQ,UAAW,OACXrQ,IAAK,OACLgQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAC7B5N,MAAO,CACL0N,UAAW,SACX6C,SAAU,SACVC,aAAc,WACdC,WAAY,SACZC,OAAQ,aAGZrD,OAAQ,SAAAC,GAAI,OACVzO,EAAAC,EAAAC,cAAA4R,GAAA,GAASlQ,UAAU,UAAUhD,MAAO6P,EAAOA,EAAKpI,KAAO,IACpDoI,EAAOA,EAAKpI,KAAO,MAI1B,CACEzH,MAAO,2BACPoQ,UAAW,SACXrQ,IAAK,SACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OAAOyI,EAAOqD,OACZ/R,EAAAC,EAAAC,cAAA,QAAMc,UAAU,aAAhB,sBAEAhB,EAAAC,EAAAC,cAAA,QAAMc,UAAU,gBAAhB,iBAGJ2N,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,QAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,2BACPoQ,UAAW,aACXrQ,IAAK,aACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OAAOgJ,KAAOP,EAAOQ,YAAYC,OAAO,wBAE1CC,OAAQ,SAACnP,EAAGoP,GACV,OAAOpP,EAAE1B,GAAK8Q,EAAE9Q,IAElBoQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,eACPD,IAAK,YACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OACEjG,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAAS,SAAAsL,GACPA,EAAMxH,iBACNmC,EAAKnH,MAAMmB,QAAQC,KAAnB,GAAA6D,OACKC,GADL,UAAAD,OAC6BqK,EAAOnQ,OALxC,gBAWAyB,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAAS,SAAAsL,GACPA,EAAMxH,iBACN,IAAM4N,EAAYtD,EAAOqD,OAAS,WAAa,SAC/C/M,EAAKsB,KAAL,SAAAjC,OAAmB2N,GAAa,CAAElF,IAAK,CAAC4B,EAAOnQ,MAC5C2G,KAAK,SAAAC,GACJ5B,EAAA,EAAQiK,QAAR,GAAAnJ,OAAmBqK,EAAOqD,OAAS,eAAO,eAA1C,iBACAxL,EAAK8F,qBAENhH,MAAM,SAAAZ,GACL8B,EAAK8F,uBAIVqC,EAAOqD,OAAS,eAAO,gBAE1B/R,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAAS,SAAAsL,GACPA,EAAMxH,iBACNmC,EAAKqG,iBAAiB,CAAC8B,EAAOnQ,OAJlC,kBAYNoQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,oDAM7C,IAAAS,EAAAvP,KAAAwP,EACkDxP,KAAK6F,MAA3DgF,EADI2E,EACJ3E,QAASkD,EADLyB,EACKzB,gBAAiB1I,EADtBmK,EACsBnK,KAAMmH,EAD5BgD,EAC4BhD,SAAUC,EADtC+C,EACsC/C,QAC1CuB,EAAmB3I,EAAnB2I,MAAOC,EAAY5I,EAAZ4I,QACf,OAAOpD,GAAWxF,EAAK4I,QAAQnO,OAAS,EACtCG,EAAAC,EAAAC,cAAAsP,GAAA,GACEC,OAAQ,SAAAf,GACN,OAAOA,EAAOnQ,IAEhBmR,aAAc,CACZC,YAAa,OACb7B,kBACA/F,SAAU,SAAA+F,GACRwB,EAAK5J,SAAS,CAAEoI,sBAGpB8B,QAAS7P,KAAK8P,eACdC,WAAY9B,EACZpD,QAASA,EACTqH,MAAO,SAACvD,EAAQzI,GACd,MAAO,CACL3F,QAAS,SAAAsL,GACPA,EAAMxH,iBAC0B,OAA5BwH,EAAME,OAAN,SAGJwD,EAAKlQ,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2BC,GAA3B,UAAAD,OAAmDqK,EAAOnQ,QAKhEwR,WAAY,CACVhC,QACAvB,UACAD,WACAyD,gBAAiB,CAAC,KAAM,KAAM,MAC9BC,iBAAiB,EACjBC,UAAW,SAAAnC,GACT,gBAAA1J,OAAY0J,EAAZ,aAGJhG,SAAU,SAACgI,EAAYI,EAASf,EAAQgB,GAAU,IACxC9O,EAAUgO,EAAK1J,MAAftE,MACAkL,EAAsBuD,EAAtBvD,QAASD,EAAawD,EAAbxD,SACT8D,EAAiBjB,EAAjBiB,MAAO1J,EAAUyI,EAAVzI,MACfrF,EAAM2M,QAAU,GACZoC,GAAS1J,IACXrF,EAAM2M,QAAQ/C,GAAOmF,IA0CjC,SAA6B1J,GAC3B,MAAc,YAAVA,EACK,OAEA,MA9CgC2J,CAAoB3J,IAErD2I,EAAK5J,SAAS,CAAE8G,UAASD,aACzB+C,EAAKjD,sBAITrM,EAAAC,EAAAC,cAAAqQ,GAAA,GAAOC,YAAa,8DAKtB,OACExQ,EAAAC,EAAAC,cAACgS,GAAD,KACElS,EAAAC,EAAAC,cAAA,OAAKc,UAAU,aACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,qBACbhB,EAAAC,EAAAC,cAAAiS,GAAA,GAAMC,iBAAiB,UAAUrK,SAAU,cACzC/H,EAAAC,EAAAC,cAACkR,GAAD,CAASiB,IAAI,eAAK1T,IAAI,QACpBqB,EAAAC,EAAAC,cAACoS,GAAD,CAAUhG,SAAQ,QAAW4B,UAAW,kBAE1ClO,EAAAC,EAAAC,cAACkR,GAAD,CAASiB,IAAI,eAAK1T,IAAI,WACpBqB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,6BACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,oCACZjB,KAAKwS,yBACLxS,KAAKyS,uBAERxS,EAAAC,EAAAC,cAAA,OAAKc,UAAU,oCACZjB,KAAKkR,oBAGVjR,EAAAC,EAAAC,cAAA,OAAKc,UAAU,2BACZjB,KAAKmR,2BA5XL7I,IAAMnG,WA+YVC,mBAAWiK,yCCvblB3I,eACAgP,iBAEFtL,GAAiB,CACrBmB,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAwBVkK,eACJ,SAAAA,EAAYtT,GAAe,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAA2S,IACzBvT,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAA8O,GAAA1O,KAAAjE,KAAMX,KAoBR+E,aAAe,SAAAnG,GACbA,EAAEoG,iBACFjF,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2BC,GAA3B,WArBAnF,EAAKyG,MAAQ,CACXgF,SAAS,EACTxF,UAAMlB,GAJiB/E,mFAQP,IAAAW,EAAAC,KAEZxB,EADYwB,KAAKX,MAAfoC,MACSmD,OAAN,GACX5E,KAAK2F,SAAS,CAAEkF,SAAS,GAAQ,WAC/B5F,EAAKe,IAAL,YAAA1B,OAAqB9F,IAClB2G,KAAK,SAAAC,GACJ,IAAMC,EAAOD,EAAIC,KAAKA,KACtBtF,EAAK4F,SAAS,CAAEkF,SAAS,EAAOxF,WAEjCC,MAAM,SAAAnC,gDASG,IAAAsD,EACYzG,KAAK6F,MAAvBgF,EADMpE,EACNoE,QAASxF,EADHoB,EACGpB,KACjB,OAAQwF,GAAWxF,EACjBpF,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACRnH,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,WAAYyI,MAAM,sBAC/BhC,EAAKuN,UAER3S,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,gBAC5BhC,EAAKwN,OAER5S,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,gBAC5BhC,EAAKyN,OAER7S,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAM,gBAC3BhC,EAAKL,MAAQK,EAAKL,KAAKsB,MAE1BrG,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BACnCpH,EAAAC,EAAAC,cAAA4S,GAAA,GAAMC,UAAQ,EAACC,kBAAgB,GAC5B5N,EAAKG,YAAYhG,IAAI,SAAAkG,GAAI,OACxBzF,EAAAC,EAAAC,cAACuS,GAAD,CAAU7T,MAAO6G,EAAKY,YAM9BrG,EAAAC,EAAAC,cAAA+S,GAAA,GAAMC,KAAM,2CAIP,IAAA3M,EAAAxG,KAEDxB,EADYwB,KAAKX,MAAfoC,MACSmD,OAAN,GACX,OACE3E,EAAAC,EAAAC,cAACiT,GAAD,KACEnT,EAAAC,EAAAC,cAAA,OACEiB,MAAO,CACLc,OAAQ,eACRwE,QAAS,OACTC,WAAY,WAGd1G,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,MAAOmR,KAAM,IACjCpT,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAE2F,MAAO,UACpB9G,EAAAC,EAAAC,cAAAG,EAAA,GACEW,UAAW,gBACXgB,KAAM,UACN1B,QAAS,SAAAsL,GACPA,EAAMxH,iBACNmC,EAAKnH,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2BC,GAA3B,UAAAD,OAAmD9F,MALvD,gBAUAyB,EAAAC,EAAAC,cAAAG,EAAA,GAAQ2B,KAAM,UAAW1B,QAASP,KAAKoE,cAAvC,mBAMNnE,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,QAAUlC,KAAKsT,yBAtF1BhL,IAAMnG,WA4FVC,eAAWuQ,IChHpBY,oLACK,IAEHC,EAFGpU,EAAAY,KACDJ,EAAOI,KAAKX,MAAMC,SAASH,SAYjC,OAVIS,EAAKC,QAAL,GAAAyE,OAAgBC,GAAhB,UAA0C,EAC5CiP,EAAU,eACD5T,EAAKC,QAAL,GAAAyE,OAAgBC,GAAhB,WAA2C,EACpDiP,EAAU,eACD5T,EAAKC,QAAL,GAAAyE,OAAgBC,GAAhB,WAA2C,EACpDiP,EAAU,eACD5T,EAAKC,QAAL,GAAAyE,OAAgBC,GAAhB,WAA2C,IACpDiP,EAAU,gBAIVvT,EAAAC,EAAAC,cAAA,OAAKc,UAAU,kBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,wBACbhB,EAAAC,EAAAC,cAAAsT,EAAA,OACExT,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,uCACAJ,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,uCACAJ,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,CACEE,QAAS,kBAAMnB,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2BC,OAD5C,4BAKAtE,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,KAAkBmT,IAEpBvT,EAAAC,EAAAC,cAACuT,EAAA,EAAD,KACEzT,EAAAC,EAAAC,cAACwT,EAAA,EAAD,KACE1T,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CACE/T,KAAI,GAAA0E,OAAKC,IACTqP,OAAO,EACPC,GAAE,GAAAvP,OAAKC,GAAL,WAEJtE,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAO/T,KAAI,GAAA0E,OAAKC,GAAL,SAA6BuP,UAAWC,KACnD9T,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAO/T,KAAI,GAAA0E,OAAKC,GAAL,QAA4BuP,UAAWE,IAClD/T,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CACE/T,KAAI,GAAA0E,OAAKC,GAAL,aACJuP,UAAWG,IAEbhU,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CACE/T,KAAI,GAAA0E,OAAKC,GAAL,aACJuP,UAAWI,gBA1CN5L,IAAMnG,WAoDZC,eAAWmR,IC5DXY,oLATX,OACElU,EAAAC,EAAAC,cAAA,OAAKc,UAAU,kBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,yBACfhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,iCALCqH,IAAMnG,WCWjBiS,GAAU,aACV7P,GAAe,GAAAD,OAAM8P,GAAN,WAGpBC,IAFuB,GAAA/P,OAAM8P,GAAN,kBAEvBC,OASFC,8MACJzO,MAAgB,CACd0O,WAAW,EACX7U,aAAc,MAQhB8U,eAAiB,SAAAjT,GAAS,IAChB3C,EAAQ2C,EAAR3C,IACRQ,EAAKuG,SAAS,CAAEjG,aAAc,CAACd,KAC/BQ,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,IAA3B9P,OAAwC1F,OAG1C6V,gBAAkB,WAChBrV,EAAKuG,SAAS,CACZ4O,WAAYnV,EAAKyG,MAAM0O,gGAXzBvU,KAAKwU,eAAe,CAAE5V,IADK,6CAgBpB,IACCc,EAAiBM,KAAK6F,MAAtBnG,aACR,OACEO,EAAAC,EAAAC,cAAAuU,EAAA,OACEzU,EAAAC,EAAAC,cAACkU,GAAD,CACE9M,MAAO,IACPrG,MAAM,OACNqT,UAAWvU,KAAK6F,MAAM0O,UACtBI,eAAgB,IAEhB1U,EAAAC,EAAAC,cAAA,QAAMc,UAAU,YAAYV,QAASP,KAAKyU,iBACxCxU,EAAAC,EAAAC,cAAA2B,EAAA,GACEV,MAAO,CAAEc,OAAQ,cACjBD,KAAMjC,KAAK6F,MAAM0O,UAAY,cAAgB,eAGjDtU,EAAAC,EAAAC,cAAAC,EAAA,GACEV,aAAcA,EACdyB,KAAK,SACLD,MAAM,OACNI,SAAUtB,KAAKwU,gBAEfvU,EAAAC,EAAAC,cAAAC,EAAA,EAAMC,KAAN,CAAWY,UAAU,aAAarC,IAAI,WACpCqB,EAAAC,EAAAC,cAAA2B,EAAA,GAAMG,KAAK,aACXhC,EAAAC,EAAAC,cAAA,yCAEFF,EAAAC,EAAAC,cAAAC,EAAA,EAAMC,KAAN,CAAWY,UAAU,aAAarC,IAAI,cACpCqB,EAAAC,EAAAC,cAAA2B,EAAA,GAAMG,KAAK,uBACXhC,EAAAC,EAAAC,cAAA,2CAINF,EAAAC,EAAAC,cAAAuU,EAAA,OACEzU,EAAAC,EAAAC,cAACuT,EAAA,EAAD,KACEzT,EAAAC,EAAAC,cAACwT,EAAA,EAAD,KACE1T,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAO/T,KAAI,GAAA0E,OAAK8P,GAAL,WAA0BN,UAAWP,KAChDtT,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAO/T,KAAI,GAAA0E,OAAK8P,GAAL,cAA6BN,UAAWK,gBA3DzC7L,IAAMnG,WAoEfC,eAAWkS,iCC3BXM,GA5DM,SAAA9H,GAAwC,IAA1B3K,EAA0B2K,EAArCgH,UAAyBzU,EAAYwE,OAAAgR,GAAA,EAAAhR,CAAAiJ,EAAA,eAE3D,OACE7M,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAAAC,GACC,IAAM+T,EAAYzV,EAAK,WACjB0V,EAAYhU,EAAQ,YACpB2E,EAAOoP,EACTC,EAAUC,KAAK,SAAAC,GACb,OAAIH,aAAqBI,MAChBJ,EAAUE,KAAK,SAAAG,GAAQ,OAAIF,EAASzW,KAAO2W,IAE3CF,EAASzW,KAAOsW,IAG3B,OACJ,OACE7U,EAAAC,EAAAC,cAACwT,EAAA,EAAD9P,OAAAuR,OAAA,GACM/V,EADN,CAEEoP,OAAQ,SAAA/P,GASN,OARagC,eAAeuC,QAAQ,UAU3ByC,EACLzF,EAAAC,EAAAC,cAACgC,EAAD,MAEAlC,EAAAC,EAAAC,cAAAkV,GAAA,GACEjU,MAAO,CAAEmG,MAAO,OAAQ+N,OAAQ,QAChC/R,OAAO,MACP1E,MAAM,MACN0W,SAAS,yCAMXtV,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CACEE,GAAI,CACF1U,SAAU,SACV0G,MAAO,CACL2P,KAAM9W,EAAEY,SAASH,4ECjDjCwE,cA0FO8R,eAtEb,SAAAA,EAAYpW,GAAO,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAAyV,IACjBrW,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAA4R,GAAAxR,KAAAjE,KAAMX,KAaRqW,UAAY,SAAAtP,GACV,GAAKA,GAAsC,KAA5BA,EAAiBuP,OAAhC,CAGA,IAAMpU,EAAQ,CACZqU,YAAaxP,GAEfhH,EAAKuG,SAAS,CAAEN,KAAM,GAAIwF,SAAS,IACnCjK,WAAW,WACTqE,EAAKsB,KAAL,0BAAqChF,GAAO4D,KAAK,SAAAC,GAC/C,IAAIC,EAAO,GACa,aAApBD,EAAIC,KAAK9B,QAAyB6B,EAAIC,KAAKA,KAAKvF,OAAS,IAC3DuF,EAAOD,EAAIC,KAAKA,KAAK7F,IAAI,SAAAoW,GAAW,MAAK,CACvClH,KAAMkH,EACNxP,MAAOwP,MAGXxW,EAAKuG,SAAS,CAAEN,OAAMwF,SAAS,OAEhC,OAjCczL,EAoCnByW,aAAe,SAAAzP,GAAS,IACd4B,EAAa5I,EAAKC,MAAlB2I,SACR5I,EAAKuG,SAAS,CACZS,QACAf,KAAM,GACNwF,SAAS,IAEX7C,GAAYA,EAAS5B,IAzCrBhH,EAAKsW,UAAYI,KAAS1W,EAAKsW,UAAW,KAC1CtW,EAAKyG,MAAQ,CACXtE,MAAO,CACLqL,WAAY,CAAEmJ,OAAQ,IACtB7H,QAAS,IAEX7I,KAAM,GACNe,MAAO,GACPyE,SAAS,GAVMzL,wEA8CV,IAAAqH,EAC0BzG,KAAK6F,MAA9BgF,EADDpE,EACCoE,QAASxF,EADVoB,EACUpB,KAAMe,EADhBK,EACgBL,MACvB,OACEnG,EAAAC,EAAAC,cAAAmH,EAAA,GACElB,MAAOA,EACPoB,YAAY,2BACZ+G,gBAAiB1D,EAAU5K,EAAAC,EAAAC,cAAA+S,GAAA,GAAMC,KAAK,UAAa,KACnDvL,cAAc,EACdH,YAAU,EACVuO,SAAUhW,KAAK0V,UACf1N,SAAUhI,KAAK6V,aACfxH,WAAW,EACX3G,YAAU,GAETrC,EAAK7F,IAAI,SAACyW,EAAG/P,GAAJ,OACRjG,EAAAC,EAAAC,cAAC+V,GAAD,CAAQtX,IAAG,GAAA0F,OAAK2R,EAAE7P,MAAP,KAAA9B,OAAgB4B,GAASE,MAAO6P,EAAE7P,OAC1C6P,EAAEvH,gBA/DmBpG,IAAMnG,WCUhCuB,wBACAC,cAEFwS,GAAY,CAChB3N,GAAI,CAAEC,KAAM,GACZ2N,GAAI,CAAE3N,KAAM,IAGRrB,GAAiB,CACrBmB,SAAU,CACRC,GAAI,CAAEC,KAAM,GACZ2N,GAAI,CAAE3N,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZ2N,GAAI,CAAE3N,KAAM,MA4CV4D,eACJ,SAAAA,EAAYhN,GAAe,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAAqM,IACzBjN,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAAwI,GAAApI,KAAAjE,KAAMX,KAqCRiN,iBAAmB,WACjBlN,EAAKuG,SAAS,CAAEkF,SAAS,GAAQ,WAAM,IAAApE,EACArH,EAAKyG,MAAlC2G,EAD6B/F,EAC7B+F,SAAUC,EADmBhG,EACnBgG,QAASlL,EADUkF,EACVlF,MACrBmL,EAA0B7I,OAAAgB,EAAA,EAAAhB,CAAA,CAC9B2I,WACAC,WACGlL,GAEL0D,EAAKsB,KAAK,aAAcmG,GACrBvH,KAAK,SAACC,GACLhG,EAAKuG,SAAS,CAAEkF,SAAS,EAAOxF,KAAMD,EAAIC,KAAKA,SAEhDC,MAAM,SAACnC,GACN/D,EAAKuG,SAAS,CAAEkF,SAAS,SAnDNzL,EAwD3BiX,iBAAmB,WACjBpR,EAAKe,IAAL,mBACGb,KAAK,SAACC,GACLhG,EAAKuG,SAAS,CAAE2Q,aAAclR,EAAIC,KAAKA,SAExCC,MAAM,SAACZ,GACNlB,EAAA,EAAQL,MAAM,mEA9DO/D,EAkE3BkS,aAAe,WACblS,EAAKuG,SAAS,CAAEkF,SAAS,GAAQ,WAC/B5F,EAAKsB,KAAL,kBACGpB,KAAK,SAACC,GACLhG,EAAKuG,SAAS,CAAEkF,SAAS,EAAO9E,SAAUX,EAAIC,KAAKA,SAEpDC,MAAM,SAACnC,GACN/D,EAAKuG,SAAS,CAAEkF,SAAS,SAzENzL,EA8E3BuN,mBAAqB,SAAC2D,EAAOlK,GACJhH,EAAKyG,MAAMtE,MAA1BqL,WACG0D,GAASlK,EACpBhH,EAAKuG,SAAS,CAAE8G,QAAS,IACzBrN,EAAKkN,oBAlFoBlN,EAqF3BmX,yBArF2B1S,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAqFA,SAAAC,IAAA,OAAAF,EAAApJ,EAAA2J,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACzB/E,EAAKe,IAAI,6BACNb,KAAK,SAACC,GACLhG,EAAKuG,SAAS,CACZkF,SAAS,EACT2L,mBAAoBpR,EAAIC,KACxBuL,SAAS,MAGZtL,MAAM,SAACnC,GACN/D,EAAKuG,SAAS,CAAEkF,SAAS,MAVJ,wBAAAf,EAAAI,SAAAV,MArFApK,EAmG3BqX,0BAnG2B,eAAAC,EAAA7S,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAmGC,SAAAoN,EAAOC,GAAP,OAAAtN,EAAApJ,EAAA2J,KAAA,SAAAgN,GAAA,cAAAA,EAAA9M,KAAA8M,EAAA7M,MAAA,OAC1B/E,EAAKsB,KAAK,6BAA8BqQ,GACrCzR,KAAK,SAACC,GACL5B,EAAA,EAAQiK,QAAQ,4BAChBrO,EAAKuG,SAAS,CACZkF,SAAS,EACT2L,mBAAoB,GACpB5F,SAAS,MAGZtL,MAAM,SAACnC,GACN/D,EAAKuG,SAAS,CAAEkF,SAAS,MAXH,wBAAAgM,EAAA3M,SAAAyM,MAnGD,gBAAAxM,GAAA,OAAAuM,EAAAlM,MAAAxK,KAAAyK,YAAA,GAAArL,EAkH3ByN,iBAlH2B,eAAAiK,EAAAjT,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAkHR,SAAAwN,EAAOhK,GAAP,OAAAzD,EAAApJ,EAAA2J,KAAA,SAAAmN,GAAA,cAAAA,EAAAjN,KAAAiN,EAAAhN,MAAA,OACjBgD,GAAA,EAAMC,QAAQ,CACZpO,MAAO,4BACPqO,OAAQ,eACRC,WAAY,eACZC,KAAI,eAAA6J,EAAApT,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAAE,SAAA2N,IAAA,IAAA7J,EAAA,OAAA/D,EAAApJ,EAAA2J,KAAA,SAAAsN,GAAA,cAAAA,EAAApN,KAAAoN,EAAAnN,MAAA,cACAqD,EAAc,GAClBN,EAAIO,QAAQ,SAAC9O,GAAD,OAAS6O,EAAcA,EAAY/I,OAAZ,OAAAA,OAA0B9F,EAA1B,QAF/B2Y,EAAAnN,KAAA,EAGE/E,EAAKsI,OAAL,SAAAjJ,OACK+I,EAAYG,UAAU,EAAGH,EAAYvN,OAAS,KAJrD,OAMJ0D,EAAA,EAAQiK,QAAQ,4BAChBrO,EAAKkN,mBAPD,wBAAA6K,EAAAjN,SAAAgN,MAAF,yBAAAD,EAAAzM,MAAAxK,KAAAyK,YAAA,KALW,wBAAAuM,EAAA9M,SAAA6M,MAlHQ,gBAAA3M,GAAA,OAAA0M,EAAAtM,MAAAxK,KAAAyK,YAAA,GAEzBrL,EAAKyG,MAAQ,CACXgF,SAAS,EACTuM,WAAW,EACXrJ,gBAAiB,GACjBuI,aAAc,GACdjR,KAAM,CACJ2I,WAAO7J,EACP8J,QAAS,IAEXzB,SAAU,GACVC,QAAS,EACTlL,MAAO,CACLqL,WAAY,GACZsB,QAAS,IAEXnI,SAAU,GACV6K,SAAS,EACT4F,mBAAoB,IAnBGpX,mFAuBP,IAAAW,EAAAC,KAClBA,KAAKqW,mBACLrW,KAAKsR,eACLtR,KAAKsM,mBACLd,GACE,kBAAMzL,EAAK4F,SAAS,CAAEyR,WAAW,KACjC,kBAAMrX,EAAK4F,SAAS,CAAEyR,WAAW,qDAMnCjL,4CAgGa,IAAA3F,EAAAxG,KAkOb,MAjOgB,CACd,CACEnB,MAAO,eACPD,IAAK,QACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OAAOA,EAAQ,GAEjB0I,aAAc,SAACC,GAAD,MAAa,CACzBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,QAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,2BACPoQ,UAAW,cACXrQ,IAAK,cACLyQ,OAAQ,SAACnP,EAAGoP,GACV,OAAOpP,EAAE1B,GAAK8Q,EAAE9Q,IAElBoQ,aAAc,SAACC,GAAD,MAAa,CACzBzN,MAAO,CAAE0N,UAAW,YAEtBC,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAC7B5N,MAAO,CACL0N,UAAW,SACX6C,SAAU,SACVC,aAAc,WACdC,WAAY,SACZC,OAAQ,aAGZrD,OAAQ,SAACC,GAAD,OACNzO,EAAAC,EAAAC,cAAA4R,GAAA,GAASlQ,UAAU,UAAUhD,MAAO6P,GACjCA,KAIP,CACE7P,MAAO,2BACPoQ,UAAW,cACXrQ,IAAK,cACLyQ,OAAQ,SAACnP,EAAGoP,GACV,OAAOpP,EAAE1B,GAAK8Q,EAAE9Q,IAElBoQ,aAAc,SAACC,GAAD,MAAa,CACzBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAC7B5N,MAAO,CACL0N,UAAW,SACX6C,SAAU,SACVC,aAAc,WACdC,WAAY,SACZC,OAAQ,aAGZrD,OAAQ,SAACC,GAAD,OACNzO,EAAAC,EAAAC,cAAA4R,GAAA,GAASlQ,UAAU,UAAUhD,MAAO6P,GACjCA,KAIP,CACE7P,MAAO,2BACPoQ,UAAW,UACXrQ,IAAK,UACLyQ,OAAQ,SAACnP,EAAGoP,GACV,OAAOpP,EAAE1B,GAAK8Q,EAAE9Q,IAElBoQ,aAAc,SAACC,GAAD,MAAa,CACzBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAC7B5N,MAAO,CACL0N,UAAW,SACX6C,SAAU,SACVC,aAAc,WACdC,WAAY,SACZC,OAAQ,aAGZrD,OAAQ,SAACC,GAAD,OACNzO,EAAAC,EAAAC,cAAA4R,GAAA,GAASlQ,UAAU,UAAUhD,MAAO6P,GACjCA,KAIP,CACE7P,MAAO,2BACPoQ,UAAW,cACXrQ,IAAK,cACLyQ,OAAQ,SAACnP,EAAGoP,GACV,OAAOpP,EAAE1B,GAAK8Q,EAAE9Q,IAElBoQ,aAAc,SAACC,GAAD,MAAa,CACzBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAC7B5N,MAAO,CACL0N,UAAW,SACX6C,SAAU,SACVC,aAAc,WACdC,WAAY,SACZC,OAAQ,aAGZrD,OAAQ,SAACC,GAAD,OACNzO,EAAAC,EAAAC,cAAA4R,GAAA,GAASlQ,UAAU,UAAUhD,MAAO6P,GACjCA,KAIP,CACE7P,MAAO,eACPoQ,UAAW,OACXrQ,IAAK,OACLgQ,aAAc,SAACC,GAAD,MAAa,CACzBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,QAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAC7B5N,MAAO,CACL0N,UAAW,SACX6C,SAAU,SACVC,aAAc,WACdC,WAAY,SACZC,OAAQ,aAGZrD,OAAQ,SAACC,GAAD,OACNzO,EAAAC,EAAAC,cAAA4R,GAAA,GAASlQ,UAAU,UAAUhD,MAAO6P,EAAOA,EAAKpI,KAAO,IACpDoI,EAAOA,EAAKpI,KAAO,MAI1B,CACEzH,MAAO,qBACPoQ,UAAW,QACXrQ,IAAK,QACLyQ,OAAQ,SAACnP,EAAGoP,GACV,OAAOpP,EAAE1B,GAAK8Q,EAAE9Q,IAElBoQ,aAAc,SAACC,GAAD,MAAa,CACzBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,2BACPoQ,UAAW,aACXrQ,IAAK,aACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OAAOgJ,KAAOP,EAAOQ,YAAYC,OAAO,wBAE1CC,OAAQ,SAACnP,EAAGoP,GACV,OAAOpP,EAAE1B,GAAK8Q,EAAE9Q,IAElBoQ,aAAc,SAACC,GAAD,MAAa,CACzBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAEvD,CACEjQ,MAAO,eACPD,IAAK,YACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OACEjG,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAACC,GACA,IAAMsW,EAA4BtW,EAAQ,YAAgBiU,KACxD,SAACtP,GAAD,MAAsB,mBAAZA,EAAKlH,KAEX8Y,EAA8BvW,EAAQ,YAE1CiU,KAAK,SAACtP,GAAD,MAAsB,qBAAZA,EAAKlH,KAChB+Y,EAAgCxW,EAAQ,YAE5CiU,KAAK,SAACtP,GAAD,MAAsB,uBAAZA,EAAKlH,KACtB,OACEyB,EAAAC,EAAAC,cAAA,WACGkX,GACCpX,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAAS,SAACsL,GACRA,EAAMxH,iBACNmC,EAAKnH,MAAMmB,QAAQC,KAAnB,GAAA6D,OACK8P,GADL,UAAA9P,OACwBqK,EAAOnQ,OALnC,gBAYD+Y,GACC5I,EAAO6I,aACP7I,EAAO6I,YAAY1X,OAAS,GAC1BG,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACNwV,KAAI,GAAAnT,OAAKjC,EAAL,YAAAiC,OACFqK,EAAOnQ,GADL,gBAAA8F,OAEW5D,eAAeuC,QAAQ,eACtC8I,OAAO,UALT,gBAUHuL,GACCrX,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAAS,kBAAMiG,EAAKqG,iBAAiB,CAAC8B,EAAOnQ,OAF/C,oBAadoQ,aAAc,SAACC,GAAD,MAAa,CACzBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,oDAM7C,IAAAS,EAAAvP,KAAAwP,EASRxP,KAAK6F,MAPPgF,EAFU2E,EAEV3E,QACAxF,EAHUmK,EAGVnK,KACAmH,EAJUgD,EAIVhD,SACAC,EALU+C,EAKV/C,QACAsB,EANUyB,EAMVzB,gBACA6C,EAPUpB,EAOVoB,QACA4F,EARUhH,EAQVgH,mBAEF,OACEvW,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAACC,GACA,IAGM4O,EAH8B5O,EAAQ,YAAgBiU,KAC1D,SAACtP,GAAD,MAAsB,qBAAZA,EAAKlH,KAGb,CACEoR,YAAa,OACb7B,kBACA/F,SAAU,SAAC+F,GACTwB,EAAK5J,SAAS,CAAEoI,2BAGpB5J,EACJ,OAAQ0G,GAAWxF,GAAQA,EAAK4I,QAAQnO,OAAS,EAC/CG,EAAAC,EAAAC,cAAAF,EAAAC,EAAAwX,SAAA,KACEzX,EAAAC,EAAAC,cAAAsP,GAAA,GACEC,OAAQ,SAACf,GACP,OAAOA,EAAOnQ,IAEhBmR,aAAcA,EACdE,QAASN,EAAKO,eACdC,WAAY1K,EAAK4I,QACjBpD,QAASA,EACTqH,MAAO,SAACvD,EAAQzI,GACd,MAAO,CACL3F,QAAS,SAACsL,GACwB,OAA5BA,EAAME,OAAN,SAGJwD,EAAKlQ,MAAMmB,QAAQC,KAAnB,GAAA6D,OACK8P,GADL,UAAA9P,OACwBqK,EAAOnQ,QAKrC2U,KAAM,QACNnD,WAAY,CACVhC,MAAO3I,EAAK2I,MACZvB,UACAD,WACAyD,gBAAiB,CAAC,KAAM,KAAM,MAC9BC,iBAAiB,EACjByH,iBAAkB,SAAClL,EAASD,GAC1B+C,EAAK5J,SAAS,CAAE8G,QAAS,EAAGD,cAE9B2D,UAAW,SAACnC,GACV,gBAAA1J,OAAY0J,EAAZ,aAGJhG,SAAU,SAACgI,EAAYI,EAASf,EAAQgB,GAAU,IACxC9O,EAAUgO,EAAK1J,MAAftE,MACAkL,EAAsBuD,EAAtBvD,QAASD,EAAawD,EAAbxD,SACT8D,EAAiBjB,EAAjBiB,MAAO1J,EAAUyI,EAAVzI,MACfrF,EAAM2M,QAAU,GACZoC,GAAS1J,IACXrF,EAAM2M,QAAQ/C,GAAOmF,IA6OzC,SAA6B1J,GAC3B,MAAc,YAAVA,EACK,OAEA,MAjPwC2J,CAAoB3J,IAErD2I,EAAK5J,SAAS,CAAE8G,UAASD,aACzB+C,EAAKjD,sBAGRkK,GAAsBA,EAAmB1W,OAAS,EACjDG,EAAAC,EAAAC,cAAA6M,GAAA,GACE4D,QAASA,EACT/R,MAAM,uCACNuO,KAAM,SAACnP,GACLuF,EAAA,EAAQoU,KAAK,OAEf/G,SAAU,SAAC5S,GACTsR,EAAK5J,SAAS,CAAEiL,SAAS,KAE3BiH,OAAQ,CACN5X,EAAAC,EAAAC,cAAAG,EAAA,GACE1B,IAAI,SACJiM,QAASA,EACT5I,KAAK,UACL1B,QAAS,kBACPgP,EAAKkH,0BAA0BD,KALnC,gBAUAvW,EAAAC,EAAAC,cAAAG,EAAA,GACE1B,IAAI,SACJiM,QAASA,EACTtK,QAAS,WACPgP,EAAK5J,SAAS,CAAEiL,SAAS,MAJ7B,iBAUFrJ,MAAO,KAENiP,EAAmBhX,IAAI,SAACoY,GAAD,OACtB3X,EAAAC,EAAAC,cAAA,SAAIyX,EAAKhY,SAIbgR,GAAWrB,EAAKuI,gCAIpB7X,EAAAC,EAAAC,cAAAqQ,GAAA,GAAOC,YAAa,sFAQ5BjN,EAAA,EAAQiK,QAAQ,wCAChBzN,KAAK2F,SAAS,CAAEiL,SAAS,qDAIzB,OACE3Q,EAAAC,EAAAC,cAAAmH,EAAA,GACEnG,KAAM,OACNqG,YAAa,2EACb4G,gBAAiB,CAAC,KAClBC,WAAW,EACXC,WAAYrO,EAAAC,EAAAC,cAAA2B,EAAA,GAAMV,MAAO,CAAEW,SAAU,QAAUE,KAAK,WACpD+F,SAAUhI,KAAK2M,mBAAmBT,KAAKlM,KAAM,YAC7CuO,gBAAiB,4DAKM,IACnB+H,EAAiBtW,KAAK6F,MAAtByQ,aACR,OACErW,EAAAC,EAAAC,cAAAmH,EAAA,GACEE,YAAa,6CACbE,YAAU,EACV2G,WAAW,EACXrG,SAAUhI,KAAK2M,mBAAmBT,KAAKlM,KAAM,eAC7CuO,gBAAiB,4BAEhB+H,EAAa9W,IAAI,SAACuY,GAAD,OAChB9X,EAAAC,EAAAC,cAAC6X,GAAD,CAAQpZ,IAAKmZ,EAAO3R,MAAO2R,GACxBA,oDAOW,IACZhS,EAAa/F,KAAK6F,MAAlBE,SACR,OACE9F,EAAAC,EAAAC,cAAAmH,EAAA,GACEE,YAAa,qBACbE,YAAU,EACV2G,WAAW,EACXrG,SAAUhI,KAAK2M,mBAAmBT,KAAKlM,KAAM,SAE5C+F,EAASvG,IAAI,SAACwF,GAAD,OACZ/E,EAAAC,EAAAC,cAAC6X,GAAD,CAAQpZ,IAAKoG,EAAKxG,GAAI4H,MAAOpB,EAAKxG,IAC/BwG,EAAKsB,8DAQd,OACErG,EAAAC,EAAAC,cAAC8X,GAAD,CACEjQ,SAAUhI,KAAK2M,mBAAmBT,KAAKlM,KAAM,2DAKjC,IAAA0Q,EAAA1Q,KACR+N,EAAoB/N,KAAK6F,MAAzBkI,gBACR,OACE9N,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAACC,GACA,IAAMmX,EAA2BnX,EAAQ,YAAgBiU,KACvD,SAACtP,GAAD,MAAsB,kBAAZA,EAAKlH,KAEX8Y,EAA8BvW,EAAQ,YAAgBiU,KAC1D,SAACtP,GAAD,MAAsB,qBAAZA,EAAKlH,KAEjB,OACEyB,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,MAAOmR,KAAM,IACjCpT,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAE2F,MAAO,UACnBuQ,GACCrX,EAAAC,EAAAC,cAAAG,EAAA,GACEW,UAAU,gBACVgB,KAAK,QACL1B,QAAS,WACPmQ,EAAK6F,6BAJT,4BAUD2B,GACCjY,EAAAC,EAAAC,cAAAG,EAAA,GACEW,UAAU,gBACVgB,KAAK,UACL1B,QAAS,WACPmQ,EAAKrR,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,GAA3B,WAJJ,gBAUDkD,GACCrX,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAK,QACLuM,SAAUT,EAAgBjO,OAAS,EACnCS,QAAS,WACPmQ,EAAK7D,iBAAiBkB,KAJ1B,wEAmBd,OACE9N,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEsF,QAAS,OAAQC,WAAY,WACzC1G,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEiS,KAAM,MAClBpT,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACRnH,EAAAC,EAAAC,cAAAgY,GAAA,GAAKC,OAAQ,IACXnY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,yBAA0ByI,MAAO,sBAC9CrH,KAAKwS,2BAGVvS,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CACEzB,IAAK,6BACLyI,MAAM,4BAELrH,KAAKsY,+BAGVrY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,sBAAuByI,MAAM,gBAC1CrH,KAAKyS,wBAGVxS,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CACEzB,IAAK,6BACLyI,MAAM,4BAELrH,KAAKuY,kCAMhBtY,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEiS,KAAM,OAASrT,KAAKkR,sDAMjC,IACCkG,EAAcpX,KAAK6F,MAAnBuR,UACR,OACEnX,EAAAC,EAAAC,cAACqY,GAAD,KACEvY,EAAAC,EAAAC,cAAA,OAAKc,UAAU,aACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,qBACbhB,EAAAC,EAAAC,cAAA,OACEc,UAAS,6BAAAqD,OACP8S,EAAY,gBAAkB,KAG/BpX,KAAKyY,iBAERxY,EAAAC,EAAAC,cAAA,OAAKc,UAAU,2BAA2BjB,KAAKmR,yBAjpBxC7I,IAAMnG,WAiqBVC,mBAAWiK,0FC3vBb8J,GAAY,CACvB3N,GAAI,CAAEC,KAAM,IACZ2N,GAAI,CAAE3N,KAAM,KAGDrB,GAAiB,CAC5BmB,SAAU,CACRC,GAAI,CAAEC,KAAM,GACZ2N,GAAI,CAAE3N,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZ2N,GAAI,CAAE3N,KAAM,MAeHiQ,GAA0B,CACrCnQ,SAAU,CACRC,GAAI,CAAEC,KAAM,GACZ2N,GAAI,CAAE3N,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZ2N,GAAI,CAAE3N,KAAM,MAIHkQ,GAAyB,CACpC/J,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAC7B5N,MAAO,CACL0N,UAAW,SACX6C,SAAU,SACVC,aAAc,WACdC,WAAY,YAGhBpD,OAAQ,SAAAC,GAAI,OACVA,GACEzO,EAAAC,EAAAC,cAAA4R,GAAA,GAASlQ,UAAU,UAAUhD,MAAO6P,GACjCA,wBC4BMkK,8MAnDb5Q,SAAW,SAAA/J,GAAK,IACNmI,EAAUnI,EAAE8N,OAAZ3F,MAEA4B,EAAa5I,EAAKC,MAAlB2I,WAEJ6Q,OAAOC,MAAM1S,IAHL,iCAGmB2S,KAAK3S,IACxB,KAAVA,GACU,MAAVA,IAEA4B,GAAYA,EAAS5B,MAKzB4S,OAAS,WAAM,IAAAC,EACuB7Z,EAAKC,MAAjC+G,EADK6S,EACL7S,MAAO4S,EADFC,EACED,OAAQhR,EADViR,EACUjR,UACnB5B,GAA6C,MAAnCA,EAAM8S,OAAO9S,EAAMtG,OAAS,IAAwB,MAAVsG,GACtD4B,GAAYA,EAAS,CAAE5B,MAAOA,EAAM+S,MAAM,GAAI,KAE5CH,GACFA,6EAaF,OAQE/Y,EAAAC,EAAAC,cAAA0H,EAAA,EAAAhE,OAAAuR,OAAA,GACMpV,KAAKX,MADX,CAEE2I,SAAUhI,KAAKgI,SACfgR,OAAQhZ,KAAKgZ,OACbI,UAAW,aA9CQ9Q,IAAMnG,WC3BzBwB,cA0EO0V,eA9Db,SAAAA,EAAYha,GAAO,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAAqZ,IACjBja,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAAwV,GAAApV,KAAAjE,KAAMX,KACDwG,MAAQ,CACXO,MAAO/G,EAAM+G,MAAQ/G,EAAM+G,MAAM5H,QAAK2F,EACtC4B,SAAU,IAJK3G,mFAQC,IAAAW,EAAAC,KAElBiF,EAAKsB,KAAL,kBACGpB,KAAK,SAAAC,GACJrF,EAAK4F,SAAS,CAAEI,SAAUX,EAAIC,KAAKA,SAEpCC,MAAM,SAAAZ,6CAgBI0B,GAAO,IACZ4B,EAAahI,KAAKX,MAAlB2I,SAEFsR,EADetZ,KAAK6F,MAAlBE,SACmBiP,KAAK,SAAAhQ,GAAI,OAAIA,EAAKxG,KAAO4H,IACpD4B,GAAYA,EAASsR,GACrBtZ,KAAK2F,SAAS,CAAES,2CAGT,IAAAK,EACqBzG,KAAK6F,MAAzBE,EADDU,EACCV,SAAUK,EADXK,EACWL,MAClB,OACEnG,EAAAC,EAAAC,cAAAmH,EAAA,GACElG,MAAO,CAAEmG,MAAO,QAChBC,YAAa,qBACbpB,MAAOA,EACPqB,YAAU,EACVC,YAAU,EACVM,SAAUhI,KAAKuZ,eAAerN,KAAKlM,MACnC4H,aAAc,SAACC,EAAOC,GAAR,OACZA,EAAOzI,MAAMgH,SAAS0B,cAAclI,QAAQgI,EAAME,gBAAkB,IAGrEhC,EAASvG,IAAI,SAAAwF,GAAI,OAChB/E,EAAAC,EAAAC,cAACqZ,GAAD,CAAQ5a,IAAKoG,EAAKxG,GAAI4H,MAAOpB,EAAKxG,IAC/BwG,EAAKsB,4DArCgBmT,EAAWC,GACzC,GAAID,EAAUrT,MAAO,CACnB,IAAIsT,EAAUtT,MAKZ,MAAO,CAAEA,MAAOqT,EAAUrT,MAAM5H,IAJhC,GAAIib,EAAUrT,MAAM5H,KAAOkb,EAAUtT,MAAM5H,GACzC,MAAO,CAAE4H,MAAOqT,EAAUrT,MAAM5H,IAMtC,OAAO,YA5Bc8J,IAAMnG,WCNzBwX,eACJ,SAAAA,EAAYta,GAAO,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAA2Z,IACjBva,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAA8V,GAAA1V,KAAAjE,KAAMX,KACDwG,MAAQ,CACXE,SAAU,IAHK3G,wEAOV,IACC0J,EAAsB9I,KAAKX,MAAM6E,KAAjC4E,kBAGR,OAFAA,EAAkB,MAClBA,EAAkB,eAEhB7I,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACRnH,EAAAC,EAAAC,cAAAgY,GAAA,GAAKC,OAAQ,IACXnY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BAClCyB,EAAkB,cAAe,CAChCE,MAAO,CACL,CAAEC,UAAU,EAAMzF,QAAS,8CAC3B,CACEmH,IAAK,IACLnH,QAAS,uCALdsF,CAQE7I,EAAAC,EAAAC,cAAA0H,EAAA,WAGP5H,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAM,4BAC3ByB,EAAkB,OAAlBA,CAA0B7I,EAAAC,EAAAC,cAACyZ,GAAD,UAIjC3Z,EAAAC,EAAAC,cAAAgY,GAAA,GAAKC,OAAQ,IACXnY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,UAAWyI,MAAM,4BAC9ByB,EAAkB,UAAW,CAC5BE,MAAO,CACL,CACE2B,IAAK,IACLnH,QAAS,uCAJdsF,CAOE7I,EAAAC,EAAAC,cAAA0H,EAAA,WAGP5H,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BAClCyB,EAAkB,cAAe,CAChCE,MAAO,CACL,CACE2B,IAAK,GACLnH,QAAS,sCAJdsF,CAOE7I,EAAAC,EAAAC,cAAA0H,EAAA,YAIT5H,EAAAC,EAAAC,cAAAgY,GAAA,GAAKC,OAAQ,IACXnY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BAClCyB,EAAkB,cAAe,CAChCE,MAAO,CACL,CACE2B,IAAK,GACLnH,QAAS,sCAJdsF,CAOE7I,EAAAC,EAAAC,cAAA0H,EAAA,WAGP5H,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,eAAgByI,MAAM,wCACnCyB,EAAkB,eAAlBA,CACC7I,EAAAC,EAAAC,cAAA0Z,GAAA,GAAYzY,MAAO,CAAEmG,MAAO,QAAU6H,OAAQ,mBAKtDnP,EAAAC,EAAAC,cAAAgY,GAAA,GAAKC,OAAQ,IACXnY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,sBAC5ByB,EAAkB,QAAS,CAC1BE,MAAO,CAAC,CAAEC,UAAU,EAAMzF,QAAS,sDADpCsF,CAGC7I,EAAAC,EAAAC,cAAC2Z,GAAD,CACE9R,SAAU,SAAA5B,KACV2T,KAAM,wDAKd9Z,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAO,gBAC5ByB,EAAkB,OAAQ,CACzBE,MAAO,CAAC,CAAE2B,IAAK,IAAKnH,QAAS,uCAD9BsF,CAEE7I,EAAAC,EAAAC,cAAA0H,EAAA,EAAOmS,SAAP,kBAlGM7X,aA2GR8X,GAAA9S,EAAA,EAAK3E,QAAL,CAAcmX,ICxFrBjW,wBACAwW,gBACAC,aAkBFvP,eAEJ,SAAAA,EAAYvL,GAAe,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAA4K,IACzBxL,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAA+G,GAAA3G,KAAAjE,KAAMX,KAFR+a,cAA+DjW,EACpC/E,EA2F3BgF,aAAe,SAAAnG,GACbA,EAAEoG,iBACFjF,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,GAA3B,WA7FyBhV,EAgG3BoF,aAAe,SAAAvG,GACbA,EAAEoG,iBACFjF,EAAKgb,UACHhb,EAAKgb,SAAS/a,MAAM6E,KAAKO,eAAe,SAACC,EAAKC,GAC5C,IAAKD,EAAK,KACA2V,EAAajb,EAAKyG,MAAlBwU,SACFzV,EAAef,OAAAgB,EAAA,EAAAhB,CAAA,GAChBc,EADgB,CAEnB2V,aAAc3V,EAAM,aAChBA,EAAM,aAAiByK,OAAO,mBAC9BjL,EACJoW,eAAgB5V,EAAM,eAClBA,EAAM,eAAmByK,OAAO,gBAChCjL,EAEJqT,YAAa6C,EACV1a,OAAO,SAAA6a,GACN,MAAuB,SAAhBA,EAAKjX,SAEb/D,IAAI,SAAAgb,GAAI,MAAK,CACZC,QAASD,EAAKC,QACdC,QAASF,EAAKE,QACdzY,KAAMuY,EAAKvY,KACXkR,KAAMqH,EAAKrH,KACXpO,IAAKyV,EAAKzV,SAGR5D,EAAS/B,EAAKyG,MAAd1E,KACFyM,EACK,QAATzM,EAAiB8D,EAAKC,IAAe,SAAT/D,EAAkB8D,EAAKsB,UAAOpC,EAC5DyJ,GACEA,EAAM,QAAUhJ,GACbO,KAAK,SAAAC,GACoB,aAApBA,EAAIC,KAAK9B,OACXnE,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,GAA3B,UAEA5Q,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,WAG1B8B,MAAM,SAAAZ,GACLlB,EAAA,EAAQoU,KAAKlT,EAAIrB,SAASgC,KAAKwI,WAxIlBzO,EA8I3Bub,2BAA6B,SAACC,EAAKhD,GAAS,IAClCyC,EAAajb,EAAKyG,MAAlBwU,SACFQ,EAAaR,EAASrF,KAAK,SAAAwF,GAC/B,OAAOA,EAAKI,MAAQA,IAEtBC,GAAchX,OAAOuR,OAAOyF,EAAYjD,GACxCxY,EAAKuG,SAAS,CAAE0U,cApJSjb,EAuJ3B0b,uBAAyB,SAACF,EAAKrX,GAAW,IAChC8W,EAAajb,EAAKyG,MAAlBwU,SACFQ,EAAaR,EAASrF,KAAK,SAAAwF,GAC/B,OAAOA,EAAKI,MAAQA,IAEtBC,IAAeA,EAAU,OAAatX,GACtCnE,EAAKuG,SAAS,CAAE0U,cA7JSjb,EAgK3B2b,yBAA2B,SAACH,EAAKI,GAAY,IACnCX,EAAajb,EAAKyG,MAAlBwU,SACFQ,EAAaR,EAASrF,KAAK,SAAAwF,GAC/B,OAAOA,EAAKI,MAAQA,IAEtBC,IAAeA,EAAU,QAAcG,GACvC5b,EAAKuG,SAAS,CAAE0U,cAtKSjb,EAyK3B6b,cAAgB,SAAAT,GAAQ,IAChBH,EAAajb,EAAKyG,MAAlBwU,SACNA,EAAWA,EAAS/V,OAAO,CACzBsW,IAAKJ,EAAKI,IACVzH,KAAMqH,EAAKrH,KACX7M,KAAMkU,EAAKlU,KACXrE,KAAMuY,EAAKvY,KACXsB,OAAQ,YACRmX,QAAS,GACTD,QAAS,GACT1V,IAAK,KAEP3F,EAAKuG,SAAS,CAAE0U,cArLSjb,EAwL3B8b,mBAAqB,SAAAC,GAAO,IAClBX,EAASW,EAATX,KACAlU,EAASkU,EAATlU,KAER,GAAK,+CAA+CyS,KAAKzS,GAAzD,CAIAlH,EAAK6b,cAAcT,GACnB,IAAMY,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASd,GACzBjP,KAAEgQ,KAAK,CACLC,IAAG,GAAAlX,OAAKjC,EAAL,oBAAAiC,OAAkC5D,eAAeuC,QAClD,eAEFhB,KAAM,OACNoD,KAAM+V,EACNK,SAAU,OACVC,aAAa,EACbC,aAAa,EACbhZ,QAAS,IACTiZ,IAAK,WACH,IAAMA,EAAM,IAAIC,eAahB,OAZID,EAAIE,QACNF,EAAIE,OAAOlQ,iBACT,WACA,SAAA3N,GACE,GAAIA,EAAE8d,iBAAkB,CACtB,IAAMf,EAAUgB,KAAKC,MAAOhe,EAAEie,OAASje,EAAE+P,MAAS,KAClD5O,EAAK2b,yBAAyBP,EAAKI,IAAKI,MAG5C,GAGGY,GAETnO,QAAS,SAAArI,GAAO,IAAA+W,EAEsB/W,EAAIC,KAAK,GAA5B+W,GAFHD,EAEN7V,KAFMzC,OAAAgR,GAAA,EAAAhR,CAAAsY,EAAA,WAGC,aAAf/W,EAAI7B,QACF6B,EAAIC,MACJjG,EAAKub,2BAA2BH,EAAKI,IAAKwB,GAE5Cxb,WAAW,WACTxB,EAAK0b,uBAAuBN,EAAKI,IAAK,SACrC,OAELzX,MAAO,SAAAuB,GACc,MAAfA,EAAInB,OACNC,EAAA,EAAQL,MAAR,8CAEAK,EAAA,EAAQL,MAAR,GAAAmB,OAAiBkW,EAAKlU,KAAtB,sCA/CJ9C,EAAA,EAAQL,MAAM,qDA7LS/D,EAqS3Bid,WAAa,WAAM,IAAA5V,EAIbrH,EAAKyG,MAFPwU,EAFe5T,EAEf4T,SACWiC,EAHI7V,EAGf8V,QAAWD,oBAEb,OACErc,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC8Z,GAAD,CAAU/S,oBAAqB,SAAAhD,GAAI,OAAK9E,EAAKgb,SAAWlW,KACxDjE,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACRnH,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAANwD,OAAAuR,OAAA,GAAesD,GAAf,CAAwC9Z,IAAK,SAAUyI,MAAO,iBAC3DgT,EAASva,QAAUwc,EAAsB,KACxCrc,EAAAC,EAAAC,cAAC+Z,GAAD,CACEsC,OAAQ,6BACRlW,KAAM,QACN6B,UAAU,EACVsU,gBAAgB,EAChBC,cAAetd,EAAK8b,oBAEpBjb,EAAAC,EAAAC,cAAA,KAAGc,UAAU,wBACXhB,EAAAC,EAAAC,cAAA2B,EAAA,GAAMG,KAAK,WAEbhC,EAAAC,EAAAC,cAAA,KAAGc,UAAU,mBAAb,kFACAhB,EAAAC,EAAAC,cAAA,KAAGc,UAAU,mBAAb,0IAKH7B,EAAKud,yBA9Tdvd,EAAKyG,MAAQ,CACX1E,UAAMgD,EACNoY,QAAS,CACPD,oBAAqB,IAEvBzR,SAAS,EACTxF,UAAMlB,EACNkW,SAAU,GACVtU,SAAU,GACV6W,kBAAczY,EACd6W,QAAS,EACT5D,WAAW,GAbYhY,mFAiBP,IAAAW,EAAAC,KAElBA,KAAK6c,WAELrR,GACE,WACEzL,EAAK4F,SAAS,CAAEyR,WAAW,KAE7B,WACErX,EAAK4F,SAAS,CAAEyR,WAAW,qDAO/BjL,wCAGS,IAAA3F,EAAAxG,KAEHxB,EADYwB,KAAKX,MAAfoC,MACSmD,OAAN,GACLzD,EAAO3C,EAAK,OAAS,MAC3BwB,KAAK2F,SAAS,CAAExE,OAAM0J,SAAS,GAAQ,WAExB,SAAT1J,EACF8D,EAAKe,IAAL,YAAA1B,OAAqB9F,IAClB2G,KAAK,SAAAC,GACJ,IAAMC,EAAOD,EAAIC,KAAKA,KACtBmB,EAAK4T,UACH5T,EAAK4T,SAAS/a,MAAM6E,KAAKuB,eAAzB5B,OAAAgB,EAAA,EAAAhB,CAAA,GACKwB,EADL,CAEEiV,aAAcjV,EAAKiV,aACfpL,KAAO7J,EAAKiV,aAAc,mBAC1BnW,EACJoW,eAAgBlV,EAAKkV,eACjBrL,KAAO7J,EAAKkV,eAAgB,gBAC5BpW,KAGR,IAAMkW,EAA8BhV,EAAKmS,YAAYhY,IACnD,SAACsd,GAAD,MAAgC,CAC9BlC,IAAKkC,EAAWte,GAChB8H,KAAMwW,EAAWpC,QACjBA,QAASoC,EAAWpC,QACpBD,QAASqC,EAAWrC,QACpBxY,KAAM6a,EAAW7a,KACjBkR,KAAM2J,EAAW3J,KACjB5P,OAAQ,UAGZiD,EAAKb,SAAS,CACZkF,SAAS,EACTxF,OACAgV,WACAuC,aAAcvX,EAAKL,SAGtBM,MAAM,SAAAnC,MAES,QAAThC,IACTqF,EAAK4T,UACH5T,EAAK4T,SAAS/a,MAAM6E,KAAKuB,eAAe,CAAE+R,YAAa,KACzDhR,EAAKb,SAAS,CAAEkF,SAAS,KAG3B5F,EAAKsB,KAAL,kBACGpB,KAAK,SAAAC,GACJoB,EAAKb,SAAS,CAAEI,SAAUX,EAAIC,KAAKA,SAEpCC,MAAM,SAAAZ,qDA2JQ,IAAA6K,EAAAvP,KACnB,OAAOA,KAAK6F,MAAMwU,SAAS7a,IAAI,SAAAgb,GAC7B,OACEva,EAAAC,EAAAC,cAAA4c,GAAA,GAAMne,IAAK4b,EAAKI,IAAKzH,KAAM,QAAS/R,MAAO,CAAE4b,UAAW,QACtD/c,EAAAC,EAAAC,cAACga,GAAD,CACEtb,MACEoB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEsF,QAAS,SACrBzG,EAAAC,EAAAC,cAAA,KACEiB,MAAO,CACLyF,SAAU,EACV8K,SAAU,SACVpK,MAAO,UAGRiT,EAAKlU,MAERrG,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEyF,SAAU,KACtB5G,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACNb,MAAO,CACL2F,MAAO,QACP/E,MAAO,QAETzB,QAAS,WAGP,IAHa,IACL8Z,EAAa9K,EAAK1J,MAAlBwU,SACF4C,EAAM5C,EAASva,OACZod,EAAI,EAAGA,EAAID,EAAKC,IACvB,GAAI7C,EAAS6C,GAAGtC,MAAQJ,EAAKI,IAAK,CAChCP,EAAS8C,OAAOD,EAAG,GACnB,MAGJ3N,EAAK5J,SAAS,CAAE0U,eAGlBpa,EAAAC,EAAAC,cAAA2B,EAAA,GAAMG,KAAM,cAIlBhC,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEY,MAAO,SAArB,GAAAsC,OAAmCkW,EAAKrH,KAAxC,UACiB,SAAhBqH,EAAKjX,QAAqBtD,EAAAC,EAAAC,cAAAid,GAAA,GAAUpC,QAASR,EAAKQ,WAGvDqC,OAAQpd,EAAAC,EAAAC,cAAAkd,GAAA,GAAQC,MAAO,SAAUnK,KAAM,QAASoK,KAAM,+CAyCvD,IACCpc,EAASnB,KAAK6F,MAAd1E,KACR,OACElB,EAAAC,EAAAC,cAACqd,GAAD,KACEvd,EAAAC,EAAAC,cAAA,OACEc,UAAS,YAAAqD,OAActE,KAAK6F,MAAMuR,UAAY,gBAAkB,KAEhEnX,EAAAC,EAAAC,cAAA,OAAKc,UAAU,kBACfhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,kBACfhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,iBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,WAAWG,MAAO,CAAE2F,MAAO,UACxC9G,EAAAC,EAAAC,cAAA,OAAKc,UAAU,iBACbhB,EAAAC,EAAAC,cAAAG,EAAA,GAAQ0G,OAAK,EAAC/E,KAAM,UAAW1B,QAASP,KAAKwE,cACjC,QAATrD,EAAiB,eAAO,iBAG7BlB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,iBACbhB,EAAAC,EAAAC,cAAAG,EAAA,GAAQ2B,KAAM,UAAW1B,QAASP,KAAKoE,cAAvC,oBAORnE,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,QAAUlC,KAAKqc,sBAjW1B/T,IAAMnG,WAuWnBsb,GAAeC,aAAW,CAC9BpX,KAAM,QADaoX,CAElB9S,IAEYxI,eAAWqb,uBCtZlBE,oBAKFC,oLACK,IACC9U,EAAsB9I,KAAKX,MAAM6E,KAAjC4E,kBAER,OADAA,EAAkB,MAEhB7I,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACRnH,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAO,gBAC7ByB,EAAkB,QAAS,CAC1BE,MAAO,CAAC,CAAEC,UAAU,EAAMzF,QAAS,0CADpCsF,CAEE7I,EAAAC,EAAAC,cAAA0d,GAAA,UAEL5d,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAO,gBAC7ByB,EAAkB,QAAS,CAC1BE,MAAO,CAAC,CAAEC,UAAU,EAAMzF,QAAS,0CADpCsF,CAEE7I,EAAAC,EAAAC,cAAC2Z,GAAD,QAEL7Z,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,gBAAiByI,MAAO,sBACrCyB,EAAkB,gBAAiB,CAClCE,MAAO,CAAC,CAAE2B,IAAK,GAAInH,QAAS,4CAD7BsF,CAEE7I,EAAAC,EAAAC,cAAA0H,EAAA,UAEL5H,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,iBAAkByI,MAAO,4BACtCyB,EAAkB,iBAAlBA,CACC7I,EAAAC,EAAAC,cAACwd,GAAD,CAAavc,MAAO,CAAEmG,MAAO,QAAU6H,OAAQ,cAGnDnP,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,UAAWyI,MAAO,4BAC/ByB,EAAkB,UAAlBA,CACC7I,EAAAC,EAAAC,cAAA0Z,GAAA,GAAYzY,MAAO,CAAEmG,MAAO,QAAU6H,OAAQ,iBAGlDnP,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAO,gBAC5ByB,EAAkB,OAAQ,CACzBE,MAAO,CAAC,CAAE2B,IAAK,IAAKnH,QAAS,uCAD9BsF,CAEE7I,EAAAC,EAAAC,cAAA0H,EAAA,EAAOmS,SAAP,gBAlCa7X,aAyCX2b,GAAA3W,EAAA,EAAK3E,QAAL,CAAcob,ICwBdA,eA5Db,SAAAA,EAAYve,GAAO,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAA4d,IACjBxe,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAA+Z,GAAA3Z,KAAAjE,KAAMX,KAFR6E,UAA2DC,EAGzD/E,EAAKyG,MAAQ,CACXR,UAAMlB,GAHS/E,mFASjBY,KAAK+d,8CAQI,IACD1Y,EAASrF,KAAK6F,MAAdR,KACR,GAAIrF,KAAKkE,KAAM,KAAA8Z,EAC2Bhe,KAAKkE,KAAK7E,MAAM6E,KAAhDuB,EADKuY,EACLvY,eAAgBsL,EADXiN,EACWjN,YACxB,GAAI1L,EAAM,KAEN7G,EAOE6G,EAPF7G,GACAoI,EAMEvB,EANFuB,MACAqX,EAKE5Y,EALF4Y,MACAC,EAIE7Y,EAJF6Y,cACA3D,EAGElV,EAHFkV,eACA4D,EAEE9Y,EAFF8Y,QACAC,EACE/Y,EADF+Y,KAEF3Y,EAAe,CACbjH,KACAoI,QACAqX,QACAC,gBACA3D,eAAgBA,EACZrL,KAAOqL,EAAgB,gBACvBpW,EACJga,QAASA,EAAUjP,KAAOiP,EAAS,mBAAgBha,EACnDia,cAGFrN,sCAKG,IAAAhR,EAAAC,KACP,OACEC,EAAAC,EAAAC,cAAC2d,GAAD,CACE5W,oBAAqB,SAAAhD,GACnBnE,EAAKmE,KAAOA,EACZnE,EAAKV,MAAM6H,oBAAoBhD,yDAzCPuV,EAAWC,GAEzC,MAAO,CAAErU,KADQoU,EAATpU,aAfclD,aCsDXkc,uBAnDb,SAAAA,EAAYhf,GAAO,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAAqe,IACjBjf,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAAwa,GAAApa,KAAAjE,KAAMX,KAORif,YAAc,SAAArgB,GACZmB,EAAKuG,SAAS,CAAEkF,SAAS,EAAM0T,SAAS,IACxCnf,EAAKC,MAAMkB,QAAQtC,GAFF,IAGTud,EAAQpc,EAAKC,MAAbmc,IACFI,EAAM,IAAIC,eAChBD,EAAI4C,KAAK,MAAOhD,GAAK,GACrBI,EAAI6C,aAAe,OACnB7C,EAAI8C,OAAS,WACX,GAAmB,MAAf9C,EAAIrY,OAAgB,CACtB,IAAMob,EAAO/C,EAAIvY,SACXub,EAAUC,OAAOC,IAAIC,gBAAgBJ,GAC3Cvf,EAAKC,MAAM2f,OAAOJ,GAOlBxf,EAAKuG,SAAS,CAAEkF,SAAS,EAAO0T,SAAS,SAEzC/a,EAAA,EAAQL,MAAMyY,EAAIqD,aAGtBrD,EAAIsD,QA7BJ9f,EAAKyG,MAAQ,CACXgF,SAAS,EACT0T,SAAS,GAJMnf,wEAkCV,IAAA6Z,EACsBjZ,KAAKX,MAA1BqP,EADDuK,EACCvK,KAAM6O,EADPtE,EACOsE,KAAMtb,EADbgX,EACahX,KADbwE,EAEsBzG,KAAK6F,MAA1BgF,EAFDpE,EAECoE,QAAS0T,EAFV9X,EAEU8X,QACjB,OACEte,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAMA,EACN4I,QAASA,EACT2D,SAAU+P,EACVhB,KAAMA,EACNhd,QAASP,KAAKse,aAEbzT,EAAU,qBAAQ6D,UA9CJpG,IAAMnG,sBCd7Bgd,SAAMC,oBAAoBC,UAA1B,2CAAA/a,OAAiF6a,SAAMG,QAAvF,kBASA,IAAM1V,GAAU,CACd2V,QAAS,SACTC,YAAY,GAGOC,8MACnB5Z,MAAQ,CACN6Z,SAAU,QAGZC,sBAAwB,SAAA7S,GAAkB,IAAf4S,EAAe5S,EAAf4S,SACzBtgB,EAAKuG,SAAS,CAAE+Z,sFAGT,IACCA,EAAa1f,KAAK6F,MAAlB6Z,SACAE,EAAa5f,KAAKX,MAAlBugB,SACR,OACE3f,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC0f,GAAA,SAAD,CACErF,KAAMoF,EACNE,cAAe9f,KAAK2f,sBACpB/V,QAASA,IAERsL,MAAMM,KAAK,IAAIN,MAAMwK,GAAW,SAACK,EAAI7Z,GAAL,OAC/BjG,EAAAC,EAAAC,cAAC0f,GAAA,KAAD,CACEjhB,IAAG,QAAA0F,OAAU4B,EAAQ,GACrB8Z,WAAY9Z,EAAQ,EACpB+Z,WAAY,qBAzBM9d,aCc5BuB,eACFyS,GAAStS,OAAAgB,EAAA,EAAAhB,CAAA,GACVqc,GADU,CAEb9e,MAAO,CAAEkU,OAAQ,UAgBb3C,eACJ,SAAAA,EAAYtT,GAAe,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAA2S,IACzBvT,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAA8O,GAAA1O,KAAAjE,KAAMX,KA8CR8gB,OAAS,SAAAliB,GACPA,EAAEoG,iBACFjF,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,GAA3B,WAjDyBhV,EA4E3BghB,oBAAsB,SAACrT,GACrBC,GAAA,EAAMC,QAAQ,CACZpO,MAAO,4BACPqO,OAAQ,eACRC,WAAY,eACZC,KAAI,eAAA6J,EAAApT,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAAE,SAAAC,IAAA,IAAA6D,EAAA,OAAA/D,EAAApJ,EAAA2J,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACAqD,EAAc,GAClBN,EAAIO,QAAQ,SAAA9O,GAAE,OAAK6O,EAAcA,EAAY/I,OAAZ,OAAAA,OAA0B9F,EAA1B,QACjCyG,EAAKsI,OAAL,kBAAAjJ,OACoB+I,EAAYG,UAAU,EAAGH,EAAYvN,OAAS,KAE/DqF,KAAK,SAAAC,GACJ5B,EAAA,EAAQiK,QAAQ,4BAChBrO,EAAKihB,gBAEN/a,MAAM,SAAAZ,MAVL,wBAAAoF,EAAAI,SAAAV,MAAF,yBAAAyN,EAAAzM,MAAAxK,KAAAyK,YAAA,MAjFmBrL,EAuS3B8E,UAA2DC,EAvShC/E,EAwS3BoF,aAAe,WACbpF,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKO,eAAe,SAAC6b,EAAQ3b,GAEzC,IAAIiJ,EADD0S,IAID1S,EAFExO,EAAKyG,MAAM0a,QAEJtb,EAAKsB,KAELtB,EAAKC,IAEhBrB,OAAOuR,OAAOzQ,EAAQ,CAAE6b,WAAYphB,EAAKyG,MAAMR,KAAK7G,KAEpDmG,EAAM,eAAqBA,EAAM,eAC7BA,EAAM,eAAmByK,OAAO,mBAChCjL,EACJQ,EAAM,QAAcA,EAAM,QACtBA,EAAM,QAAYyK,OAAO,mBACzBjL,EACJyJ,EAAM,iBAAmBjJ,GACtBQ,KAAK,SAAAC,GACoB,aAApBA,EAAIC,KAAK9B,QACXnE,EAAKihB,cACL7c,EAAA,EAAQiK,QAAQ,6BAEhBjK,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,WAG1B8B,MAAM,SAAAZ,GACLlB,EAAA,EAAQoU,KAAKlT,EAAIrB,SAASgC,KAAKwI,WArUhBzO,EA2U3BqhB,yBAA2B,WACzBrhB,EAAKuG,SAAS,CAAE+a,iBAAiB,KA5URthB,EAiW3BuhB,yBAA2B,WACzBvhB,EAAKuG,SAAS,CAAEib,aAAa,KAhW7BxhB,EAAKyG,MAAQ,CACXgF,SAAS,EACTxF,KAAM,GACNgV,SAAU,GACVwG,kBAAc1c,EACduc,iBAAiB,EACjBH,aAASpc,EACTyc,aAAa,EACbhB,cAAUzb,GAVa/E,mFAezBY,KAAKqgB,oDAGO,IAAAtgB,EAAAC,KAENxB,EADYwB,KAAKX,MAAfoC,MACSmD,OAAN,GACX5E,KAAK2F,SAAS,CAAEkF,SAAS,EAAM6V,iBAAiB,GAAS,WACvDzb,EAAKe,IAAL,YAAA1B,OAAqB9F,IAClB2G,KAAK,SAAAC,GACJ,IAAMC,EAAOD,EAAIC,KAAKA,KAChBgV,EAAWhV,EAAKmS,YAAYhY,IAAI,SAAAsd,GAAU,MAAK,CACnDlC,IAAKkC,EAAWte,GAChB2U,KAAM,IACN7M,KAAMwW,EAAWpC,QACjBzY,KAAM,QACNsB,OAAQ,OACRF,SAAU,CACRE,OAAQ,WACR8B,KAAM,CACJ,CACEqV,QAASoC,EAAWpC,QACpBD,QAASqC,EAAWrC,cAK5B1a,EAAK4F,SAAS,CAAEkF,SAAS,EAAOxF,OAAMgV,eAEvC/U,MAAM,SAAAnC,gDASG,IAAAqD,EAAAxG,KACd,OACEC,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,MAAOmR,KAAM,IACjCpT,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAE2F,MAAO,UACpB9G,EAAAC,EAAAC,cAAAG,EAAA,GACEW,UAAW,gBACXgB,KAAM,UACN1B,QAAS,SAAAsL,GACPA,EAAMxH,iBADU,IAGV7F,EADYgI,EAAKnH,MAAfoC,MACSmD,OAAN,GACX4B,EAAKnH,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,GAA3B,UAAA9P,OAA8C9F,MAPlD,gBAYAyB,EAAAC,EAAAC,cAAAG,EAAA,GAAQ2B,KAAM,UAAW1B,QAASP,KAAKmgB,QAAvC,0DA4BQ,IAAA5Q,EAAAvP,KAAAyG,EACsBzG,KAAK6F,MAAjCgF,EADMpE,EACNoE,QAASxF,EADHoB,EACGpB,KAAMgV,EADT5T,EACS4T,SACvB,OAAQxP,GAAWxF,EACjBpF,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACRnH,EAAAC,EAAAC,cAAAgY,GAAA,GAAKC,OAAQ,IACXnY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BAClChC,EAAKyb,cAGV7gB,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAM,4BAC3BhC,EAAKL,KAAOK,EAAKL,KAAKsB,KAAO,MAIpCrG,EAAAC,EAAAC,cAAAgY,GAAA,GAAKC,OAAQ,IACXnY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,UAAWyI,MAAM,4BAC9BhC,EAAK0b,UAGV9gB,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BAClChC,EAAK2b,eAIZ/gB,EAAAC,EAAAC,cAAAgY,GAAA,GAAKC,OAAQ,IACXnY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BAClChC,EAAKuQ,cAGV3V,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,eAAgByI,MAAM,wCACnChC,EAAKiV,gBAIZra,EAAAC,EAAAC,cAAAgY,GAAA,GAAKC,OAAQ,IACXnY,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,sBAC5BhC,EAAK4Y,QAGVhe,EAAAC,EAAAC,cAAAkY,GAAA,EAASlC,GACPlW,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAO,gBACnChC,EAAK+Y,QAIZne,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAANwD,OAAAuR,OAAA,GAAesD,GAAf,CAAwC9Z,IAAK,SAAUyI,MAAO,iBAC3DgT,EAAS7a,IAAI,SAACgb,EAAMtU,GAAP,OACZjG,EAAAC,EAAAC,cAAA,OAAKvB,IAAKsH,GACRjG,EAAAC,EAAAC,cAAAG,EAAA,GACE1B,IAAG,UAAA0F,OAAYkW,EAAKI,KACpBpc,GAAIgc,EAAKI,IACT2C,KAAM,aACNtb,KAAM,OACNwV,KAAI,GAAAnT,OAAKjC,EAAL,qBAAAiC,OACFkW,EAAKI,IADH,gBAAAtW,OAEW5D,eAAeuC,QAAQ,gBAErCuX,EAAKlU,MAERrG,EAAAC,EAAAC,cAAC8gB,GAAD,CACEriB,IAAG,YAAA0F,OAAckW,EAAKI,KACtBY,IAAG,GAAAlX,OAAKjC,EAAL,qBAAAiC,OACDkW,EAAKI,IADJ,gBAAAtW,OAEY5D,eAAeuC,QAAQ,eACtCsa,KAAM,MACNtb,KAAM,UACNyM,KAAM,eACNnO,QAAS,SAAAtC,GAAC,OAAIsR,EAAK5J,SAAS,CAAEib,aAAa,KAC3C5B,OAAQ,SAAAY,GAAQ,OAAIrQ,EAAK5J,SAAS,CAAEia,qBAO9C3f,EAAAC,EAAAC,cAAA+S,GAAA,GAAMC,KAAM,kDAIA,IAAAzC,EAAA1Q,KAAAwP,EAKVxP,KAAK6F,MAHPgF,EAFY2E,EAEZ3E,QACAxF,EAHYmK,EAGZnK,KACQ6b,EAJI1R,EAIZnK,KAAQ6b,SAEJrR,EAAU,CAAChM,OAAAgB,EAAA,EAAAhB,CAAA,GAEV8U,GAFS,CAGZ9Z,MAAO,eACPoQ,UAAW,QACXrQ,IAAK,QACLgQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,UAP3B1D,OAAAgB,EAAA,EAAAhB,CAAA,GAWT8U,GAXS,CAYZ9Z,MAAO,eACPoQ,UAAW,QACXrQ,IAAK,UAdOiF,OAAAgB,EAAA,EAAAhB,CAAA,GAiBT8U,GAjBS,CAkBZ9Z,MAAO,qBACPoQ,UAAW,gBACXrQ,IAAK,kBApBOiF,OAAAgB,EAAA,EAAAhB,CAAA,GAuBT8U,GAvBS,CAwBZ9Z,MAAO,2BACPoQ,UAAW,iBACXrQ,IAAK,mBA1BOiF,OAAAgB,EAAA,EAAAhB,CAAA,GA6BT8U,GA7BS,CA8BZ9Z,MAAO,2BACPoQ,UAAW,UACXrQ,IAAK,YAhCOiF,OAAAgB,EAAA,EAAAhB,CAAA,GAmCT8U,GAnCS,CAoCZ9Z,MAAO,eACPoQ,UAAW,OACXrQ,IAAK,SAtCOiF,OAAAgB,EAAA,EAAAhB,CAAA,GAyCT8U,GAzCS,CA0CZ9Z,MAAO,eACPoQ,UAAW,YACXrQ,IAAK,YACL6P,OAAQ,SAACC,EAAMC,GACb,OACE1O,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAAS,SAAAsL,GACP6E,EAAK/K,SAAS,CAAE+a,iBAAiB,EAAMH,QAAS5R,MAGjD,gBAEH1O,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAASmQ,EAAK0P,oBAAoBlU,KAAKwE,EAAM,CAAC/B,EAAOnQ,MAFvD,qBASN2iB,EAAM,EAEV,OADAD,GAAYA,EAAS5T,QAAQ,SAAA8T,GAAI,OAAKD,GAAYC,EAAKnD,QAC/CpT,EAoCN5K,EAAAC,EAAAC,cAAA+S,GAAA,GAAMC,KAAM,UAnCZlT,EAAAC,EAAAC,cAAAsP,GAAA,GACEI,QAASA,EACTE,WAAYmR,EACZxR,OAAQ,KACRyD,KAAM,QACNkO,UAAQ,EACRrR,YAAY,EACZnR,MAAO,kBACLoB,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEsF,QAAS,OAAQC,WAAY,WACzC1G,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEiS,KAAM,IAClBpT,EAAAC,EAAAC,cAAA,iCAEFF,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEiS,KAAM,IAClBpT,EAAAC,EAAAC,cAAA,+BAAAmE,OAAW6c,KAEblhB,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEiS,KAAM,IAClBpT,EAAAC,EAAAC,cAAA,qCAAAmE,QACE0X,KAAKsF,MAAc,IAANH,EAAa9b,EAAK4Y,MAAS,KAAO,KAC/CsD,QAAQ,GAFV,OAIFthB,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEiS,KAAM,IAClBpT,EAAAC,EAAAC,cAAAG,EAAA,GACEc,MAAO,CAAE2F,MAAO,SAChB9E,KAAM,QACN1B,QAAS,WACPmQ,EAAK/K,SAAS,CAAE+a,iBAAiB,EAAMH,aAASpc,MAJpD,kEA0DS,IAAAqd,EAAAxhB,KAAA2Q,EACkB3Q,KAAK6F,MAAlC6a,EADW/P,EACX+P,gBAAiBH,EADN5P,EACM4P,QACzB,OACEtgB,EAAAC,EAAAC,cAAA6M,GAAA,GACEnO,MAAM,iCACN+R,QAAS8P,EACT7P,SAAU7Q,KAAKygB,yBACfrT,KAAMpN,KAAKwE,aACXid,gBAAc,GAEdxhB,EAAAC,EAAAC,cAACuhB,GAAD,CACErc,KAAMkb,EACNrZ,oBAAqB,SAAAhD,GAAI,OAAKsd,EAAKtd,KAAOA,mDAU7B,IACX0c,EAAgB5gB,KAAK6F,MAArB+a,YACAhB,EAAa5f,KAAK6F,MAAlB+Z,SACR,OACE3f,EAAAC,EAAAC,cAAA6M,GAAA,GACEnO,MAAM,eACN0I,MAAO,QACPqJ,QAASgQ,EACT/P,SAAU7Q,KAAK2gB,yBACf9I,OAAQ,KACR4J,gBAAc,GAEdxhB,EAAAC,EAAAC,cAACwhB,GAAD,CAAc/B,SAAUA,sCAM5B,OACE3f,EAAAC,EAAAC,cAACyhB,GAAD,KACE3hB,EAAAC,EAAAC,cAAA,OACEiB,MAAO,CACLc,OAAQ,eACRwE,QAAS,OACTC,WAAY,WAGb3G,KAAKyY,iBAERxY,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,QACnBlC,KAAKsT,gBACLtT,KAAK6hB,iBAER5hB,EAAAC,EAAAC,cAAA,WAAMH,KAAK8hB,sBACX7hB,EAAAC,EAAAC,cAAA,WAAMH,KAAK+hB,8BAxYAzZ,IAAMnG,WA8YVC,eAAWuQ,ICjbbyB,GAAU,aAEfC,aAMF2N,oLAEF,OACE/hB,EAAAC,EAAAC,cAAAuU,EAAA,OAEEzU,EAAAC,EAAAC,cAAC8hB,GAAD,CAAO1a,MAAO,IACdtH,EAAAC,EAAAC,cAAAuU,EAAA,OACEzU,EAAAC,EAAAC,cAAA,OAAKc,UAAU,kBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,wBACbhB,EAAAC,EAAAC,cAACuT,EAAA,EAAD,KACEzT,EAAAC,EAAAC,cAACwT,EAAA,EAAD,KACE1T,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CACE/T,KAAMwU,GACNR,OAAO,EACPC,GAAE,GAAAvP,OAAK8P,GAAL,WAEJnU,EAAAC,EAAAC,cAAC+hB,GAAD,CACEtiB,KAAI,GAAA0E,OAAK8P,GAAL,SACJ+N,WAAY,CAAC,iBAAkB,uBAC/BrO,UAAWC,KAEb9T,EAAAC,EAAAC,cAAC+hB,GAAD,CACEtiB,KAAI,GAAA0E,OAAK8P,GAAL,aACJ+N,WAAY,iBACZrO,UAAWG,KAEbhU,EAAAC,EAAAC,cAAC+hB,GAAD,CACEtiB,KAAI,GAAA0E,OAAK8P,GAAL,QACJ+N,WAAY,gBACZrO,UAAWG,KAEbhU,EAAAC,EAAAC,cAAC+hB,GAAD,CACEtiB,KAAI,GAAA0E,OAAK8P,GAAL,aACJ+N,WAAY,mBACZrO,UAAWI,KAEbjU,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CACE/T,KAAI,GAAA0E,OAAK8P,GAAL,OACJP,GAAE,GAAAvP,OAAK8P,GAAL,wBAtCH9L,IAAMnG,WAkDVC,eAAW4f,IClElBte,+BAEF0D,GAAiB,CACrBmB,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAqBV2Z,2LAEF,OACEniB,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAAAC,GACC,OACEd,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACRnH,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,WAAYyI,MAAM,sBAC/BtG,EAAS6R,UAEZ3S,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,gBAC5BtG,EAAS8R,OAEZ5S,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,QAASyI,MAAM,gBAC5BtG,EAAS+R,OAEZ7S,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAM,gBAC3BtG,EAASiE,KAAOjE,EAASiE,KAAKsB,KAAO,wCAUlD,OACErG,EAAAC,EAAAC,cAAA,OAAKc,UAAU,kBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,wBACbhB,EAAAC,EAAAC,cAAAsT,EAAA,GAAY4O,UAAW,KACrBpiB,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,uCACAJ,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,iCACAJ,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,kCAEFJ,EAAAC,EAAAC,cAACmiB,GAAD,KACEriB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,qBAAqBjB,KAAKsT,2BApClChL,IAAMnG,WA4CVC,eAAWggB,ICvElB1e,eAEF0D,GAAiB,CACrBmB,SAAU,CACRC,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,IAEdE,WAAY,CACVH,GAAI,CAAEC,KAAM,IACZC,GAAI,CAAED,KAAM,MAIVJ,GAAqB,CACzBM,WAAY,CACVH,GAAI,CACFC,KAAM,EACNG,OAAQ,GAEVF,GAAI,CACFD,KAAM,EACNG,OAAQ,KAWR2Z,eAGJ,SAAAA,EAAYljB,GAAO,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAAuiB,IACjBnjB,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAA0e,GAAAte,KAAAjE,KAAMX,KAHR6E,UAAkDC,EAE/B/E,EAOnBoF,aAAe,SAAAvG,GACbA,EAAEoG,iBACFjF,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKO,eAAe,SAACC,EAAK8d,GACxC,IAAK9d,EAAK,KACAlG,EAA8BgkB,EAA9BhkB,GAAIikB,EAA0BD,EAA1BC,YAAa3d,EAAa0d,EAAb1d,SACnBH,EAAS,CACbnG,KACAikB,YAAa1d,IAAI0d,GACjB3d,SAAUC,IAAID,IAEhBG,EAAKsB,KAAK,mBAAoB5B,GAC3BQ,KAAK,SAAAC,GACoB,aAApBA,EAAIC,KAAK9B,QACXC,EAAA,EAAQiK,QAAQ,gEAChB/M,eAAeC,WAAW,UAC1BvB,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,GAA3B,cAEA5Q,EAAA,EAAQL,MAAMiC,EAAIC,KAAK7B,WAG1B8B,MAAM,SAAAZ,GACLlB,EAAA,EAAQL,MAAMuB,EAAIrB,SAASgC,KAAK7B,eA3B1CpE,EAAKyG,MAAQ,CACXrH,QAAI2F,GAHW/E,+EAmCH,IAAAW,EAAAC,KACd,OACEC,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAAAC,GAAY,IACHvC,EAAOuC,EAAPvC,GAMR,OALKuB,EAAK8F,MAAMrH,GAGduB,EAAKmE,MAAQnE,EAAKmE,KAAK7E,MAAM6E,KAAKuB,eAAe,CAAEjH,OAFnDuB,EAAK4F,SAAS,CAAEnH,OAKhByB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACuiB,GAAD,CACExb,oBAAqB,SAAChD,GACpBnE,EAAKmE,KAAOA,KAGhBjE,EAAAC,EAAAC,cAAAgH,EAAA,EAAUkB,GACRpI,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,KACEJ,EAAAC,EAAAC,cAAAG,EAAA,GAAQ0G,OAAK,EAAC/E,KAAM,UAAW1B,QAASR,EAAKyE,cAC1C,sDAYjB,OACEvE,EAAAC,EAAAC,cAAA,OAAKc,UAAU,kBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,wBACbhB,EAAAC,EAAAC,cAAAsT,EAAA,GAAY4O,UAAW,KACrBpiB,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,uCACAJ,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,iCACAJ,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,kCAEFJ,EAAAC,EAAAC,cAACwiB,GAAD,KACE1iB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,qBAAqBjB,KAAKsT,2BA/EhChL,IAAMnG,WAuFZC,eAAWmgB,IAMpB1Z,oLACK,IAAAoC,EACsCjL,KAAKX,MAAM6E,KAAhD4E,EADDmC,EACCnC,kBAAmBoC,EADpBD,EACoBC,cAC3B,OACEjL,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACP0B,EAAkB,KAAlBA,CAAwB7I,EAAAC,EAAAC,cAAA0H,EAAA,GAAOkB,QAAM,KACtC9I,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,sBAClCyB,EAAkB,cAAe,CAChCE,MAAO,CACL,CACEC,UAAU,EACVzF,QAAS,uCACT0F,QAAS,cAGbwB,gBAAiB,UARlB5B,CASE7I,EAAAC,EAAAC,cAAA0H,EAAA,GAAO5F,KAAM,eAElBhC,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,WAAYyI,MAAM,sBAC/ByB,EAAkB,WAAY,CAC7BE,MAAO,CACL,CACEC,UAAU,EACVzF,QAAS,uDACT0F,QAAS,cAGbwB,gBAAiB,UARlB5B,CASE7I,EAAAC,EAAAC,cAAA0H,EAAA,GAAO5F,KAAM,WAAYuF,YAAa,qCAE3CvH,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,kBAAmByI,MAAM,4BACtCyB,EAAkB,kBAAmB,CACpCE,MAAO,CACL,CACExF,QAAS,yDACT2F,UAAS,eAAAC,EAAAvF,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAAE,SAAAC,EAAOC,EAAMrD,EAAOsD,EAAUC,EAAQC,GAAtC,OAAAN,EAAApJ,EAAA2J,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACQkB,EAAc,cACd9E,EACfsD,EAAS,SAETA,IALO,wBAAAI,EAAAI,SAAAV,MAAF,gBAAAW,EAAAC,EAAAC,EAAAC,EAAAC,GAAA,OAAAnB,EAAAoB,MAAAxK,KAAAyK,YAAA,KAUbC,gBAAiB,UAdlB5B,CAeE7I,EAAAC,EAAAC,cAAA0H,EAAA,GAAO5F,KAAM,WAAYuF,YAAa,yDA9C1Bc,IAAMnG,WAqDzB8E,GAAoBE,EAAA,EAAK3E,OAAO,CACpC8D,KAAM,WADkBa,CAEvB0B,IChLUuL,GAAU,gBAEfC,aAEFuO,GAAW,CAAC,QAAS,YASrBC,8MACJhd,MAAgB,CACd0O,WAAW,EACX7U,aAAc,MAmBhB8U,eAAiB,SAAAjT,GAAS,IAChB3C,EAAQ2C,EAAR3C,IACRQ,EAAKuG,SAAS,CAAEjG,aAAc,CAACd,KAC/BQ,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,IAA3B9P,OAAwC1F,OAG1C6V,gBAAkB,WAChBrV,EAAKuG,SAAS,CACZ4O,WAAYnV,EAAKyG,MAAM0O,gGAvBzB,IAAM3V,EAAMoB,KAAKf,0BACjBe,KAAKwU,eAAe,CAAE5V,0DAGE,IAChBO,EAAaa,KAAKX,MAAMC,SAAxBH,SACFO,EAAekjB,GAASjjB,OAAO,SAAAf,GACnC,OAAOO,EAASU,QAAQjB,IAAQ,IAElC,OAAIc,EAAaI,OAAS,EACjB8iB,GAAS,GAEXljB,EAAa,oCAeb,IACCA,EAAiBM,KAAK6F,MAAtBnG,aACR,OACEO,EAAAC,EAAAC,cAAAuU,EAAA,OACEzU,EAAAC,EAAAC,cAAC2iB,GAAD,CACEvb,MAAO,IACPrG,MAAM,OACNqT,UAAWvU,KAAK6F,MAAM0O,UACtBI,eAAgB,IAEhB1U,EAAAC,EAAAC,cAAA,QAAMc,UAAU,YAAYV,QAASP,KAAKyU,iBACxCxU,EAAAC,EAAAC,cAAA2B,EAAA,GACEV,MAAO,CAAEc,OAAQ,cACjBD,KAAMjC,KAAK6F,MAAM0O,UAAY,cAAgB,eAGjDtU,EAAAC,EAAAC,cAAAC,EAAA,GACEV,aAAcA,EACdyB,KAAK,SACLD,MAAM,OACNI,SAAUtB,KAAKwU,gBAEfvU,EAAAC,EAAAC,cAAAC,EAAA,EAAMC,KAAN,CAAWY,UAAU,aAAarC,IAAI,SACpCqB,EAAAC,EAAAC,cAAA2B,EAAA,GAAMG,KAAK,SACXhC,EAAAC,EAAAC,cAAA,yCAEFF,EAAAC,EAAAC,cAAAC,EAAA,EAAMC,KAAN,CAAWY,UAAU,aAAarC,IAAI,YACpCqB,EAAAC,EAAAC,cAAA2B,EAAA,GAAMG,KAAK,WACXhC,EAAAC,EAAAC,cAAA,2CAINF,EAAAC,EAAAC,cAAAuU,EAAA,OACEzU,EAAAC,EAAAC,cAACuT,EAAA,EAAD,KACEzT,EAAAC,EAAAC,cAACwT,EAAA,EAAD,KACE1T,EAAAC,EAAAC,cAAC+hB,GAAD,CAActiB,KAAI,GAAA0E,OAAK8P,GAAL,SAAwBN,UAAWsO,KACrDniB,EAAAC,EAAAC,cAAC+hB,GAAD,CAActiB,KAAI,GAAA0E,OAAK8P,GAAL,YAA2BN,UAAWyO,gBAtE3Cja,IAAMnG,WA+ElBC,eAAWygB,yCCpGlBlf,cA+FOof,eA3Eb,SAAAA,EAAY1jB,GAAO,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAA+iB,IACjB3jB,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAAkf,GAAA9e,KAAAjE,KAAMX,KAaRqW,UAAY,SAAAtP,GACV,IAAMsG,EAAe,CACnBF,SAAU,IACVC,QAAS,EACTG,WAAY,CAAEoW,gBAAiB5c,GAC/B8H,QAAS,CAAE0E,SAAU,QAEvBxT,EAAKuG,SAAS,CAAEN,KAAM,GAAIwF,SAAS,IACnCjK,WAAW,WACTqE,EAAKsB,KAAL,eAA0BmG,GAAcvH,KAAK,SAAAC,GAC3C,IAAIC,EAAO,GAEW,aAApBD,EAAIC,KAAK9B,QACT6B,EAAIC,KAAKA,KAAK4I,QAAQnO,OAAS,IAE/BuF,EAAOD,EAAIC,KAAKA,KAAK4I,QAAQzO,IAAI,SAAAyjB,GAAO,MAAK,CAC3CvU,KAAMuU,EAAQrQ,SACdxM,MAAO6c,EAAQrQ,aAGnBxT,EAAKuG,SAAS,CAAEN,OAAMwF,SAAS,OAEhC,MApCczL,EAuCnByW,aAAe,SAAAzP,GAAS,IACd4B,EAAa5I,EAAKC,MAAlB2I,SACR5I,EAAKuG,SAAS,CACZS,QACAf,KAAM,GACNwF,SAAS,IAEX7C,GAAYA,EAAS5B,IA5CrBhH,EAAKsW,UAAYI,KAAS1W,EAAKsW,UAAW,KAC1CtW,EAAKyG,MAAQ,CACXtE,MAAO,CACLqL,WAAY,CAAEmJ,OAAQ,IACtB7H,QAAS,IAEX7I,KAAM,GACNe,MAAO,GACPyE,SAAS,GAVMzL,wEAiDV,IAAAqH,EAC0BzG,KAAK6F,MAA9BgF,EADDpE,EACCoE,QAASxF,EADVoB,EACUpB,KAAMe,EADhBK,EACgBL,MACvB,OACEnG,EAAAC,EAAAC,cAAAmH,EAAA,GACElB,MAAOA,EACPoB,YAAY,2BACZ+G,gBAAiB1D,EAAU5K,EAAAC,EAAAC,cAAA+S,GAAA,GAAMC,KAAK,UAAa,KACnDvL,cAAc,EACdH,YAAU,EACVuO,SAAUhW,KAAK0V,UACf1N,SAAUhI,KAAK6V,aACfxH,WAAW,EACX3G,YAAU,EACVtG,MAAO,CAAEmG,MAAO,UAGflC,EAAK7F,IAAI,SAAAyW,GAAC,OACThW,EAAAC,EAAAC,cAAC+iB,GAAD,CAAQtkB,IAAKqX,EAAE7P,MAAOA,MAAO6P,EAAE7P,OAC5B6P,EAAEvH,gBApEYpG,IAAMnG,WCCzBuB,wBACAC,cACAwf,cAsCF9W,eACJ,SAAAA,EAAYhN,GAAe,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAAqM,IACzBjN,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAAwI,GAAApI,KAAAjE,KAAMX,KA0BRiN,iBAAmB,WACjBlN,EAAKuG,SAAS,CAAEkF,SAAS,GAAQ,WAAM,IAAApE,EACArH,EAAKyG,MAAlC2G,EAD6B/F,EAC7B+F,SAAUC,EADmBhG,EACnBgG,QAASlL,EADUkF,EACVlF,MACrBmL,EAA0B7I,OAAAgB,EAAA,EAAAhB,CAAA,CAC9B2I,WACAC,WACGlL,GAEL0D,EAAKsB,KAAL,gBAA2BmG,GACxBvH,KAAK,SAAAC,GACJhG,EAAKuG,SAAS,CAAEkF,SAAS,EAAOxF,KAAMD,EAAIC,KAAKA,SAEhDC,MAAM,SAAAnC,GACL/D,EAAKuG,SAAS,CAAEkF,SAAS,SAxCNzL,EA6C3BgkB,cAAgB,WACdne,EAAKe,IAAL,0BACGb,KAAK,SAAAC,GACJhG,EAAKuG,SAAS,CAAE0d,UAAWje,EAAIC,KAAKA,SAErCC,MAAM,SAAAZ,GACLlB,EAAA,EAAQL,MAAM,mEAnDO/D,EAuD3BkkB,8BAAgC,SAAAld,GACPhH,EAAKyG,MAAMtE,MAA1BqL,WACE,SAAexG,EACzBhH,EAAKuG,SAAS,CAAE8G,QAAS,IACzBrN,EAAKkN,oBA3DoBlN,EA8D3BmkB,8BAAgC,SAAAnd,GACPhH,EAAKyG,MAAMtE,MAA1BqL,WACE,KAAWxG,EACrBhH,EAAKuG,SAAS,CAAE8G,QAAS,IACzBrN,EAAKkN,oBAlEoBlN,EAqE3ByN,iBArE2B,eAAAC,EAAAjJ,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAqER,SAAAoN,EAAO5J,GAAP,OAAAzD,EAAApJ,EAAA2J,KAAA,SAAAgN,GAAA,cAAAA,EAAA9M,KAAA8M,EAAA7M,MAAA,OACjBgD,GAAA,EAAMC,QAAQ,CACZpO,MAAO,4BACPqO,OAAQ,eACRC,WAAY,eACZC,KAAI,eAAA6J,EAAApT,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAAE,SAAAC,IAAA,IAAA6D,EAAA,OAAA/D,EAAApJ,EAAA2J,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACAqD,EAAc,GAClBN,EAAIO,QAAQ,SAAA9O,GAAE,OAAK6O,EAAcA,EAAY/I,OAAZ,OAAAA,OAA0B9F,EAA1B,QAF7BsL,EAAAE,KAAA,EAGE/E,EAAKsI,OAAL,YAAAjJ,OACQ+I,EAAYG,UAAU,EAAGH,EAAYvN,OAAS,KAJxD,OAMJ0D,EAAA,EAAQiK,QAAQ,4BAChBrO,EAAKkN,mBAPD,wBAAAxC,EAAAI,SAAAV,MAAF,yBAAAyN,EAAAzM,MAAAxK,KAAAyK,YAAA,KALW,wBAAAoM,EAAA3M,SAAAyM,MArEQ,gBAAAxM,GAAA,OAAA2C,EAAAtC,MAAAxK,KAAAyK,YAAA,GAAArL,EAsF3BokB,4BAA8B,SAAAvlB,GAC5B,IACIwlB,EADArd,EAAQnI,EAAE8N,OAAO3F,MAErB,GAAc,SAAVA,EAAkB,CACpB,IAAIsd,EACJ,OAAQtd,GACN,IAAK,IACHsd,EAAQxU,OACLyU,IAAI,OAAQ,GACZvU,OAAO,uBACV,MACF,IAAK,IACHsU,EAAQxU,OACLyU,IAAI,OAAQ,GACZvU,OAAO,uBACV,MACF,IAAK,IACHsU,EAAQxU,OACLyU,IAAI,SAAU,GACdvU,OAAO,uBACV,MACF,IAAK,IACHsU,EAAQxU,OACLyU,IAAI,SAAU,GACdvU,OAAO,uBAGdqU,EAAkB,CAChBC,QACAE,IAAK1U,OAASE,OAAO,6BAGvBqU,OAAkBtf,EAED/E,EAAKyG,MAAMtE,MAAMqL,WAA5BmJ,OACF,WAAiB0N,EACvBrkB,EAAKuG,SAAS,CAAEke,iBAAkBzd,EAAOqG,QAAS,IAClDrN,EAAKkN,oBAzHLlN,EAAKyG,MAAQ,CACXgF,SAAS,EACTkD,gBAAiB,GACjB+V,QAAS,GACTze,KAAM,CACJ2I,WAAO7J,EACP8J,QAAS,IAEXzB,SAAU,GACVC,QAAS,EACTlL,MAAO,CACLqL,WAAY,CAAEmJ,OAAQ,IACtB7H,QAAS,IAEX6V,UAAW,cACXF,iBAAkB,OAClBR,UAAW,IAlBYjkB,mFAuBzBY,KAAKsM,mBACLtM,KAAKojB,sDAsGO,IACJS,EAAqB7jB,KAAK6F,MAA1Bge,iBAWR,OACE5jB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAAgH,EAAA,EAZmB,CACrBoB,SAAU,CACRE,KAAM,EACNG,OAAQ,GAEVD,WAAY,CACVF,KAAM,GACNG,OAAQ,IAMN3I,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWgH,MAAO,4BAChBpH,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEsF,QAAS,OAAQC,WAAY,WACzC1G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA6jB,GAAA,EAAOC,MAAP,CACE7d,MAAOyd,EACP7b,SAAUhI,KAAKwjB,6BAEfvjB,EAAAC,EAAAC,cAAA6jB,GAAA,EAAOE,OAAP,CACEjjB,UAAU,eACVrC,IAAI,OACJwH,MAAM,QAHR,gBAOAnG,EAAAC,EAAAC,cAAA6jB,GAAA,EAAOE,OAAP,CAAcjjB,UAAU,eAAerC,IAAI,IAAIwH,MAAM,KAArD,sBAGAnG,EAAAC,EAAAC,cAAA6jB,GAAA,EAAOE,OAAP,CAAcjjB,UAAU,eAAerC,IAAI,IAAIwH,MAAM,KAArD,sBAGAnG,EAAAC,EAAAC,cAAA6jB,GAAA,EAAOE,OAAP,CAAcjjB,UAAU,eAAerC,IAAI,IAAIwH,MAAM,KAArD,sBAGAnG,EAAAC,EAAAC,cAAA6jB,GAAA,EAAOE,OAAP,CAAcjjB,UAAU,eAAerC,IAAI,IAAIwH,MAAM,KAArD,0BAQRnG,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWgH,MAAM,sBACfpH,EAAAC,EAAAC,cAACgkB,GAAD,CAAcnc,SAAUhI,KAAKsjB,6EAOrB,IAAAvjB,EAAAC,KAAAwP,EACiBxP,KAAK6F,MAA9Bke,EADQvU,EACRuU,UAAWV,EADH7T,EACG6T,UAWnB,OACEpjB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEsF,QAAS,OAAQC,WAAY,eACzC1G,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEiS,KAAM,MAClBpT,EAAAC,EAAAC,cAAAgH,EAAA,EAde,CACrBoB,SAAU,CACRE,KAAM,EACNG,OAAQ,GAEVD,WAAY,CACVF,KAAM,EACNG,OAAQ,IAQF3I,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWgH,MAAO,4BAChBpH,EAAAC,EAAAC,cAAAmH,EAAA,GACEE,YAAa,qBACbpG,MAAO,CAAEmG,MAAO,SAChBG,YAAU,EACV2G,WAAW,EACXrG,SAAUhI,KAAKujB,+BAEdF,EAAU7jB,IAAI,SAAA4kB,GAAQ,OACrBnkB,EAAAC,EAAAC,cAACkkB,GAAD,CAAQzlB,IAAKwlB,EAAUhe,MAAOge,GAC3BA,SAObnkB,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEiS,KAAM,MAClBpT,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAE2F,MAAO,UACnB9G,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAM,OACN1B,QAAS,kBACPR,EAAK4F,SAAS,CACZoe,UAAWA,OAAY5f,EAAY,kBAItC4f,EAAY,2BAAS,+BAK9B9jB,EAAAC,EAAAC,cAAAmkB,GAAA,GAAUjD,UAAU,EAAO0C,UAAWA,GACpC9jB,EAAAC,EAAAC,cAACgjB,GAAD,CACEvkB,IAAI,cACJwC,MAAO,CAAEmjB,OAAQ,GACjBlW,WAAW,EACXmW,OAAO,IAENxkB,KAAKykB,2DAOE,IAAAje,EAAAxG,KACR+N,EAAoB/N,KAAK6F,MAAzBkI,gBACR,OACE9N,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAAAC,GACC,IAAMmX,EAA2BnX,EAAQ,YAAgBiU,KACvD,SAAAtP,GAAI,MAAgB,kBAAZA,EAAKlH,KAET8Y,EAA8BvW,EAAQ,YAAgBiU,KAC1D,SAAAtP,GAAI,MAAgB,qBAAZA,EAAKlH,KAEf,OACEyB,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,MAAOmR,KAAM,IACjCpT,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAE2F,MAAO,UACnBmR,GACCjY,EAAAC,EAAAC,cAAAG,EAAA,GACEW,UAAU,gBACVgB,KAAK,UACL1B,QAAS,WACPiG,EAAKnH,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,GAA3B,WAJJ,gBAUDkD,GACCrX,EAAAC,EAAAC,cAAAG,EAAA,GACE2B,KAAK,QACLuM,SAAUT,EAAgBjO,OAAS,EACnCS,QAAS,WACPiG,EAAKqG,iBAAiBkB,KAJ1B,uEAmBd,IAAM2W,EAAgB,CACpB9V,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,SAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAC7B5N,MAAO,CACL0N,UAAW,SACX6C,SAAU,SACVC,aAAc,WACdC,WAAY,SACZC,OAAQ,aAGZrD,OAAQ,SAAAC,GAAI,OACVzO,EAAAC,EAAAC,cAAA4R,GAAA,GAASlQ,UAAU,UAAUhD,MAAO6P,GACjCA,KAwDP,MApDgB,CACd,CACE7P,MAAO,eACPD,IAAK,QACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OAAOA,EAAQ,GAEjB0I,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,QAEvCwH,OAAQ,SAACJ,EAAQK,GAAT,MAAuB,CAAE5N,MAAO,CAAE0N,UAAW,aAVzCjL,OAAAgB,EAAA,EAAAhB,CAAA,GAaT6gB,EAbS,CAcZ7lB,MAAO,2BACPoQ,UAAW,OACXrQ,IAAK,SAhBOiF,OAAAgB,EAAA,EAAAhB,CAAA,GAmBT6gB,EAnBS,CAoBZ7lB,MAAO,2BACPoQ,UAAW,SACXrQ,IAAK,WAtBOiF,OAAAgB,EAAA,EAAAhB,CAAA,GAyBT6gB,EAzBS,CA0BZ7lB,MAAO,qBACPoQ,UAAW,WACXrQ,IAAK,aA5BOiF,OAAAgB,EAAA,EAAAhB,CAAA,GA+BT6gB,EA/BS,CAgCZ7lB,MAAO,2BACPoQ,UAAW,SACXrQ,IAAK,SACLgQ,aAAc,SAAAC,GAAM,MAAK,CACvBzN,MAAO,CAAE0N,UAAW,SAAUvH,MAAO,UApC3B1D,OAAAgB,EAAA,EAAAhB,CAAA,GAwCT6gB,EAxCS,CAyCZ7lB,MAAO,2BACPoQ,UAAW,aACXrQ,IAAK,aACL6P,OAAQ,SAACC,EAAMC,EAAQzI,GACrB,OAAOgJ,KAAOP,EAAOQ,YAAYC,OAAO,wBAE1CC,OAAQ,SAACnP,EAAGoP,GACV,OAAOpP,EAAE1B,GAAK8Q,EAAE9Q,6CAOV,IAAA+Q,EAAAvP,KAAA2Q,EACkD3Q,KAAK6F,MAA3DgF,EADI8F,EACJ9F,QAASxF,EADLsL,EACKtL,KAAMmH,EADXmE,EACWnE,SAAUC,EADrBkE,EACqBlE,QAASsB,EAD9B4C,EAC8B5C,gBAClCC,EAAmB3I,EAAnB2I,MAAOC,EAAY5I,EAAZ4I,QACf,OACEhO,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAAAC,GACC,IAGM4O,EAH8B5O,EAAQ,YAAgBiU,KAC1D,SAAAtP,GAAI,MAAgB,qBAAZA,EAAKlH,KAGX,CACEoR,YAAa,OACb7B,kBACA/F,SAAU,SAAA+F,GACRwB,EAAK5J,SAAS,CAAEoI,2BAGpB5J,EACJ,OAAO0G,GAAWxF,EAAK4I,QAAQnO,OAAS,EACtCG,EAAAC,EAAAC,cAAAsP,GAAA,GACEC,OAAQ,SAAAf,GACN,OAAOA,EAAOnQ,IAEhBmR,aAAcA,EACdE,QAASN,EAAKO,eACdC,WAAY9B,EACZpD,QAASA,EACTqH,MAAO,SAACvD,EAAQzI,GACd,MAAO,CACL3F,QAAS,SAAAsL,GACyB,OAA5BA,EAAME,OAAN,SAGJwD,EAAKlQ,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,GAA3B,UAAA9P,OAA8CqK,EAAOnQ,QAI3D2U,KAAM,QACNnD,WAAY,CACVhC,QACAvB,UACAD,WACAyD,gBAAiB,CAAC,KAAM,KAAM,MAC9BC,iBAAiB,EACjByH,iBAAkB,SAAClL,EAASD,GAC1B+C,EAAK5J,SAAS,CAAE8G,QAAS,EAAGD,cAE9B2D,UAAW,SAAAnC,GACT,gBAAA1J,OAAY0J,EAAZ,aAGJhG,SAAU,SAACgI,EAAYI,EAASf,EAAQgB,GAAU,IACxC9O,EAAUgO,EAAK1J,MAAftE,MACAkL,EAAsBuD,EAAtBvD,QAASD,EAAawD,EAAbxD,SACT8D,EAAiBjB,EAAjBiB,MAAO1J,EAAUyI,EAAVzI,MACfrF,EAAM2M,QAAU,GACZoC,GAAS1J,IACXrF,EAAM2M,QAAQ/C,GAAOmF,IAiCvC,SAA6B1J,GAC3B,MAAc,YAAVA,EACK,OAEA,MArCsC2J,CAAoB3J,IAErD2I,EAAK5J,SAAS,CAAE8G,UAASD,aACzB+C,EAAKjD,sBAITrM,EAAAC,EAAAC,cAAAqQ,GAAA,GAAOC,YAAa,gEAQ5B,OACExQ,EAAAC,EAAAC,cAACwkB,GAAD,KACE1kB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,aACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,qBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,6BACZjB,KAAKiR,mBAERhR,EAAAC,EAAAC,cAAA,OAAKc,UAAU,+BACZjB,KAAKkR,mBAERjR,EAAAC,EAAAC,cAAA,OAAKc,UAAU,2BAA2BjB,KAAKmR,yBA7bxC7I,IAAMnG,WA6cVC,mBAAWiK,ICvgBlB3I,eAEFkhB,GAAiB,CACrBnc,KAAM,GACNG,OAAQ,GAGJxB,GAAiB,CACrBmB,SAAU,CACRE,KAAM,EACNG,OAAQ,GAEVD,WAAY,CACVF,KAAM,GACNG,OAAQ,IAwBN+J,eACJ,SAAAA,EAAYtT,GAAe,IAAAD,EAAA,OAAAyE,OAAAC,EAAA,EAAAD,CAAA7D,KAAA2S,IACzBvT,EAAAyE,OAAAE,EAAA,EAAAF,CAAA7D,KAAA6D,OAAAG,EAAA,EAAAH,CAAA8O,GAAA1O,KAAAjE,KAAMX,KAmBR+E,aAAe,SAAAnG,GACbA,EAAEoG,iBACFjF,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,GAA3B,WApBAhV,EAAKyG,MAAQ,CACXgF,SAAS,EACTxF,UAAMlB,GAJiB/E,mFAQP,IAAAW,EAAAC,KAEZxB,EADYwB,KAAKX,MAAfoC,MACSmD,OAAN,GACX5E,KAAK2F,SAAS,CAAEkF,SAAS,GAAQ,WAC/B5F,EAAKe,IAAL,eAAA1B,OAAwB9F,IACrB2G,KAAK,SAAAC,GACJrF,EAAK4F,SAAS,CAAEkF,SAAS,EAAOxF,KAAMD,EAAIC,KAAKA,SAEhDC,MAAM,SAAAnC,gDASG,IAAAsD,EACYzG,KAAK6F,MAAvBgF,EADMpE,EACNoE,QAASxF,EADHoB,EACGpB,KACjB,OAAQwF,GAAWxF,EACjBpF,EAAAC,EAAAC,cAAAgH,EAAA,EAAUC,GACRnH,EAAAC,EAAAC,cAAAgY,GAAA,OACElY,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,OAAQyI,MAAM,4BAC3BhC,EAAKiB,OAGVrG,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,SAAUyI,MAAM,4BAC7BhC,EAAK/G,UAIZ2B,EAAAC,EAAAC,cAAAgY,GAAA,OACElY,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,WAAYyI,MAAM,sBAC/BhC,EAAKwf,WAGV5kB,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,aAAcyI,MAAM,4BACjChC,EAAK8J,cAIZlP,EAAAC,EAAAC,cAAAgY,GAAA,OACElY,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,SAAUyI,MAAM,4BAC7BhC,EAAKgQ,UAIZpV,EAAAC,EAAAC,cAAAgY,GAAA,OACElY,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,KAAMyI,MAAM,kBACzBhC,EAAKyf,KAGV7kB,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,YAAayI,MAAM,aAChChC,EAAK0f,aAIZ9kB,EAAAC,EAAAC,cAAAgY,GAAA,OACElY,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,SAAUyI,MAAM,oBAC7BhC,EAAKuI,SAGV3N,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,MAAOyI,MAAM,OAC1BhC,EAAKmW,OAIZvb,EAAAC,EAAAC,cAAAgY,GAAA,OACElY,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,GACP3kB,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,CAAWzB,IAAK,cAAeyI,MAAM,4BAClChC,EAAK4I,UAGVhO,EAAAC,EAAAC,cAAAkY,GAAA,EAASuM,MAIb3kB,EAAAC,EAAAC,cAAA+S,GAAA,GAAMC,KAAM,2CAKd,OACElT,EAAAC,EAAAC,cAAC6kB,GAAD,KACE/kB,EAAAC,EAAAC,cAAA,OACEiB,MAAO,CACLc,OAAQ,eACRwE,QAAS,OACTC,WAAY,WAGd1G,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,MAAOmR,KAAM,IACjCpT,EAAAC,EAAAC,cAAA,QAAMiB,MAAO,CAAE2F,MAAO,UACpB9G,EAAAC,EAAAC,cAAAG,EAAA,GAAQ2B,KAAM,UAAW1B,QAASP,KAAKoE,cAAvC,mBAMNnE,EAAAC,EAAAC,cAAA,OAAKiB,MAAO,CAAEc,OAAQ,QAAUlC,KAAKsT,yBArH1BhL,IAAMnG,WA2HVC,eAAWuQ,IC3JbyB,GAAU,gBAEfC,aAMF4Q,oLACK,IAEHzR,EAFGpU,EAAAY,KACDJ,EAAOI,KAAKX,MAAMC,SAASH,SAOjC,OALIS,EAAKC,QAAL,GAAAyE,OAAgB8P,GAAhB,WAAsC,EACxCZ,EAAU,eACD5T,EAAKC,QAAL,GAAAyE,OAAgB8P,GAAhB,WAAsC,IAC/CZ,EAAU,gBAGVvT,EAAAC,EAAAC,cAAAuU,EAAA,OAEEzU,EAAAC,EAAAC,cAAC+kB,GAAD,CAAO3d,MAAO,IACdtH,EAAAC,EAAAC,cAAAuU,EAAA,OACEzU,EAAAC,EAAAC,cAAA,OAAKc,UAAU,kBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,wBACbhB,EAAAC,EAAAC,cAAAsT,EAAA,OACExT,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,uCACAJ,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,CACEE,QAAS,kBAAMnB,EAAKC,MAAMmB,QAAQC,KAAnB,GAAA6D,OAA2B8P,OAD5C,4BAKAnU,EAAAC,EAAAC,cAAAsT,EAAA,EAAYpT,KAAZ,KAAkBmT,IAEpBvT,EAAAC,EAAAC,cAACuT,EAAA,EAAD,KACEzT,EAAAC,EAAAC,cAACwT,EAAA,EAAD,KACE1T,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CACE/T,KAAMwU,GACNR,OAAO,EACPC,GAAE,GAAAvP,OAAK8P,GAAL,WAEJnU,EAAAC,EAAAC,cAAC+hB,GAAD,CACEtiB,KAAI,GAAA0E,OAAK8P,GAAL,SACJN,UAAWC,KAEb9T,EAAAC,EAAAC,cAAC+hB,GAAD,CACEtiB,KAAI,GAAA0E,OAAK8P,GAAL,aACJN,UAAWI,KAEbjU,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CACE/T,KAAI,GAAA0E,OAAK8P,GAAL,OACJP,GAAE,GAAAvP,OAAK8P,GAAL,wBA1CA9L,IAAMnG,WAsDbC,eAAW6iB,ICtDpBE,oLAEF,OACEllB,EAAAC,EAAAC,cAACU,GAAYC,SAAb,KACG,SAAAC,GACC,IAAM7B,EAAQ8B,EAAWrB,OAAO,SAAAF,GAC9B,QAAIsB,EAAQ,WACmB,UAAzBA,EAAQ,SACHtB,EAAEX,KAAKa,OAAO,SAAAb,GAAI,MAAa,UAATA,IAAkBgB,OAAS,EAEjDL,EAAEX,KAAKa,OAAO,SAAAb,GAAI,MAAa,WAATA,IAAmBgB,OAAS,KAKzDslB,EAAW,CACf,CACExmB,IAAK,QACLwH,MAAOnG,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAO/U,IAAI,OAAOgB,KAAM,aAAckU,UAAWuR,MAE1D,CACEzmB,IAAK,QACLwH,MAAOnG,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAO/U,IAAI,OAAOgB,KAAM,aAAckU,UAAWwR,MAE1D,CACE1mB,IAAK,WACLwH,MAAOnG,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAO/U,IAAI,UAAUgB,KAAM,gBAAiBkU,UAAWyR,MAEhE,CACE3mB,IAAK,WACLwH,MAAOnG,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAO/U,IAAI,UAAUgB,KAAM,gBAAiBkU,UAAW0R,OAGlE,OACEtmB,EAAMY,OAAS,GACbG,EAAAC,EAAAC,cAACuT,EAAA,EAAD,KACEzT,EAAAC,EAAAC,cAACwT,EAAA,EAAD,KACE1T,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CACE/T,KAAM,QACNgU,OAAO,EACPC,GAAE,QAAAvP,OAAUpF,EAAM,GAAGN,OAEtBwmB,EACEzlB,OAAO,SAAA8lB,GAAC,OAAIvmB,EAAMS,OAAO,SAAAF,GAAC,OAAIA,EAAEb,MAAQ6mB,EAAE7mB,MAAKkB,OAAS,IACxDN,IAAI,SAAAimB,GAAC,OAAIA,EAAErf,mBA5CbkC,IAAMnG,WAuDVC,eAAW+iB,IChEbtkB,WAAcyH,IAAMod,cAA0B,KAsC5CC,8MAnCb9f,MAAQ,CACN0O,WAAW,EACXxT,SAAU,MAYZ0T,gBAAkB,WAChBrV,EAAKuG,SAAS,CACZ4O,WAAYnV,EAAKyG,MAAM0O,gGAXP,IAAAxU,EAAAC,KAClBiF,EAAKe,IAAL,eAAA1B,OAAwB5D,eAAeuC,QAAQ,YAC5CkC,KAAK,SAAAC,GACJ,IAAMrE,EAAQ8C,OAAAgB,EAAA,EAAAhB,CAAA,GAAQuB,EAAIC,KAAKA,MAC/BtF,EAAK4F,SAAS,CAAE5E,eAEjBuE,MAAM,SAAAZ,uCASF,IACC3D,EAAaf,KAAK6F,MAAlB9E,SACR,OAAOA,EAAQ,GACbd,EAAAC,EAAAC,cAACU,GAAY+kB,SAAb,CAAsBxf,MAAOrF,GAC3Bd,EAAAC,EAAAC,cAAAuU,EAAA,GAAQzT,UAAU,mBAChBhB,EAAAC,EAAAC,cAAC0lB,EAAD,MACA5lB,EAAAC,EAAAC,cAAC2lB,GAAD,QAIJ7lB,EAAAC,EAAAC,cAAA,mBA/BagC,uDCAb4jB,sNACJ7hB,cAEAM,aAAe,SAACvG,GACdA,EAAEoG,iBACFjF,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAKO,eAArB,eAAAqI,EAAAjJ,OAAAwF,EAAA,EAAAxF,CAAAyF,EAAApJ,EAAAqJ,KAAoC,SAAAC,EAAO9E,EAAKC,GAAZ,IAAAG,EAAA,OAAAwE,EAAApJ,EAAA2J,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAC7BtF,EAD6B,CAAAoF,EAAAE,KAAA,eAE1BlF,EAAWC,IAAIJ,EAAOG,UAFIgF,EAAAE,KAAA,EAG1B/E,EAAKsB,KAAL,iBAAA1C,OAAAgB,EAAA,EAAAhB,CAAA,GAAiCc,EAAjC,CAAyCG,cAC5CK,KAAK,SAAAC,GACoB,aAApBA,EAAIC,KAAK9B,QACX7C,eAAe4C,QAAQ,SAAU8B,EAAIC,KAAKA,KAAK7G,IAC/CoC,WAAW,WACTxB,EAAKC,MAAMmB,QAAQC,KAAK,UACvB,MAEHrB,EAAK8E,MACH9E,EAAK8E,KAAK7E,MAAM6E,KAAK8hB,UAAU,CAC7BlhB,SAAU,CACRsB,MAAOzB,EAAOG,SACdwb,OAAQ,CAAC,IAAIpiB,MAAMkH,EAAIC,KAAK7B,eAKrC8B,MAAM,SAAAZ,GACLlB,EAAA,EAAQL,MAAM,oCArBc,wBAAA2G,EAAAI,SAAAV,MAApC,gBAAAW,EAAAC,GAAA,OAAA0C,EAAAtC,MAAAxK,KAAAyK,YAAA,6EA2BK,IAAA1K,EAAAC,KACP,OACEC,EAAAC,EAAAC,cAAA,OAAKc,UAAU,SACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,YAAYglB,IAAKC,KAAKC,IAAI,KACzClmB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,cACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,kBACbhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,QACbhB,EAAAC,EAAAC,cAAA,KAAGsX,KAAK,KACNxX,EAAAC,EAAAC,cAAA,OAAKc,UAAU,WAAWglB,IAAKG,KAAMD,IAAI,SACzClmB,EAAAC,EAAAC,cAAA,QAAMc,UAAU,aAAhB,iBAGJhB,EAAAC,EAAAC,cAAA,OAAKc,UAAU,aAAf,iEAEFhB,EAAAC,EAAAC,cAACkmB,GAAD,CACEnf,oBAAqB,SAAChD,GACpBnE,EAAKmE,KAAOA,KAGhBjE,EAAAC,EAAAC,cAAAG,EAAA,GACEW,UAAU,kBACVgB,KAAK,UACL1B,QAASP,KAAKwE,cAHhB,iBAQFvE,EAAAC,EAAAC,cAAA,OAAKc,UAAU,sBA5DHqH,IAAMnG,YAkEXC,eAAW2jB,IAQpBO,oLACK,IACCxd,EAAsB9I,KAAKX,MAAM6E,KAAjC4E,kBACR,OACE7I,EAAAC,EAAAC,cAAAgH,EAAA,GAAMuN,OAAQ,YACZzU,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,KACGyI,EAAkB,WAAY,CAC7BE,MAAO,CAAC,CAAEC,UAAU,EAAMzF,QAAS,0CADpCsF,CAGC7I,EAAAC,EAAAC,cAAA0H,EAAA,GACE5G,UAAU,kBACVslB,OAAQtmB,EAAAC,EAAAC,cAAA2B,EAAA,GAAMG,KAAK,OAAOb,MAAO,CAAEY,MAAO,qBAC1CwF,YAAY,yBAIlBvH,EAAAC,EAAAC,cAAAgH,EAAA,EAAM9G,KAAN,KACGyI,EAAkB,WAAY,CAC7BE,MAAO,CAAC,CAAEC,UAAU,EAAMzF,QAAS,oCADpCsF,CAGC7I,EAAAC,EAAAC,cAAA0H,EAAA,GACE5G,UAAU,kBACVslB,OAAQtmB,EAAAC,EAAAC,cAAA2B,EAAA,GAAMG,KAAK,OAAOb,MAAO,CAAEY,MAAO,qBAC1CC,KAAK,WACLuF,YAAY,2BAxBIc,IAAMnG,WAiC9BkkB,GAAyBlf,EAAA,EAAK3E,OAAO,CACzC8D,KAAM,gBADuBa,CAE5Bmf,cC5GGE,mMAEF,OACEvmB,EAAAC,EAAAC,cAAAsmB,EAAA,GAAgBC,OAAQC,MACtB1mB,EAAAC,EAAAC,cAACuT,EAAA,EAAD,KACEzT,EAAAC,EAAAC,cAACwT,EAAA,EAAD,KACE1T,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAU/T,KAAM,IAAKgU,OAAO,EAAMC,GAAI,UACtC5T,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAO/T,KAAM,SAAUkU,UAAWiS,KAClC9lB,EAAAC,EAAAC,cAAC+hB,GAAD,CAActiB,KAAM,QAASkU,UAAW6R,eARlCiB,kBAgBlBC,IAASpY,OAAOxO,EAAAC,EAAAC,cAAC2mB,GAAD,MAASC,SAASC,eAAe","file":"static/js/main.0a90e867.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 177;","module.exports = __webpack_public_path__ + \"static/media/login_3.c155b94e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Logo.ffe9256f.svg\";","\r\nconst menu = [\r\n  {\r\n    key: '/docm',\r\n    title: '项目合同',\r\n    role: ['normal']\r\n  },\r\n  {\r\n    key: '/user',\r\n    title: '账号管理',\r\n    role: ['admin']\r\n  },\r\n  {\r\n    key: '/operlog',\r\n    title: '日志审计',\r\n    role: ['admin']\r\n  },\r\n  {\r\n    key: '/account',\r\n    title: '我的账号',\r\n    role: ['normal', 'admin']\r\n  },\r\n]\r\n\r\nexport default menu","import React, { Component } from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Dropdown, Button, Icon } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport headerMenu from '../menu'\r\nimport { UserContext } from '../index'\r\n\r\nconst { Header } = Layout\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nclass HomeHeader extends Component<IProps, IState> {\r\n  fetchDefaultSelectedKey = menus => {\r\n    const { pathname } = this.props.location\r\n    const menuPaths = menus.map(m => m.key)\r\n    const selectedKeys = menuPaths.filter(path => {\r\n      return pathname.indexOf(path) >= 0\r\n    })\r\n    if (selectedKeys.length < 1) {\r\n      return [menuPaths[0]]\r\n    }\r\n    return selectedKeys\r\n  }\r\n\r\n  render() {\r\n    const menu = (\r\n      <Menu>\r\n        <Menu.Item>\r\n          <Button\r\n            onClick={() => {\r\n              this.props.history.push('/main/account/mod-pwd')\r\n            }}\r\n          >\r\n            {'修改密码'}\r\n          </Button>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <Button\r\n            onClick={() => {\r\n              sessionStorage.removeItem('userId')\r\n              setTimeout(() => {\r\n                this.props.history.push('/login')\r\n              }, 300)\r\n            }}\r\n          >\r\n            {'退出'}\r\n          </Button>\r\n        </Menu.Item>\r\n      </Menu>\r\n    )\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const menus = headerMenu.filter(m => {\r\n            if (userInfo['username'] === 'admin') {\r\n              return m.role.filter(role => role === 'admin').length > 0\r\n            } else {\r\n              return m.role.filter(role => role === 'normal').length > 0\r\n            }\r\n          })\r\n          const selectedKeys = this.fetchDefaultSelectedKey(menus)\r\n          return (\r\n            <div>\r\n              <Header className=\"header\">\r\n                {/* <span key=\"logo\" className=\"logo\">\r\n                  LOGO\r\n                </span> */}\r\n                <Menu\r\n                  className=\"navbar\"\r\n                  theme=\"dark\"\r\n                  mode=\"horizontal\"\r\n                  selectedKeys={selectedKeys}\r\n                  style={{ lineHeight: '50px' }}\r\n                  onSelect={param => {\r\n                    const { history, match } = this.props\r\n                    history.push(match.path + param.key)\r\n                  }}\r\n                >\r\n                  {menus.map(m => {\r\n                    return (\r\n                      <Menu.Item className=\"navbar-item\" key={m.key}>\r\n                        {m.title}\r\n                      </Menu.Item>\r\n                    )\r\n                  })}\r\n                </Menu>\r\n                <Menu\r\n                  className=\"userbar\"\r\n                  theme=\"dark\"\r\n                  mode=\"horizontal\"\r\n                  style={{ lineHeight: '50px' }}\r\n                  selectable={false}\r\n                >\r\n                  <Menu.Item key=\"user\">\r\n                    <Dropdown overlay={menu} placement=\"bottomRight\">\r\n                      <span>\r\n                        <Icon\r\n                          style={{ fontSize: '18px', color: '#fff' }}\r\n                          type=\"user\"\r\n                        />\r\n                        <span\r\n                          style={{\r\n                            fontSize: '18px',\r\n                            color: '#fff',\r\n                            margin: '0 8px 0 0'\r\n                          }}\r\n                        >\r\n                          {userInfo['username']}\r\n                        </span>\r\n                        <Icon style={{ color: '#fff' }} type=\"caret-down\" />\r\n                      </span>\r\n                    </Dropdown>\r\n                  </Menu.Item>\r\n                </Menu>\r\n              </Header>\r\n            </div>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(HomeHeader)\r\n","import axios from 'axios'\r\nimport { createHashHistory } from 'history'\r\nimport { message } from 'antd'\r\n\r\nexport interface QueryRequest {\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  conditions?: any\r\n  sorters?: any\r\n}\r\n\r\nexport interface QueryResult<T> {\r\n  total: number | undefined\r\n  content: Array<T>\r\n}\r\n\r\nexport const serverPath = \"http://aby.docm.com:8090\"\r\n\r\nconst http = axios.create({\r\n  baseURL: serverPath,\r\n  withCredentials: false,\r\n  timeout: 60000\r\n});\r\n\r\nhttp.interceptors.request.use(config => {\r\n  const xAuthToken = sessionStorage.getItem('xAuthToken');\r\n  if (xAuthToken) {\r\n    config.headers['x-auth-token'] = xAuthToken\r\n  }\r\n  return config\r\n}, error => {\r\n  console.error('请求异常')\r\n})\r\n\r\nhttp.interceptors.response.use(response => {\r\n  const xAuthToken = response.headers['x-auth-token']\r\n  if (xAuthToken) {\r\n    sessionStorage.setItem('xAuthToken', xAuthToken)\r\n  }\r\n  return response\r\n}, error => {\r\n  if (error.response.status === 401) {\r\n    sessionStorage.removeItem('userId')\r\n    message.error('登录超时，请重新登录', 3)\r\n    setTimeout(() => {\r\n      createHashHistory().push(\"/login\")\r\n    }, 500)\r\n  }\r\n  if (error.response.status === 403) {\r\n    message.error('您没有访问权限', 3)\r\n  }\r\n})\r\n\r\nexport default http","import React from 'react'\r\nimport { Layout, Button, Form, Input, message, Select, TreeSelect } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IAccountVO from '../type'\r\nimport Http from '../../../../../common/http'\r\nimport md5 from 'js-md5'\r\nimport { manageSiderPath } from '../../index'\r\n\r\nconst { Content } = Layout\r\nconst { Option } = Select\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  treeData: Array<any>\r\n  permissions: Array<any>\r\n  deptData: Array<any>\r\n}\r\n\r\nclass Add extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      treeData: [],\r\n      permissions: [],\r\n      deptData: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    Http.get(`/perm/all`)\r\n      .then(res => {\r\n        const treeData = res.data.data.map((v, index) => {\r\n          return {\r\n            key: index,\r\n            title: v.group,\r\n            value: undefined,\r\n            children: v.permissions.map(perm => {\r\n              return {\r\n                key: perm.id,\r\n                title: perm.name,\r\n                value: perm.id\r\n              }\r\n            })\r\n          }\r\n        })\r\n        this.setState({ treeData })\r\n      })\r\n      .catch(err => {})\r\n    Http.post(`/dept/list-all`)\r\n      .then(res => {\r\n        this.setState({ deptData: res.data.data })\r\n      })\r\n      .catch(err => {})\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${manageSiderPath}/list`)\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          const params: IAccountVO = {\r\n            ...values,\r\n            password: md5(values.password ? values.password : '1234'),\r\n            dept: {\r\n              id: values.dept\r\n            }\r\n          }\r\n          Http.put('/user', params)\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                this.props.history.push(`${manageSiderPath}/list`)\r\n              } else {\r\n                message.error(res.data.message)\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error(err.response.data.message)\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  handlePermOnChange = permissions => {\r\n    this.form &&\r\n      this.form.props.form.setFieldsValue({\r\n        permissions: permissions.map(perm => ({ id: perm }))\r\n      })\r\n    this.setState({ permissions })\r\n  }\r\n\r\n  handleDeptOnChange = dept => {\r\n    this.form &&\r\n      this.form.props.form.setFieldsValue({\r\n        dept\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { treeData, permissions, deptData } = this.state\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ order: 2, flexGrow: 1, padding: '0 8px 0 0' }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button block type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          <WrappedNormalForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          <Form {...formItemLayout}>\r\n            <Form.Item key={'dept'} label=\"所属科室\">\r\n              <Select\r\n                style={{ width: '100%' }}\r\n                placeholder={'请选择'}\r\n                showSearch\r\n                allowClear\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option: any) =>\r\n                  option.props.children\r\n                    .toLowerCase()\r\n                    .indexOf(input.toLowerCase()) >= 0\r\n                }\r\n                onChange={this.handleDeptOnChange}\r\n              >\r\n                {deptData.map(dept => (\r\n                  <Option key={dept.id} value={dept.id}>{dept.name}</Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item key={'permissions'} label=\"账号授权\">\r\n              <TreeSelect\r\n                style={{ width: '100%' }}\r\n                searchPlaceholder={'请选择'}\r\n                multiple={true}\r\n                showSearch={false}\r\n                treeData={treeData}\r\n                value={permissions}\r\n                treeCheckable={true}\r\n                onChange={this.handlePermOnChange}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n              <Button block type={'primary'} onClick={this.handleSubmit}>\r\n                {'提交'}\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Add)\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 2,\r\n      offset: 0\r\n    },\r\n    sm: {\r\n      span: 2,\r\n      offset: 4\r\n    }\r\n  }\r\n}\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {\r\n  defaultFileList: Array<any>\r\n}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'username'} label=\"用户名\">\r\n          {getFieldDecorator('username', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                type: 'string',\r\n                pattern: /^[a-zA-Z][a-zA-Z0-9_]{2,11}$/,\r\n                message: '用户名为3~12位字母、数字或下划线,第一位必须为字母'\r\n              },\r\n              {\r\n                message: '用户名已存在',\r\n                validator: async (rule, value, callback, source, options) => {\r\n                  await Http.get(\r\n                    `/user/check-unique-username?username=${value}`\r\n                  )\r\n                    .then(res => {\r\n                      if (res.data.status === '00000000') {\r\n                        const cku = res.data.data === true ? true : undefined\r\n                        callback(cku)\r\n                      } else {\r\n                        message.error(res.data.message)\r\n                        callback()\r\n                      }\r\n                    })\r\n                    .catch(err => {\r\n                      message.error('服务器异常')\r\n                      callback()\r\n                    })\r\n                }\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'password'} label=\"密码\">\r\n          {getFieldDecorator('password', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '密码为4~16位任意字符',\r\n                pattern: /^.{4,16}$/\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input type={'password'} placeholder={'默认密码为1234'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'phone'} label=\"手机\">\r\n          {getFieldDecorator('phone', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '请输入正确的手机号',\r\n                max: 11\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'email'} label=\"邮箱\">\r\n          {getFieldDecorator('email', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '请输入正确的邮箱',\r\n                type: 'email'\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        {/** 所属科室 */}\r\n        {getFieldDecorator('dept')}\r\n        {/** 账号授权 */}\r\n        {getFieldDecorator('permissions')}\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalForm)\r\n","import React from 'react'\r\nimport { Layout, Button, Form, Input, message, Select, TreeSelect } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IAccountVO from '../type'\r\nimport Http from '../../../../../common/http'\r\nimport { manageSiderPath } from '../../index'\r\n\r\nconst { Content } = Layout\r\nconst { Option } = Select\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  /**\r\n   * 用户id\r\n   */\r\n  id: string\r\n  /**\r\n   * 权限选择器备选数据\r\n   */\r\n  treeData: Array<any>\r\n  /**\r\n   * 用户拥有权限的id，赋值给权限选择器，显示用\r\n   */\r\n  permissions: Array<any>\r\n  /**\r\n   * 科室选择器备选数据\r\n   */\r\n  deptData: Array<any>\r\n  /**\r\n   * 用户所属科室的id，赋值给科室选择器，显示用\r\n   */\r\n  dept: string\r\n}\r\n\r\nclass Edit extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      id: this.props.match.params['id'],\r\n      loading: true,\r\n      treeData: [],\r\n      permissions: [],\r\n      deptData: [],\r\n      dept: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.state\r\n    this.setState({ loading: true }, () => {\r\n      Http.get(`/user?id=${id}`)\r\n        .then(res => {\r\n          const data = res.data.data\r\n          const dept = data.dept ? data.dept.id : undefined\r\n          this.form &&\r\n            this.form.props.form.setFieldsValue({\r\n              ...data,\r\n              dept\r\n            })\r\n          const permissions = data.permissions.map(perm => perm.id)\r\n          this.setState({ loading: false, permissions, dept })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n      Http.get(`/perm/all`)\r\n        .then(res => {\r\n          const treeData = res.data.data.map((v, index) => {\r\n            return {\r\n              key: index,\r\n              title: v.group,\r\n              value: undefined,\r\n              children: v.permissions.map(perm => {\r\n                return {\r\n                  key: perm.id,\r\n                  title: perm.name,\r\n                  value: perm.id\r\n                }\r\n              })\r\n            }\r\n          })\r\n          this.setState({ treeData })\r\n        })\r\n        .catch(err => {})\r\n\r\n      Http.post(`/dept/list-all`)\r\n        .then(res => {\r\n          this.setState({ deptData: res.data.data })\r\n        })\r\n        .catch(err => {})\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${manageSiderPath}/list`)\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          const params: IAccountVO = {\r\n            ...values,\r\n            dept: {\r\n              id: values.dept\r\n            }\r\n          }\r\n          Http.post('/user', params)\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                this.props.history.push(`${manageSiderPath}/list`)\r\n              } else {\r\n                message.error(res.data.message)\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error(err.response.data.message)\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  handlePermOnChange = permissions => {\r\n    this.form &&\r\n      this.form.props.form.setFieldsValue({\r\n        permissions: permissions.map(perm => ({ id: perm }))\r\n      })\r\n    this.setState({ permissions })\r\n  }\r\n\r\n  handleDeptOnChange = dept => {\r\n    this.form &&\r\n      this.form.props.form.setFieldsValue({\r\n        dept\r\n      })\r\n    this.setState({ dept })\r\n  }\r\n\r\n  render() {\r\n    const { loading, treeData, permissions, deptData, dept } = this.state\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ order: 2, flexGrow: 1, padding: '0 8px 0 0' }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button block type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          <WrappedNormalForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          <Form {...formItemLayout}>\r\n            <Form.Item key={'dept'} label=\"所属科室\">\r\n              <Select\r\n                style={{ width: '100%' }}\r\n                placeholder={'请选择'}\r\n                value={dept}\r\n                showSearch\r\n                allowClear\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option: any) =>\r\n                  option.props.children\r\n                    .toLowerCase()\r\n                    .indexOf(input.toLowerCase()) >= 0\r\n                }\r\n                onChange={this.handleDeptOnChange}\r\n              >\r\n                {deptData.map(dept => (\r\n                  <Option key={dept.id} value={dept.id}>{dept.name}</Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item key={'permissions'} label=\"账号授权\">\r\n              <TreeSelect\r\n                style={{ width: '100%' }}\r\n                searchPlaceholder={'请选择'}\r\n                multiple={true}\r\n                treeData={treeData}\r\n                value={permissions}\r\n                treeCheckable={true}\r\n                onChange={this.handlePermOnChange}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n              <Button\r\n                block\r\n                type={'primary'}\r\n                loading={loading}\r\n                onClick={this.handleSubmit}\r\n              >\r\n                {'保存'}\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Edit)\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 2,\r\n      offset: 0\r\n    },\r\n    sm: {\r\n      span: 2,\r\n      offset: 4\r\n    }\r\n  }\r\n}\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {\r\n  defaultFileList: Array<any>\r\n}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator, getFieldValue } = this.props.form\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'username'} label=\"用户名\">\r\n          {getFieldDecorator('username', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                type: 'string',\r\n                pattern: /^[a-zA-Z][a-zA-Z0-9_]{2,11}$/,\r\n                message: '用户名为3~12位字母、数字或下划线,第一位必须为字母'\r\n              },\r\n              {\r\n                message: '用户名已存在',\r\n                validator: async (rule, value, callback, source, options) => {\r\n                  const id = getFieldValue('id')\r\n                  await Http.get(\r\n                    `/user/check-unique-username?username=${value}&id=${id}`\r\n                  )\r\n                    .then(res => {\r\n                      if (res.data.status === '00000000') {\r\n                        const cku = res.data.data === true ? true : undefined\r\n                        callback(cku)\r\n                      } else {\r\n                        message.error(res.data.message)\r\n                        callback()\r\n                      }\r\n                    })\r\n                    .catch(err => {\r\n                      message.error('服务器异常')\r\n                      callback()\r\n                    })\r\n                }\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'phone'} label=\"手机\">\r\n          {getFieldDecorator('phone', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '请输入正确的手机号',\r\n                max: 11\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'email'} label=\"邮箱\">\r\n          {getFieldDecorator('email', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '请输入正确的邮箱',\r\n                type: 'email'\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        {/** 所属科室 */}\r\n        {getFieldDecorator('dept')}\r\n        {/** 角色授权 */}\r\n        {getFieldDecorator('permissions')}\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalForm)\r\n","import $ from 'jquery'\r\n\r\n/** 下划线转换驼峰 */\r\nexport function toHump(name: string) {\r\n  return name.replace(/_(\\w)/g, function (all, letter) {\r\n    return letter.toUpperCase();\r\n  });\r\n}\r\n\r\n/** 驼峰转换下划线 */\r\nexport function toLine(name: string) {\r\n  return name.replace(/([A-Z])/g, \"_$1\").toLowerCase();\r\n}\r\n\r\n\r\n\r\n/**\r\n * 顶部工具条固定方法\r\n */\r\nexport function findToolBarElement() {\r\n  const els = $('section.ant-layout')\r\n  if (els.length === 3) {\r\n    return els[2]\r\n  }\r\n  return undefined\r\n}\r\nexport function handlerScroll(doFixed, unFixed, event) {\r\n  const fixedTop = event.target.offsetTop\r\n  const scrollTop = event.target.scrollTop\r\n  //控制元素块A随鼠标滚动固定在顶部\r\n  // console.log(scrollTop)\r\n  // console.log(fixedTop)\r\n  if (scrollTop >= fixedTop * 2 / 3) {\r\n    doFixed()\r\n  } else if (scrollTop < fixedTop * 2 / 3) {\r\n    unFixed()\r\n  }\r\n}\r\nexport function addToolBarScrollEventListener(doFixed, unFixed) {\r\n  const toolBarEle = findToolBarElement()\r\n  toolBarEle &&\r\n    toolBarEle.addEventListener(\r\n      'scroll',\r\n      handlerScroll.bind(toolBarEle, doFixed, unFixed)\r\n    )\r\n}\r\nexport function removeToolBarScrollEventListener() {\r\n  const toolBarEle = findToolBarElement()\r\n  toolBarEle &&\r\n    toolBarEle.removeEventListener('scroll', () => {\r\n\r\n    })\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Icon,\r\n  Modal,\r\n  Input,\r\n  Form\r\n} from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport Http, { QueryResult, QueryRequest } from '../http'\r\nimport BaseVO from '../types'\r\nimport { toLine } from '../util'\r\n\r\nconst { Content } = Layout\r\n\r\ntype IProps = RouteComponentProps & {\r\n  /**\r\n   * 数据请求的路径\r\n   */\r\n  httpPath: string\r\n  /**\r\n   * 模型名称\r\n   */\r\n  modelName: string\r\n}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  selectedRowKeys: string[] | number[]\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<BaseVO>\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any | undefined\r\n    sorters: any | undefined\r\n  }\r\n  /**\r\n   * 展现模态框形态：0-不展示 1-新建 2-编辑\r\n   */\r\n  modalFlag: number\r\n  modalData: BaseVO | undefined\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      selectedRowKeys: [],\r\n      data: {\r\n        total: undefined,\r\n        content: []\r\n      },\r\n      pageSize: 10,\r\n      current: 1,\r\n      param: {\r\n        conditions: {},\r\n        sorters: {}\r\n      },\r\n      modalFlag: 0,\r\n      modalData: undefined\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleListChange = () => {\r\n    const { httpPath } = this.props\r\n    this.setState({ loading: true }, () => {\r\n      const { pageSize, current, param } = this.state\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param\r\n      }\r\n      Http.post(`${httpPath}/list`, queryRequest)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleSelectChange = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['keywords'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    const { httpPath } = this.props\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        Http.delete(\r\n          `${httpPath}?${queryString.substring(0, queryString.length - 1)}`\r\n        ).then(res => {\r\n          if (res.data.status === '00000000') {\r\n            message.success('删除成功')\r\n            this.handleListChange()\r\n          } else {\r\n            message.error(res.data.message)\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  renderSearchBar() {\r\n    const { modelName } = this.props\r\n    return (\r\n      <Select\r\n        mode={'tags'}\r\n        placeholder={`请输入${modelName}`}\r\n        style={{ width: '280px' }}\r\n        tokenSeparators={[' ']}\r\n        showArrow={true}\r\n        suffixIcon={<Icon style={{ fontSize: '16px' }} type=\"search\" />}\r\n        onChange={this.handleSelectChange}\r\n        notFoundContent={null}\r\n      />\r\n    )\r\n  }\r\n\r\n  renderButtonBar() {\r\n    const { selectedRowKeys } = this.state\r\n    return (\r\n      <div>\r\n        <Button\r\n          className=\"ele-operation\"\r\n          type=\"primary\"\r\n          onClick={event => {\r\n            event.preventDefault()\r\n            this.setState({ modalFlag: 1 })\r\n          }}\r\n        >\r\n          新建\r\n        </Button>\r\n        <Button\r\n          type=\"ghost\"\r\n          disabled={selectedRowKeys.length < 1}\r\n          onClick={() => {\r\n            this.handleDeleteOper(selectedRowKeys)\r\n          }}\r\n        >\r\n          批量删除\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  buildColumns() {\r\n    const columns = [\r\n      {\r\n        title: '序号',\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n          return index + 1\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '5%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '名称',\r\n        key: 'name',\r\n        dataIndex: 'name',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '创建时间',\r\n        key: 'createTime',\r\n        dataIndex: 'createTime',\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '15%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'operation',\r\n        render: (text, record, index) => {\r\n          return (\r\n            <div>\r\n              <Button\r\n                type={'link'}\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.setState({ modalFlag: 2, modalData: record })\r\n                }}\r\n              >\r\n                编辑\r\n              </Button>\r\n              <Button\r\n                type={'link'}\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.handleDeleteOper([record.id])\r\n                }}\r\n              >\r\n                删除\r\n              </Button>\r\n            </div>\r\n          )\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '16%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      }\r\n    ]\r\n    return columns\r\n  }\r\n\r\n  renderTable() {\r\n    const { loading, selectedRowKeys, data, pageSize, current } = this.state\r\n    const { total, content } = data\r\n    return loading || data.content.length > 0 ? (\r\n      <Table\r\n        rowKey={record => {\r\n          return record.id\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: '30px',\r\n          selectedRowKeys,\r\n          onChange: selectedRowKeys => {\r\n            this.setState({ selectedRowKeys })\r\n          }\r\n        }}\r\n        columns={this.buildColumns()}\r\n        dataSource={content}\r\n        loading={loading}\r\n        pagination={{\r\n          total,\r\n          current,\r\n          pageSize,\r\n          pageSizeOptions: ['10', '20', '50'],\r\n          showSizeChanger: true,\r\n          showTotal: total => {\r\n            return `共 ${total} 条`\r\n          }\r\n        }}\r\n        onChange={(pagination, filters, sorter, extra) => {\r\n          const { param } = this.state\r\n          const { current, pageSize } = pagination\r\n          const { field, order } = sorter\r\n          param.sorters = {}\r\n          if (field && order) {\r\n            param.sorters[toLine(field)] = fetchOrderDirection(order)\r\n          }\r\n          this.setState({ current, pageSize })\r\n          this.handleListChange()\r\n        }}\r\n      />\r\n    ) : (\r\n      <Empty description={'暂无内容'} />\r\n    )\r\n  }\r\n\r\n  handleOk = e => {\r\n    e.preventDefault()\r\n    const { httpPath } = this.props\r\n    const { modalFlag } = this.state\r\n    this.form &&\r\n      this.form.props.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          // 如果是新建则调用Http.put()方法,如果是编辑则调用Http.post()方法\r\n          const method =\r\n            modalFlag === 1 ? Http.put : modalFlag === 2 ? Http.post : undefined\r\n          method &&\r\n            method(`${httpPath}`, values)\r\n              .then(res => {\r\n                if (res.data.status === '00000000') {\r\n                  message.success(`操作成功`)\r\n                  this.handleListChange()\r\n                } else {\r\n                  message.error(res.data.message)\r\n                }\r\n              })\r\n              .catch(err => {\r\n                debugger\r\n                message.error(err.response.data.msg)\r\n              })\r\n          this.setState({\r\n            modalFlag: 0\r\n          })\r\n        }\r\n      })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    this.setState({\r\n      modalFlag: 0,\r\n      modalData: undefined\r\n    })\r\n  }\r\n\r\n  renderAddModal() {\r\n    const { modalFlag, modalData } = this.state\r\n    const title = `${\r\n      modalFlag === 1 ? '新建' : modalFlag === 2 ? '编辑' : undefined\r\n    }科室`\r\n    return (\r\n      <Modal\r\n        title={title}\r\n        visible={modalFlag > 0}\r\n        okText={'提交'}\r\n        cancelText={'取消'}\r\n        onOk={this.handleOk}\r\n        onCancel={this.handleCancel}\r\n      >\r\n        <WrappedNormalForm\r\n          wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n            this.form = form\r\n            if (this.form) {\r\n              if (modalFlag === 2 && modalData) {\r\n                // 编辑，设置值\r\n                this.form.props.form.setFieldsValue({ ...modalData })\r\n              } else if (modalFlag === 1) {\r\n                // 新建，清除旧值\r\n                this.form.props.form.resetFields(['id', 'name'])\r\n              }\r\n            }\r\n          }}\r\n        />\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div className=\"list-page\">\r\n          <div className=\"list-page-content\">\r\n            <div className=\"list-page-content-toolbar\">\r\n              <div className=\"list-page-content-toolbar-search\">\r\n                {this.renderSearchBar()}\r\n              </div>\r\n              <div className=\"list-page-content-toolbar-button\">\r\n                {this.renderButtonBar()}\r\n              </div>\r\n            </div>\r\n            <div className=\"list-page-content-table\">{this.renderTable()}</div>\r\n          </div>\r\n        </div>\r\n        <div>{this.renderAddModal()}</div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === 'descend') {\r\n    return 'desc'\r\n  } else {\r\n    return 'asc'\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\n// const tailFormItemLayout = {\r\n//   wrapperCol: {\r\n//     xs: {\r\n//       span: 2,\r\n//       offset: 0\r\n//     },\r\n//     sm: {\r\n//       span: 2,\r\n//       offset: 4\r\n//     }\r\n//   }\r\n// }\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'name'} label=\"名称\">\r\n          {getFieldDecorator('name', {\r\n            rules: [{ required: true, message: `请输入名称` }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalForm)\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Icon,\r\n  Modal,\r\n  Tabs,\r\n  Tooltip\r\n} from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IAccountVO, { IDeptVO } from '../type'\r\nimport DeptList from '../../../../../common/simplelist/index'\r\nimport Http, { QueryResult, QueryRequest } from '../../../../../common/http'\r\nimport { toLine } from '../../../../../common/util'\r\nimport { manageSiderPath } from '../../index'\r\nimport './index.css'\r\n\r\nconst { Content } = Layout\r\nconst { Option } = Select\r\nconst { TabPane } = Tabs\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  deptData: Array<IDeptVO>\r\n  selectedRowKeys: string[] | number[]\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<IAccountVO>\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any | undefined\r\n    sorters: any | undefined\r\n  }\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      deptData: [],\r\n      selectedRowKeys: [],\r\n      data: {\r\n        total: undefined,\r\n        content: []\r\n      },\r\n      pageSize: 10,\r\n      current: 1,\r\n      param: {\r\n        conditions: {},\r\n        sorters: {}\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadDeptData()\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleListChange = () => {\r\n    this.setState({ loading: true }, () => {\r\n      const { pageSize, current, param } = this.state\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param\r\n      }\r\n      Http.post(`/user/list`, queryRequest)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  loadDeptData = () => {\r\n    this.setState({ loading: true }, () => {\r\n      Http.post(`/dept/list-all`)\r\n        .then(res => {\r\n          this.setState({ loading: false, deptData: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleSelectChangeForKeyword = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['keywords'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleSelectChangeForDept = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['dept'] = { id: value }\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        Http.delete(\r\n          `/user?${queryString.substring(0, queryString.length - 1)}`\r\n        ).then(res => {\r\n          if (res.data.status === '00000000') {\r\n            message.success('删除成功')\r\n            this.handleListChange()\r\n          } else {\r\n            message.error(res.data.message)\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  renderKeywordSearchBar() {\r\n    return (\r\n      <Select\r\n        mode={'tags'}\r\n        placeholder={'请输入用户名、手机号或邮箱'}\r\n        style={{ width: '280px', marginRight: '24px' }}\r\n        tokenSeparators={[' ']}\r\n        showArrow={true}\r\n        suffixIcon={<Icon style={{ fontSize: '16px' }} type=\"search\" />}\r\n        onChange={this.handleSelectChangeForKeyword}\r\n        notFoundContent={null}\r\n      />\r\n    )\r\n  }\r\n\r\n  renderDeptSearchBar() {\r\n    const { deptData } = this.state\r\n    return (\r\n      <span>\r\n        <label>所属科室：</label>\r\n        <Select\r\n          placeholder={'请选择'}\r\n          style={{ width: '280px' }}\r\n          allowClear\r\n          showArrow={true}\r\n          onChange={this.handleSelectChangeForDept}\r\n        >\r\n          {deptData.map(dept => (\r\n            <Option key={dept.id} value={dept.id}>\r\n              {dept.name}\r\n            </Option>\r\n          ))}\r\n        </Select>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  renderButtonBar() {\r\n    const { selectedRowKeys } = this.state\r\n    return (\r\n      <div>\r\n        <Button\r\n          className=\"ele-operation\"\r\n          type=\"primary\"\r\n          onClick={event => {\r\n            event.preventDefault()\r\n            this.props.history.push(`${manageSiderPath}/add`)\r\n          }}\r\n        >\r\n          新建\r\n        </Button>\r\n        <Button\r\n          type=\"ghost\"\r\n          disabled={selectedRowKeys.length < 1}\r\n          onClick={() => {\r\n            this.handleDeleteOper(selectedRowKeys)\r\n          }}\r\n        >\r\n          批量删除\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  buildColumns() {\r\n    const columns = [\r\n      {\r\n        title: '序号',\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n          return index + 1\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '5%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '用户名',\r\n        dataIndex: 'username',\r\n        key: 'username',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '手机',\r\n        dataIndex: 'phone',\r\n        key: 'phone',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '12%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '邮箱',\r\n        dataIndex: 'email',\r\n        key: 'email',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '16%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '科室',\r\n        dataIndex: 'dept',\r\n        key: 'dept',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '10%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: 'center',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            whiteSpace: 'nowrap',\r\n            cursor: 'pointer'\r\n          }\r\n        }),\r\n        render: text => (\r\n          <Tooltip placement=\"topLeft\" title={text ? text.name : ''}>\r\n            {text ? text.name : ''}\r\n          </Tooltip>\r\n        )\r\n      },\r\n      {\r\n        title: '冻结状态',\r\n        dataIndex: 'frozen',\r\n        key: 'frozen',\r\n        render: (text, record, index) => {\r\n          return record.frozen ? (\r\n            <span className=\"warn-text\">已冻结</span>\r\n          ) : (\r\n            <span className=\"success-text\">正常</span>\r\n          )\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '8%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '创建时间',\r\n        dataIndex: 'createTime',\r\n        key: 'createTime',\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '15%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'operation',\r\n        render: (text, record, index) => {\r\n          return (\r\n            <div>\r\n              <Button\r\n                type={'link'}\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.props.history.push(\r\n                    `${manageSiderPath}/edit/${record.id}`\r\n                  )\r\n                }}\r\n              >\r\n                编辑\r\n              </Button>\r\n              <Button\r\n                type={'link'}\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  const operation = record.frozen ? 'unfreeze' : 'freeze'\r\n                  Http.post(`/user/${operation}`, { ids: [record.id] })\r\n                    .then(res => {\r\n                      message.success(`${record.frozen ? '解冻' : '冻结'}成功`)\r\n                      this.handleListChange()\r\n                    })\r\n                    .catch(err => {\r\n                      this.handleListChange()\r\n                    })\r\n                }}\r\n              >\r\n                {record.frozen ? '解冻' : '冻结'}\r\n              </Button>\r\n              <Button\r\n                type={'link'}\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.handleDeleteOper([record.id])\r\n                }}\r\n              >\r\n                删除\r\n              </Button>\r\n            </div>\r\n          )\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '18%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      }\r\n    ]\r\n    return columns\r\n  }\r\n\r\n  renderTable() {\r\n    const { loading, selectedRowKeys, data, pageSize, current } = this.state\r\n    const { total, content } = data\r\n    return loading || data.content.length > 0 ? (\r\n      <Table\r\n        rowKey={record => {\r\n          return record.id\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: '30px',\r\n          selectedRowKeys,\r\n          onChange: selectedRowKeys => {\r\n            this.setState({ selectedRowKeys })\r\n          }\r\n        }}\r\n        columns={this.buildColumns()}\r\n        dataSource={content}\r\n        loading={loading}\r\n        onRow={(record, index) => {\r\n          return {\r\n            onClick: event => {\r\n              event.preventDefault()\r\n              if (event.target['tagName'] !== 'TD') {\r\n                return\r\n              }\r\n              this.props.history.push(`${manageSiderPath}/view/${record.id}`)\r\n            }\r\n          }\r\n        }}\r\n        // size={'middle'}\r\n        pagination={{\r\n          total,\r\n          current,\r\n          pageSize,\r\n          pageSizeOptions: ['10', '20', '50'],\r\n          showSizeChanger: true,\r\n          showTotal: total => {\r\n            return `共 ${total} 条`\r\n          }\r\n        }}\r\n        onChange={(pagination, filters, sorter, extra) => {\r\n          const { param } = this.state\r\n          const { current, pageSize } = pagination\r\n          const { field, order } = sorter\r\n          param.sorters = {}\r\n          if (field && order) {\r\n            param.sorters[toLine(field)] = fetchOrderDirection(order)\r\n          }\r\n          this.setState({ current, pageSize })\r\n          this.handleListChange()\r\n        }}\r\n      />\r\n    ) : (\r\n      <Empty description={'暂无内容'} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div className=\"list-page\">\r\n          <div className=\"list-page-content\">\r\n            <Tabs defaultActiveKey=\"account\" onChange={() => {}}>\r\n              <TabPane tab=\"科室\" key=\"dept\">\r\n                <DeptList httpPath={`/dept`} modelName={'科室'} />\r\n              </TabPane>\r\n              <TabPane tab=\"账号\" key=\"account\">\r\n                <div className=\"list-page-content-toolbar\">\r\n                  <div className=\"list-page-content-toolbar-search\">\r\n                    {this.renderKeywordSearchBar()}\r\n                    {this.renderDeptSearchBar()}\r\n                  </div>\r\n                  <div className=\"list-page-content-toolbar-button\">\r\n                    {this.renderButtonBar()}\r\n                  </div>\r\n                </div>\r\n                <div className=\"list-page-content-table\">\r\n                  {this.renderTable()}\r\n                </div>\r\n              </TabPane>\r\n            </Tabs>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === 'descend') {\r\n    return 'desc'\r\n  } else {\r\n    return 'asc'\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n","import React from 'react'\r\nimport { Layout, Button, Form, Spin, Tree } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IAccountVO from '../../../user/manage/type'\r\nimport Http from '../../../../../common/http'\r\nimport { manageSiderPath } from '../../index'\r\n\r\nconst { Content } = Layout\r\nconst { TreeNode } = Tree\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\n// const tailFormItemLayout = {\r\n//   wrapperCol: {\r\n//     xs: {\r\n//       span: 2,\r\n//       offset: 0\r\n//     },\r\n//     sm: {\r\n//       span: 2,\r\n//       offset: 4\r\n//     }\r\n//   }\r\n// }\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  data: IAccountVO | undefined\r\n}\r\n\r\nclass View extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      data: undefined\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    this.setState({ loading: true }, () => {\r\n      Http.get(`/user?id=${id}`)\r\n        .then(res => {\r\n          const data = res.data.data\r\n          this.setState({ loading: false, data })\r\n        })\r\n        .catch(error => {})\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${manageSiderPath}/list`)\r\n  }\r\n\r\n  renderContent() {\r\n    const { loading, data } = this.state\r\n    return !loading && data ? (\r\n      <Form {...formItemLayout}>\r\n        <Form.Item key={'username'} label=\"用户名\">\r\n          {data.username}\r\n        </Form.Item>\r\n        <Form.Item key={'phone'} label=\"手机\">\r\n          {data.phone}\r\n        </Form.Item>\r\n        <Form.Item key={'email'} label=\"邮箱\">\r\n          {data.email}\r\n        </Form.Item>\r\n        <Form.Item key={'dept'} label=\"科室\">\r\n          {data.dept && data.dept.name}\r\n        </Form.Item>\r\n        <Form.Item key={'permissions'} label=\"账号授权\">\r\n          <Tree showLine defaultExpandAll>\r\n            {data.permissions.map(perm => (\r\n              <TreeNode title={perm.name} />\r\n            ))}\r\n          </Tree>\r\n        </Form.Item>\r\n      </Form>\r\n    ) : (\r\n      <Spin size={'large'} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button\r\n                className={'ele-operation'}\r\n                type={'primary'}\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.props.history.push(`${manageSiderPath}/edit/${id}`)\r\n                }}\r\n              >\r\n                编辑\r\n              </Button>\r\n              <Button type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>{this.renderContent()}</div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(View)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport { Breadcrumb } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport { manageSiderPath } from '../index'\r\nimport AddCmpt from './add'\r\nimport EditCmpt from './edit'\r\nimport ListCmpt from './list'\r\nimport ViewCmpt from './view'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Manage extends React.Component<IProps, IState> {\r\n  render() {\r\n    const path = this.props.location.pathname\r\n    let curItem\r\n    if (path.indexOf(`${manageSiderPath}/add`) >= 0) {\r\n      curItem = '新增'\r\n    } else if (path.indexOf(`${manageSiderPath}/edit`) >= 0) {\r\n      curItem = '编辑'\r\n    } else if (path.indexOf(`${manageSiderPath}/view`) >= 0) {\r\n      curItem = '详情'\r\n    } else if (path.indexOf(`${manageSiderPath}/list`) >= 0) {\r\n      curItem = '查询'\r\n    }\r\n\r\n    return (\r\n      <div className=\"layout-content\">\r\n        <div className=\"layout-content-inner\">\r\n          <Breadcrumb>\r\n            <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n            <Breadcrumb.Item>账号与安全</Breadcrumb.Item>\r\n            <Breadcrumb.Item\r\n              onClick={() => this.props.history.push(`${manageSiderPath}`)}\r\n            >\r\n              账号管理\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>{curItem}</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n          <HashRouter>\r\n            <Switch>\r\n              <Redirect\r\n                path={`${manageSiderPath}`}\r\n                exact={true}\r\n                to={`${manageSiderPath}/list`}\r\n              />\r\n              <Route path={`${manageSiderPath}/list`} component={ListCmpt} />\r\n              <Route path={`${manageSiderPath}/add`} component={AddCmpt} />\r\n              <Route\r\n                path={`${manageSiderPath}/edit/:id`}\r\n                component={EditCmpt}\r\n              />\r\n              <Route\r\n                path={`${manageSiderPath}/view/:id`}\r\n                component={ViewCmpt}\r\n              />\r\n            </Switch>\r\n          </HashRouter>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Manage)\r\n","import React from 'react'\r\n\r\nclass Authority extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"layout-content\">\r\n        <div className=\"layout-content-aside\"></div>\r\n        <div className=\"layout-content-inner\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Authority\r\n","import React from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Icon } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Route,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport Manage from './manage'\r\nimport Authority from './authority'\r\n\r\nexport const modulePath = `/main/user`\r\nexport const manageSiderPath = `${modulePath}/manage`\r\nexport const authoritySiderPath = `${modulePath}/authority`\r\n\r\nconst { Sider } = Layout\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  collapsed: boolean\r\n  selectedKeys: Array<string>\r\n}\r\n\r\nclass UserSider extends React.Component<IProps, IState> {\r\n  state: IState = {\r\n    collapsed: false,\r\n    selectedKeys: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    const defaultSelectedKey = '/manage'\r\n    this.handleOnSelect({ key: defaultSelectedKey })\r\n  }\r\n\r\n  handleOnSelect = param => {\r\n    const { key } = param\r\n    this.setState({ selectedKeys: [key] })\r\n    this.props.history.push(`${modulePath}${key}`)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { selectedKeys } = this.state\r\n    return (\r\n      <Layout>\r\n        <Sider\r\n          width={180}\r\n          theme=\"dark\"\r\n          collapsed={this.state.collapsed}\r\n          collapsedWidth={80}\r\n        >\r\n          <span className=\"aside-top\" onClick={this.toggleCollapsed}>\r\n            <Icon\r\n              style={{ margin: '0 0 0 10px' }}\r\n              type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n            />\r\n          </span>\r\n          <Menu\r\n            selectedKeys={selectedKeys}\r\n            mode=\"inline\"\r\n            theme=\"dark\"\r\n            onSelect={this.handleOnSelect}\r\n          >\r\n            <Menu.Item className=\"aside-item\" key=\"/manage\">\r\n              <Icon type=\"solution\" />\r\n              <span>账号管理</span>\r\n            </Menu.Item>\r\n            <Menu.Item className=\"aside-item\" key=\"/authority\">\r\n              <Icon type=\"safety-certificate\" />\r\n              <span>授权查询</span>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout>\r\n          <HashRouter>\r\n            <Switch>\r\n              <Route path={`${modulePath}/manage`} component={Manage} />\r\n              <Route path={`${modulePath}/authority`} component={Authority} />\r\n            </Switch>\r\n          </HashRouter>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(UserSider)\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { Result } from 'antd'\r\nimport { UserContext } from '../../home/index'\r\n// import Http from '../http/index'\r\n\r\n// 这个组件将根据登录的情况, 返回一个路由\r\nconst PrivateRoute = ({ component: Component, ...props }) => {\r\n  // 解构赋值 将 props 里面的 component 赋值给 Component\r\n  return (\r\n    <UserContext.Consumer>\r\n      {userInfo => {\r\n        const needPerms = props['permission']\r\n        const userPerms = userInfo['permissions']\r\n        const perm = needPerms\r\n          ? userPerms.find(userPerm => {\r\n              if (needPerms instanceof Array) {\r\n                return needPerms.find(needPerm => userPerm.id === needPerm)\r\n              } else {\r\n                return userPerm.id === needPerms\r\n              }\r\n            })\r\n          : 'true'\r\n        return (\r\n          <Route\r\n            {...props}\r\n            render={p => {\r\n              let userId = sessionStorage.getItem('userId')\r\n              // if (!userId) {\r\n              //   debugger\r\n              //   Http.get(`/account?id=`).then(res => {\r\n              //     userId = res.data.data.id\r\n              //     sessionStorage.setItem('userId', res.data.data.id)\r\n              //   })\r\n              // }\r\n              if (userId) {\r\n                // 如果登录了, 返回正确的路由\r\n                return perm ? (\r\n                  <Component />\r\n                ) : (\r\n                  <Result\r\n                    style={{ width: '100%', height: '100%' }}\r\n                    status=\"403\"\r\n                    title=\"403\"\r\n                    subTitle=\"没有访问权限\"\r\n                  />\r\n                )\r\n              } else {\r\n                // 没有登录就重定向至登录页面\r\n                return (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: '/login',\r\n                      state: {\r\n                        from: p.location.pathname\r\n                      }\r\n                    }}\r\n                  />\r\n                )\r\n              }\r\n            }}\r\n          />\r\n        )\r\n      }}\r\n    </UserContext.Consumer>\r\n  )\r\n}\r\nexport default PrivateRoute\r\n","import React from 'react'\r\nimport { Select, Spin } from 'antd'\r\nimport debounce from 'lodash/debounce'\r\nimport Http from '../../http'\r\n\r\nconst { Option } = Select\r\n\r\ninterface IProps {\r\n  onChange?: (value: string) => void\r\n}\r\n\r\ninterface IState {\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any\r\n    sorters: any\r\n  }\r\n  data: Array<{ text: string; value: string }>\r\n  value: Array<any>\r\n  loading: boolean\r\n}\r\n\r\nclass ContractNumSelector extends React.Component<IProps, IState> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.fetchUser = debounce(this.fetchUser, 800)\r\n    this.state = {\r\n      param: {\r\n        conditions: { ranges: {} },\r\n        sorters: {}\r\n      },\r\n      data: [],\r\n      value: [],\r\n      loading: false\r\n    }\r\n  }\r\n\r\n  fetchUser = value => {\r\n    if (!value || (value as string).trim() === '') {\r\n      return\r\n    }\r\n    const param = {\r\n      contractNum: value\r\n    }\r\n    this.setState({ data: [], loading: true })\r\n    setTimeout(() => {\r\n      Http.post(`/docm/contract-num/list`, param).then(res => {\r\n        let data = []\r\n        if (res.data.status === '00000000' && res.data.data.length > 0) {\r\n          data = res.data.data.map(contractNum => ({\r\n            text: contractNum,\r\n            value: contractNum\r\n          }))\r\n        }\r\n        this.setState({ data, loading: false })\r\n      })\r\n    }, 300)\r\n  }\r\n\r\n  handleChange = value => {\r\n    const { onChange } = this.props\r\n    this.setState({\r\n      value,\r\n      data: [],\r\n      loading: false\r\n    })\r\n    onChange && onChange(value)\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, value } = this.state\r\n    return (\r\n      <Select\r\n        value={value}\r\n        placeholder=\"中标编号\"\r\n        notFoundContent={loading ? <Spin size=\"small\" /> : null}\r\n        filterOption={false}\r\n        showSearch\r\n        onSearch={this.fetchUser}\r\n        onChange={this.handleChange}\r\n        showArrow={false}\r\n        allowClear\r\n      >\r\n        {data.map((d, index) => (\r\n          <Option key={`${d.value}-${index}`} value={d.value}>\r\n            {d.text}\r\n          </Option>\r\n        ))}\r\n      </Select>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ContractNumSelector\r\n","import React from \"react\";\r\nimport {\r\n  Layout,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Icon,\r\n  Modal,\r\n  Tooltip,\r\n  Form,\r\n  Row,\r\n  Col,\r\n} from \"antd\";\r\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport IDocmVO from \"../type\";\r\nimport { IDeptVO, IinvalidAttachInfo } from \"../../user/manage/type\";\r\nimport Http, {\r\n  QueryResult,\r\n  QueryRequest,\r\n  serverPath,\r\n} from \"../../../../common/http\";\r\nimport { modulePath } from \"../index\";\r\nimport { toLine } from \"../../../../common/util\";\r\nimport {\r\n  addToolBarScrollEventListener,\r\n  removeToolBarScrollEventListener,\r\n} from \"../../../../common/util\";\r\nimport { UserContext } from \"../../../index\";\r\nimport ContractNumSelector from \"../../../../common/selector/contractnum\";\r\nimport \"./index.css\";\r\n\r\nconst { Content } = Layout;\r\nconst { Option } = Select;\r\n\r\nconst colLayout = {\r\n  xs: { span: 6 },\r\n  md: { span: 6 },\r\n};\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 5 },\r\n    md: { span: 5 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 19 },\r\n    md: { span: 19 },\r\n  },\r\n};\r\n\r\ntype IProps = RouteComponentProps & {};\r\n\r\ninterface IState {\r\n  loading: boolean;\r\n  needFixed: boolean;\r\n  selectedRowKeys: string[] | number[];\r\n  /**\r\n   * 项目类型下拉选数据\r\n   */\r\n  projectTypes: Array<string>;\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<IDocmVO>;\r\n  pageSize: number | undefined;\r\n  current: number | undefined;\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any | undefined;\r\n    sorters: any | undefined;\r\n  };\r\n\r\n  /**\r\n   * 部门数据\r\n   */\r\n  deptData: Array<IDeptVO>;\r\n\r\n  /**\r\n   * 附件数据更新的Modal框是否显示\r\n   */\r\n  visible: boolean;\r\n\r\n  /**\r\n   * 无效的附件信息\r\n   */\r\n  invalidAttachInfos: Array<IinvalidAttachInfo>;\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    this.state = {\r\n      loading: true,\r\n      needFixed: false,\r\n      selectedRowKeys: [],\r\n      projectTypes: [],\r\n      data: {\r\n        total: undefined,\r\n        content: [],\r\n      },\r\n      pageSize: 15,\r\n      current: 1,\r\n      param: {\r\n        conditions: {},\r\n        sorters: {},\r\n      },\r\n      deptData: [],\r\n      visible: false,\r\n      invalidAttachInfos: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadProjectTypes();\r\n    this.loadDeptData();\r\n    this.handleListChange();\r\n    addToolBarScrollEventListener(\r\n      () => this.setState({ needFixed: true }),\r\n      () => this.setState({ needFixed: false })\r\n    );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // 移除工具条滚动时的监听\r\n    removeToolBarScrollEventListener();\r\n  }\r\n\r\n  handleListChange = () => {\r\n    this.setState({ loading: true }, () => {\r\n      const { pageSize, current, param } = this.state;\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param,\r\n      };\r\n      Http.post(\"/docm/list\", queryRequest)\r\n        .then((res) => {\r\n          this.setState({ loading: false, data: res.data.data });\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ loading: false });\r\n        });\r\n    });\r\n  };\r\n\r\n  loadProjectTypes = () => {\r\n    Http.get(`/docm/type/list`)\r\n      .then((res) => {\r\n        this.setState({ projectTypes: res.data.data });\r\n      })\r\n      .catch((err) => {\r\n        message.error(\"加载项目类型数据失败\");\r\n      });\r\n  };\r\n\r\n  loadDeptData = () => {\r\n    this.setState({ loading: true }, () => {\r\n      Http.post(`/dept/list-all`)\r\n        .then((res) => {\r\n          this.setState({ loading: false, deptData: res.data.data });\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ loading: false });\r\n        });\r\n    });\r\n  };\r\n\r\n  handleSelectChange = (field, value) => {\r\n    const { conditions } = this.state.param;\r\n    conditions[field] = value;\r\n    this.setState({ current: 1 });\r\n    this.handleListChange();\r\n  };\r\n\r\n  handleCheckInvalidAttach = async () => {\r\n    Http.get(\"/doc/check-invalid-attach\")\r\n      .then((res) => {\r\n        this.setState({\r\n          loading: false,\r\n          invalidAttachInfos: res.data,\r\n          visible: true,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ loading: false });\r\n      });\r\n  };\r\n\r\n  handleDeleteInvalidAttach = async (attachs) => {\r\n    Http.post(\"/doc/delete-invalid-attach\", attachs)\r\n      .then((res) => {\r\n        message.success(\"操作成功\");\r\n        this.setState({\r\n          loading: false,\r\n          invalidAttachInfos: [],\r\n          visible: false,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ loading: false });\r\n      });\r\n  };\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    Modal.confirm({\r\n      title: \"确定删除?\",\r\n      okText: \"确认\",\r\n      cancelText: \"取消\",\r\n      onOk: async () => {\r\n        let queryString = \"\";\r\n        ids.forEach((id) => (queryString = queryString.concat(`ids=${id}&`)));\r\n        await Http.delete(\r\n          `/docm?${queryString.substring(0, queryString.length - 1)}`\r\n        );\r\n        message.success(\"删除成功\");\r\n        this.handleListChange();\r\n      },\r\n    });\r\n  };\r\n\r\n  buildColumns() {\r\n    const columns = [\r\n      {\r\n        title: \"序号\",\r\n        key: \"index\",\r\n        render: (text, record, index) => {\r\n          return index + 1;\r\n        },\r\n        onHeaderCell: (column) => ({\r\n          style: { textAlign: \"center\", width: \"5%\" },\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: \"center\" } }),\r\n      },\r\n      {\r\n        title: \"合同名称\",\r\n        dataIndex: \"projectName\",\r\n        key: \"projectName\",\r\n        sorter: (a, b) => {\r\n          return a.id - b.id;\r\n        },\r\n        onHeaderCell: (column) => ({\r\n          style: { textAlign: \"center\" },\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: \"center\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\",\r\n            whiteSpace: \"nowrap\",\r\n            cursor: \"pointer\",\r\n          },\r\n        }),\r\n        render: (text) => (\r\n          <Tooltip placement=\"topLeft\" title={text}>\r\n            {text}\r\n          </Tooltip>\r\n        ),\r\n      },\r\n      {\r\n        title: \"合同类型\",\r\n        dataIndex: \"projectType\",\r\n        key: \"projectType\",\r\n        sorter: (a, b) => {\r\n          return a.id - b.id;\r\n        },\r\n        onHeaderCell: (column) => ({\r\n          style: { textAlign: \"center\", width: \"10%\" },\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: \"center\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\",\r\n            whiteSpace: \"nowrap\",\r\n            cursor: \"pointer\",\r\n          },\r\n        }),\r\n        render: (text) => (\r\n          <Tooltip placement=\"topLeft\" title={text}>\r\n            {text}\r\n          </Tooltip>\r\n        ),\r\n      },\r\n      {\r\n        title: \"乙方名称\",\r\n        dataIndex: \"company\",\r\n        key: \"company\",\r\n        sorter: (a, b) => {\r\n          return a.id - b.id;\r\n        },\r\n        onHeaderCell: (column) => ({\r\n          style: { textAlign: \"center\", width: \"10%\" },\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: \"center\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\",\r\n            whiteSpace: \"nowrap\",\r\n            cursor: \"pointer\",\r\n          },\r\n        }),\r\n        render: (text) => (\r\n          <Tooltip placement=\"topLeft\" title={text}>\r\n            {text}\r\n          </Tooltip>\r\n        ),\r\n      },\r\n      {\r\n        title: \"中标编号\",\r\n        dataIndex: \"contractNum\",\r\n        key: \"contractNum\",\r\n        sorter: (a, b) => {\r\n          return a.id - b.id;\r\n        },\r\n        onHeaderCell: (column) => ({\r\n          style: { textAlign: \"center\", width: \"10%\" },\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: \"center\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\",\r\n            whiteSpace: \"nowrap\",\r\n            cursor: \"pointer\",\r\n          },\r\n        }),\r\n        render: (text) => (\r\n          <Tooltip placement=\"topLeft\" title={text}>\r\n            {text}\r\n          </Tooltip>\r\n        ),\r\n      },\r\n      {\r\n        title: \"科室\",\r\n        dataIndex: \"dept\",\r\n        key: \"dept\",\r\n        onHeaderCell: (column) => ({\r\n          style: { textAlign: \"center\", width: \"6%\" },\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: \"center\",\r\n            overflow: \"hidden\",\r\n            textOverflow: \"ellipsis\",\r\n            whiteSpace: \"nowrap\",\r\n            cursor: \"pointer\",\r\n          },\r\n        }),\r\n        render: (text) => (\r\n          <Tooltip placement=\"topLeft\" title={text ? text.name : \"\"}>\r\n            {text ? text.name : \"\"}\r\n          </Tooltip>\r\n        ),\r\n      },\r\n      {\r\n        title: \"总金额\",\r\n        dataIndex: \"money\",\r\n        key: \"money\",\r\n        sorter: (a, b) => {\r\n          return a.id - b.id;\r\n        },\r\n        onHeaderCell: (column) => ({\r\n          style: { textAlign: \"center\", width: \"15%\" },\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: \"center\" } }),\r\n      },\r\n      {\r\n        title: \"创建时间\",\r\n        dataIndex: \"createTime\",\r\n        key: \"createTime\",\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format(\"YYYY-MM-DD HH:mm:ss\");\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id;\r\n        },\r\n        onHeaderCell: (column) => ({\r\n          style: { textAlign: \"center\", width: \"12%\" },\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: \"center\" } }),\r\n      },\r\n      {\r\n        title: \"操作\",\r\n        key: \"operation\",\r\n        render: (text, record, index) => {\r\n          return (\r\n            <UserContext.Consumer>\r\n              {(userInfo) => {\r\n                const DOCM_EDIT_OPER_permission = userInfo[\"permissions\"].find(\r\n                  (perm) => perm.id === \"DOCM_EDIT_OPER\"\r\n                );\r\n                const DOCM_DELETE_OPER_permission = userInfo[\r\n                  \"permissions\"\r\n                ].find((perm) => perm.id === \"DOCM_DELETE_OPER\");\r\n                const DOCM_DOWNLOAD_OPER_permission = userInfo[\r\n                  \"permissions\"\r\n                ].find((perm) => perm.id === \"DOCM_DOWNLOAD_OPER\");\r\n                return (\r\n                  <div>\r\n                    {DOCM_EDIT_OPER_permission && (\r\n                      <Button\r\n                        type={\"link\"}\r\n                        onClick={(event) => {\r\n                          event.preventDefault();\r\n                          this.props.history.push(\r\n                            `${modulePath}/edit/${record.id}`\r\n                          );\r\n                        }}\r\n                      >\r\n                        编辑\r\n                      </Button>\r\n                    )}\r\n                    {DOCM_DOWNLOAD_OPER_permission &&\r\n                      record.attachments &&\r\n                      record.attachments.length > 0 && (\r\n                        <Button\r\n                          type={\"link\"}\r\n                          href={`${serverPath}/doc?id=${\r\n                            record.id\r\n                          }&xAuthToken=${sessionStorage.getItem(\"xAuthToken\")}`}\r\n                          target=\"_blank\"\r\n                        >\r\n                          下载\r\n                        </Button>\r\n                      )}\r\n                    {DOCM_DELETE_OPER_permission && (\r\n                      <Button\r\n                        type={\"link\"}\r\n                        onClick={() => this.handleDeleteOper([record.id])}\r\n                      >\r\n                        删除\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                );\r\n              }}\r\n            </UserContext.Consumer>\r\n          );\r\n        },\r\n        onHeaderCell: (column) => ({\r\n          style: { textAlign: \"center\", width: \"16%\" },\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: \"center\" } }),\r\n      },\r\n    ];\r\n    return columns;\r\n  }\r\n\r\n  renderTable() {\r\n    const {\r\n      loading,\r\n      data,\r\n      pageSize,\r\n      current,\r\n      selectedRowKeys,\r\n      visible,\r\n      invalidAttachInfos,\r\n    } = this.state;\r\n    return (\r\n      <UserContext.Consumer>\r\n        {(userInfo) => {\r\n          const DOCM_DELETE_OPER_permission = userInfo[\"permissions\"].find(\r\n            (perm) => perm.id === \"DOCM_DELETE_OPER\"\r\n          );\r\n          const rowSelection = DOCM_DELETE_OPER_permission\r\n            ? {\r\n                columnWidth: \"30px\",\r\n                selectedRowKeys,\r\n                onChange: (selectedRowKeys) => {\r\n                  this.setState({ selectedRowKeys });\r\n                },\r\n              }\r\n            : undefined;\r\n          return !loading && data && data.content.length > 0 ? (\r\n            <>\r\n              <Table\r\n                rowKey={(record) => {\r\n                  return record.id;\r\n                }}\r\n                rowSelection={rowSelection}\r\n                columns={this.buildColumns()}\r\n                dataSource={data.content}\r\n                loading={loading}\r\n                onRow={(record, index) => {\r\n                  return {\r\n                    onClick: (event) => {\r\n                      if (event.target[\"tagName\"] !== \"TD\") {\r\n                        return;\r\n                      }\r\n                      this.props.history.push(\r\n                        `${modulePath}/view/${record.id}`\r\n                      );\r\n                    },\r\n                  };\r\n                }}\r\n                size={\"small\"}\r\n                pagination={{\r\n                  total: data.total,\r\n                  current,\r\n                  pageSize,\r\n                  pageSizeOptions: [\"15\", \"30\", \"50\"],\r\n                  showSizeChanger: true,\r\n                  onShowSizeChange: (current, pageSize) => {\r\n                    this.setState({ current: 1, pageSize });\r\n                  },\r\n                  showTotal: (total) => {\r\n                    return `共 ${total} 条`;\r\n                  },\r\n                }}\r\n                onChange={(pagination, filters, sorter, extra) => {\r\n                  const { param } = this.state;\r\n                  const { current, pageSize } = pagination;\r\n                  const { field, order } = sorter;\r\n                  param.sorters = {};\r\n                  if (field && order) {\r\n                    param.sorters[toLine(field)] = fetchOrderDirection(order);\r\n                  }\r\n                  this.setState({ current, pageSize });\r\n                  this.handleListChange();\r\n                }}\r\n              />\r\n              {invalidAttachInfos && invalidAttachInfos.length > 0 ? (\r\n                <Modal\r\n                  visible={visible}\r\n                  title=\"不存在的文件\"\r\n                  onOk={(e) => {\r\n                    message.info(\"OK\");\r\n                  }}\r\n                  onCancel={(e) => {\r\n                    this.setState({ visible: false });\r\n                  }}\r\n                  footer={[\r\n                    <Button\r\n                      key=\"delete\"\r\n                      loading={loading}\r\n                      type=\"primary\"\r\n                      onClick={() =>\r\n                        this.handleDeleteInvalidAttach(invalidAttachInfos)\r\n                      }\r\n                    >\r\n                      清理\r\n                    </Button>,\r\n                    <Button\r\n                      key=\"cancel\"\r\n                      loading={loading}\r\n                      onClick={() => {\r\n                        this.setState({ visible: false });\r\n                      }}\r\n                    >\r\n                      取消\r\n                    </Button>,\r\n                  ]}\r\n                  width={1000}\r\n                >\r\n                  {invalidAttachInfos.map((info) => (\r\n                    <p>{info.path}</p>\r\n                  ))}\r\n                </Modal>\r\n              ) : (\r\n                visible && this.handleNotFoundInvalidAttachs()\r\n              )}\r\n            </>\r\n          ) : (\r\n            <Empty description={\"暂无内容\"} />\r\n          );\r\n        }}\r\n      </UserContext.Consumer>\r\n    );\r\n  }\r\n\r\n  handleNotFoundInvalidAttachs() {\r\n    message.success(\"所有附件正常\");\r\n    this.setState({ visible: false });\r\n  }\r\n\r\n  renderKeywordSearchBar() {\r\n    return (\r\n      <Select\r\n        mode={\"tags\"}\r\n        placeholder={\"合同名称、乙方名称或金额\"}\r\n        tokenSeparators={[\" \"]}\r\n        showArrow={true}\r\n        suffixIcon={<Icon style={{ fontSize: \"16px\" }} type=\"search\" />}\r\n        onChange={this.handleSelectChange.bind(this, \"keywords\")}\r\n        notFoundContent={null}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderProjectTypeSearchBar() {\r\n    const { projectTypes } = this.state;\r\n    return (\r\n      <Select\r\n        placeholder={\"请选择合同类型\"}\r\n        allowClear\r\n        showArrow={true}\r\n        onChange={this.handleSelectChange.bind(this, \"projectType\")}\r\n        notFoundContent={\"暂无数据\"}\r\n      >\r\n        {projectTypes.map((pType) => (\r\n          <Option key={pType} value={pType}>\r\n            {pType}\r\n          </Option>\r\n        ))}\r\n      </Select>\r\n    );\r\n  }\r\n\r\n  renderDeptSearchBar() {\r\n    const { deptData } = this.state;\r\n    return (\r\n      <Select\r\n        placeholder={\"请选择\"}\r\n        allowClear\r\n        showArrow={true}\r\n        onChange={this.handleSelectChange.bind(this, \"dept\")}\r\n      >\r\n        {deptData.map((dept) => (\r\n          <Option key={dept.id} value={dept.id}>\r\n            {dept.name}\r\n          </Option>\r\n        ))}\r\n      </Select>\r\n    );\r\n  }\r\n\r\n  renderContractNumSearchBar() {\r\n    return (\r\n      <ContractNumSelector\r\n        onChange={this.handleSelectChange.bind(this, \"contractNum\")}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderButtonBar() {\r\n    const { selectedRowKeys } = this.state;\r\n    return (\r\n      <UserContext.Consumer>\r\n        {(userInfo) => {\r\n          const DOCM_ADD_OPER_permission = userInfo[\"permissions\"].find(\r\n            (perm) => perm.id === \"DOCM_ADD_OPER\"\r\n          );\r\n          const DOCM_DELETE_OPER_permission = userInfo[\"permissions\"].find(\r\n            (perm) => perm.id === \"DOCM_DELETE_OPER\"\r\n          );\r\n          return (\r\n            <div style={{ margin: \"4px\", flex: 1 }}>\r\n              <span style={{ float: \"right\" }}>\r\n                {DOCM_DELETE_OPER_permission && (\r\n                  <Button\r\n                    className=\"ele-operation\"\r\n                    type=\"ghost\"\r\n                    onClick={() => {\r\n                      this.handleCheckInvalidAttach();\r\n                    }}\r\n                  >\r\n                    检查附件\r\n                  </Button>\r\n                )}\r\n                {DOCM_ADD_OPER_permission && (\r\n                  <Button\r\n                    className=\"ele-operation\"\r\n                    type=\"primary\"\r\n                    onClick={() => {\r\n                      this.props.history.push(`${modulePath}/add`);\r\n                    }}\r\n                  >\r\n                    新建\r\n                  </Button>\r\n                )}\r\n                {DOCM_DELETE_OPER_permission && (\r\n                  <Button\r\n                    type=\"ghost\"\r\n                    disabled={selectedRowKeys.length < 1}\r\n                    onClick={() => {\r\n                      this.handleDeleteOper(selectedRowKeys);\r\n                    }}\r\n                  >\r\n                    批量删除\r\n                  </Button>\r\n                )}\r\n              </span>\r\n            </div>\r\n          );\r\n        }}\r\n      </UserContext.Consumer>\r\n    );\r\n  }\r\n\r\n  renderToolBar() {\r\n    return (\r\n      <div>\r\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <div style={{ flex: \"1\" }}>\r\n            <Form {...formItemLayout}>\r\n              <Row gutter={10}>\r\n                <Col {...colLayout}>\r\n                  <Form.Item key={\"renderKeywordSearchBar\"} label={\"关键字\"}>\r\n                    {this.renderKeywordSearchBar()}\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...colLayout}>\r\n                  <Form.Item\r\n                    key={\"renderProjectTypeSearchBar\"}\r\n                    label=\"合同类型\"\r\n                  >\r\n                    {this.renderProjectTypeSearchBar()}\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...colLayout}>\r\n                  <Form.Item key={\"renderDeptSearchBar\"} label=\"科室\">\r\n                    {this.renderDeptSearchBar()}\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col {...colLayout}>\r\n                  <Form.Item\r\n                    key={\"renderContractNumSearchBar\"}\r\n                    label=\"中标编号\"\r\n                  >\r\n                    {this.renderContractNumSearchBar()}\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          </div>\r\n          <div style={{ flex: \".2\" }}>{this.renderButtonBar()}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { needFixed } = this.state;\r\n    return (\r\n      <Content>\r\n        <div className=\"list-page\">\r\n          <div className=\"list-page-content\">\r\n            <div\r\n              className={`list-page-content-toolbar ${\r\n                needFixed ? \"toolbar-fixed\" : \"\"\r\n              }`}\r\n            >\r\n              {this.renderToolBar()}\r\n            </div>\r\n            <div className=\"list-page-content-table\">{this.renderTable()}</div>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n    );\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === \"descend\") {\r\n    return \"desc\";\r\n  } else {\r\n    return \"asc\";\r\n  }\r\n}\r\n\r\nexport default withRouter(List);\r\n","import React from 'react'\r\nimport { Tooltip } from 'antd'\r\n\r\nexport const colLayout = {\r\n  xs: { span: 24 },\r\n  md: { span: 12 }\r\n}\r\n\r\nexport const formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 6 },\r\n    md: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 12 },\r\n    md: { span: 18 }\r\n  }\r\n}\r\n\r\nexport const lastFormItemLayout = {\r\n  // labelCol: {\r\n  //   xs: { span: 6 },\r\n  //   md: { span: 4 }\r\n  // },\r\n  wrapperCol: {\r\n    xs: { span: 12, offset: 6 },\r\n    md: { span: 18, offset: 4 }\r\n  }\r\n}\r\n\r\nexport const singleRowFormItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 6 },\r\n    md: { span: 2 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 12 },\r\n    md: { span: 21 }\r\n  }\r\n}\r\n\r\nexport const commonTableColumnProps = {\r\n  onHeaderCell: column => ({\r\n    style: { textAlign: 'center', width: '10%' }\r\n  }),\r\n  onCell: (record, rowIndex) => ({\r\n    style: {\r\n      textAlign: 'center',\r\n      overflow: 'hidden',\r\n      textOverflow: 'ellipsis',\r\n      whiteSpace: 'nowrap'\r\n    }\r\n  }),\r\n  render: text =>\r\n    text && (\r\n      <Tooltip placement=\"topLeft\" title={text}>\r\n        {text}\r\n      </Tooltip>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Input\r\n  // Tooltip\r\n} from 'antd'\r\n\r\n// function formatNumber(value) {\r\n//   value += \"\";\r\n//   const list = value.split(\".\");\r\n//   const prefix = list[0].charAt(0) === \"-\" ? \"-\" : \"\";\r\n//   let num = prefix ? list[0].slice(1) : list[0];\r\n//   let result = \"\";\r\n//   while (num.length > 3) {\r\n//     result = `,${num.slice(-3)}${result}`;\r\n//     num = num.slice(0, num.length - 3);\r\n//   }\r\n//   if (num) {\r\n//     result = num + result;\r\n//   }\r\n//   return `${prefix}${result}${list[1] ? `.${list[1]}` : \"\"}`;\r\n// }\r\n\r\ninterface IProps {\r\n  value?: string\r\n  placeholder?: string\r\n  tips?: string\r\n  onBlur?: () => void\r\n  onChange?: (value: any) => void\r\n}\r\n\r\ninterface IState {}\r\n\r\nclass NumericInput extends React.Component<IProps, IState> {\r\n  onChange = e => {\r\n    const { value } = e.target\r\n    const reg = /^-?(0|[1-9][0-9]*)(\\.[0-9]*)?$/\r\n    const { onChange } = this.props\r\n    if (\r\n      (!Number.isNaN(value) && reg.test(value)) ||\r\n      value === '' ||\r\n      value === '-'\r\n    ) {\r\n      onChange && onChange(value)\r\n    }\r\n  }\r\n\r\n  // '.' at the end or only '-' in the input box.\r\n  onBlur = () => {\r\n    const { value, onBlur, onChange } = this.props\r\n    if (value && (value.charAt(value.length - 1) === '.' || value === '-')) {\r\n      onChange && onChange({ value: value.slice(0, -1) })\r\n    }\r\n    if (onBlur) {\r\n      onBlur()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // const { value, tips } = this.props;\r\n    // const title = value ? (\r\n    //   <span className=\"numeric-input-title\">\r\n    //     {value !== \"-\" ? formatNumber(value) : \"-\"}\r\n    //   </span>\r\n    // ) : (\r\n    //   tips\r\n    // );\r\n    return (\r\n      // <Tooltip\r\n      //   trigger={\"focus\"}\r\n      //   title={title}\r\n      //   placement=\"topLeft\"\r\n      //   overlayClassName=\"numeric-input\"\r\n      // >\r\n      // </Tooltip>\r\n      <Input\r\n        {...this.props}\r\n        onChange={this.onChange}\r\n        onBlur={this.onBlur}\r\n        maxLength={25}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default NumericInput\r\n","import React from 'react'\r\nimport { Select } from 'antd'\r\nimport Http from '../../../../../../common/http'\r\nimport { IDeptVO } from '../../../type'\r\n\r\nconst { Option } = Select\r\n\r\ntype IProps = {\r\n  value?: IDeptVO\r\n  onChange?: (value) => void\r\n}\r\ntype IState = {\r\n  value: string\r\n  deptData: Array<IDeptVO>\r\n}\r\n\r\nclass DeptSelect extends React.Component<IProps, IState> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      value: props.value ? props.value.id : undefined,\r\n      deptData: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 加载科室下拉选择器数据\r\n    Http.post(`/dept/list-all`)\r\n      .then(res => {\r\n        this.setState({ deptData: res.data.data })\r\n      })\r\n      .catch(err => {})\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevProps) {\r\n    if (nextProps.value) {\r\n      if (prevProps.value) {\r\n        if (nextProps.value.id !== prevProps.value.id) {\r\n          return { value: nextProps.value.id }\r\n        }\r\n      } else {\r\n        return { value: nextProps.value.id }\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  handleOnChange(value) {\r\n    const { onChange } = this.props\r\n    const { deptData } = this.state\r\n    const deptValue = deptData.find(dept => dept.id === value)\r\n    onChange && onChange(deptValue)\r\n    this.setState({ value })\r\n  }\r\n\r\n  render() {\r\n    const { deptData, value } = this.state\r\n    return (\r\n      <Select\r\n        style={{ width: '100%' }}\r\n        placeholder={'请选择'}\r\n        value={value}\r\n        showSearch\r\n        allowClear\r\n        onChange={this.handleOnChange.bind(this)}\r\n        filterOption={(input, option: any) =>\r\n          option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n        }\r\n      >\r\n        {deptData.map(dept => (\r\n          <Option key={dept.id} value={dept.id}>\r\n            {dept.name}\r\n          </Option>\r\n        ))}\r\n      </Select>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DeptSelect\r\n","import React, { Component } from 'react'\r\nimport { Form, Col, Row, Input, DatePicker } from 'antd'\r\nimport NumericInput from '../../../../../common/NumericInput'\r\nimport DeptSelect from './dept'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { formItemLayout, colLayout } from '../../util'\r\n\r\ntype IProps = FormComponentProps & {}\r\ntype IState = {}\r\n\r\nclass EditForm extends Component<IProps, IState> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      deptData: []\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    getFieldDecorator('id')\r\n    getFieldDecorator('attachments')\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        <Row gutter={10}>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'projectName'} label=\"合同名称\">\r\n              {getFieldDecorator('projectName', {\r\n                rules: [\r\n                  { required: true, message: '请输入合同名称' },\r\n                  {\r\n                    max: 100,\r\n                    message: '不能超过100字'\r\n                  }\r\n                ]\r\n              })(<Input />)}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'dept'} label=\"所属科室\">\r\n              {getFieldDecorator('dept')(<DeptSelect />)}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={10}>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'company'} label=\"乙方名称\">\r\n              {getFieldDecorator('company', {\r\n                rules: [\r\n                  {\r\n                    max: 100,\r\n                    message: '不能超过100字'\r\n                  }\r\n                ]\r\n              })(<Input />)}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'projectType'} label=\"合同类型\">\r\n              {getFieldDecorator('projectType', {\r\n                rules: [\r\n                  {\r\n                    max: 50,\r\n                    message: '不能超过50字'\r\n                  }\r\n                ]\r\n              })(<Input />)}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={10}>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'contractNum'} label=\"中标编号\">\r\n              {getFieldDecorator('contractNum', {\r\n                rules: [\r\n                  {\r\n                    max: 50,\r\n                    message: '不能超过50字'\r\n                  }\r\n                ]\r\n              })(<Input />)}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'contractTime'} label=\"合同签订时间\">\r\n              {getFieldDecorator('contractTime')(\r\n                <DatePicker style={{ width: '100%' }} format={'YYYY-MM-DD'} />\r\n              )}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={10}>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'money'} label=\"总金额\">\r\n              {getFieldDecorator('money', {\r\n                rules: [{ required: true, message: '请填写合同总金额' }]\r\n              })(\r\n                <NumericInput\r\n                  onChange={value => {}}\r\n                  tips={'请输入合同总金额'}\r\n                />\r\n              )}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'desc'} label={'备注'}>\r\n              {getFieldDecorator('desc', {\r\n                rules: [{ max: 500, message: '不能超过500字' }]\r\n              })(<Input.TextArea />)}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Form.create()(EditForm)\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Button,\r\n  Form,\r\n  Icon,\r\n  Upload,\r\n  message,\r\n  Progress,\r\n  Card,\r\n  Avatar\r\n} from 'antd'\r\nimport { createForm } from 'rc-form'\r\nimport $ from 'jquery'\r\nimport { UploadFile } from 'antd/lib/upload/interface'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport moment from 'moment'\r\nimport IDocmVO, { IAttachmentVO } from '../type'\r\nimport { singleRowFormItemLayout, formItemLayout } from '../util'\r\nimport {\r\n  addToolBarScrollEventListener,\r\n  removeToolBarScrollEventListener\r\n} from '../../../../common/util'\r\nimport Http, { serverPath } from '../../../../common/http'\r\nimport EditForm from './form'\r\nimport { modulePath } from '../index'\r\nimport './index.css'\r\n\r\nconst { Content } = Layout\r\nconst { Dragger } = Upload\r\nconst { Meta } = Card\r\n\r\ntype AttachFile = UploadFile & IAttachmentVO\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  mode: 'edit' | 'add' | undefined\r\n  appConf: any\r\n  loading: boolean\r\n  data: IDocmVO | undefined\r\n  fileList: Array<AttachFile>\r\n  deptData: Array<any>\r\n  selectedDept: any\r\n  percent: any\r\n  needFixed: boolean\r\n}\r\n\r\nclass Edit extends React.Component<IProps, IState> {\r\n  editForm: React.ReactElement<FormComponentProps> | undefined = undefined\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      mode: undefined,\r\n      appConf: {\r\n        uploadFileMaxAmount: 20\r\n      },\r\n      loading: true,\r\n      data: undefined,\r\n      fileList: [],\r\n      deptData: [],\r\n      selectedDept: undefined,\r\n      percent: 0,\r\n      needFixed: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 数据初始化\r\n    this.initData()\r\n    // 添加工具条滚动时的监听\r\n    addToolBarScrollEventListener(\r\n      () => {\r\n        this.setState({ needFixed: true })\r\n      },\r\n      () => {\r\n        this.setState({ needFixed: false })\r\n      }\r\n    )\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // 移除工具条滚动时的监听\r\n    removeToolBarScrollEventListener()\r\n  }\r\n\r\n  initData() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    const mode = id ? 'edit' : 'add'\r\n    this.setState({ mode, loading: true }, () => {\r\n      // 编辑模式\r\n      if (mode === 'edit') {\r\n        Http.get(`/docm?id=${id}`)\r\n          .then(res => {\r\n            const data = res.data.data\r\n            this.editForm &&\r\n              this.editForm.props.form.setFieldsValue({\r\n                ...data,\r\n                contractTime: data.contractTime\r\n                  ? moment(data.contractTime, 'YYYY-MM-DD')\r\n                  : undefined,\r\n                credentialTime: data.credentialTime\r\n                  ? moment(data.credentialTime, 'YYYY-MM')\r\n                  : undefined\r\n              })\r\n            // 处理附件集合\r\n            const fileList: Array<AttachFile> = data.attachments.map(\r\n              (attachment: IAttachmentVO) => ({\r\n                uid: attachment.id,\r\n                name: attachment.docName,\r\n                docName: attachment.docName,\r\n                docPath: attachment.docPath,\r\n                type: attachment.type,\r\n                size: attachment.size,\r\n                status: 'done'\r\n              })\r\n            )\r\n            this.setState({\r\n              loading: false,\r\n              data,\r\n              fileList,\r\n              selectedDept: data.dept\r\n            })\r\n          })\r\n          .catch(error => {})\r\n        // 新建模式\r\n      } else if (mode === 'add') {\r\n        this.editForm &&\r\n          this.editForm.props.form.setFieldsValue({ attachments: [] })\r\n        this.setState({ loading: false })\r\n      }\r\n      // 加载科室下拉选择器数据\r\n      Http.post(`/dept/list-all`)\r\n        .then(res => {\r\n          this.setState({ deptData: res.data.data })\r\n        })\r\n        .catch(err => {})\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${modulePath}/list`)\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.editForm &&\r\n      this.editForm.props.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          const { fileList } = this.state\r\n          const params: IDocmVO = {\r\n            ...values,\r\n            contractTime: values['contractTime']\r\n              ? values['contractTime'].format('YYYY-MM-DD')\r\n              : undefined,\r\n            credentialTime: values['credentialTime']\r\n              ? values['credentialTime'].format('YYYY-MM')\r\n              : undefined,\r\n            // 上传的附件，需要状态为'done'的附件\r\n            attachments: fileList\r\n              .filter(file => {\r\n                return file.status === 'done'\r\n              })\r\n              .map(file => ({\r\n                docPath: file.docPath,\r\n                docName: file.docName,\r\n                type: file.type,\r\n                size: file.size,\r\n                md5: file.md5\r\n              }))\r\n          }\r\n          const { mode } = this.state\r\n          const method =\r\n            mode === 'add' ? Http.put : mode === 'edit' ? Http.post : undefined\r\n          method &&\r\n            method(`/docm`, params)\r\n              .then(res => {\r\n                if (res.data.status === '00000000') {\r\n                  this.props.history.push(`${modulePath}/list`)\r\n                } else {\r\n                  message.error(res.data.message)\r\n                }\r\n              })\r\n              .catch(err => {\r\n                message.info(err.response.data.msg)\r\n              })\r\n        }\r\n      })\r\n  }\r\n\r\n  updateFileUploadByResponse = (uid, info) => {\r\n    const { fileList } = this.state\r\n    const targetFile = fileList.find(file => {\r\n      return file.uid === uid\r\n    })\r\n    targetFile && Object.assign(targetFile, info)\r\n    this.setState({ fileList })\r\n  }\r\n\r\n  updateFileUploadStatus = (uid, status) => {\r\n    const { fileList } = this.state\r\n    const targetFile = fileList.find(file => {\r\n      return file.uid === uid\r\n    })\r\n    targetFile && (targetFile['status'] = status)\r\n    this.setState({ fileList })\r\n  }\r\n\r\n  updateFileUploadProgress = (uid, percent) => {\r\n    const { fileList } = this.state\r\n    const targetFile = fileList.find(file => {\r\n      return file.uid === uid\r\n    })\r\n    targetFile && (targetFile['percent'] = percent)\r\n    this.setState({ fileList })\r\n  }\r\n\r\n  addFileUpload = file => {\r\n    let { fileList } = this.state\r\n    fileList = fileList.concat({\r\n      uid: file.uid,\r\n      size: file.size,\r\n      name: file.name,\r\n      type: file.type,\r\n      status: 'uploading',\r\n      docName: '',\r\n      docPath: '',\r\n      md5: ''\r\n    })\r\n    this.setState({ fileList })\r\n  }\r\n\r\n  handleCustomUpload = obj => {\r\n    const { file } = obj\r\n    const { name } = file\r\n    // 校验支持的文件类型\r\n    if (!/.+(\\.pdf)|(\\.docx)|(\\.xlsx)|(\\.jpg)|(\\.png)$/.test(name)) {\r\n      message.error('不支持的文件类型')\r\n      return\r\n    }\r\n    this.addFileUpload(file)\r\n    const formData = new FormData()\r\n    formData.append('files', file)\r\n    $.ajax({\r\n      url: `${serverPath}/doc?xAuthToken=${sessionStorage.getItem(\r\n        'xAuthToken'\r\n      )}`,\r\n      type: 'POST',\r\n      data: formData,\r\n      dataType: 'json',\r\n      processData: false,\r\n      contentType: false,\r\n      timeout: 60000,\r\n      xhr: () => {\r\n        const xhr = new XMLHttpRequest()\r\n        if (xhr.upload) {\r\n          xhr.upload.addEventListener(\r\n            'progress',\r\n            e => {\r\n              if (e.lengthComputable) {\r\n                const percent = Math.floor((e.loaded / e.total) * 100)\r\n                this.updateFileUploadProgress(file.uid, percent)\r\n              }\r\n            },\r\n            false\r\n          )\r\n        }\r\n        return xhr\r\n      },\r\n      success: res => {\r\n        // 设置path和name\r\n        const { name, ...attachmentInfo } = res.data[0]\r\n        res.status === '00000000' &&\r\n          res.data &&\r\n          this.updateFileUploadByResponse(file.uid, attachmentInfo)\r\n        // 定时1.5秒后隐藏进度条\r\n        setTimeout(() => {\r\n          this.updateFileUploadStatus(file.uid, 'done')\r\n        }, 1500)\r\n      },\r\n      error: err => {\r\n        if (err.status === 403) {\r\n          message.error(`您没有上传权限`)\r\n        } else {\r\n          message.error(`${file.name} 上传失败`)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  showAttachmentList() {\r\n    return this.state.fileList.map(file => {\r\n      return (\r\n        <Card key={file.uid} size={'small'} style={{ marginTop: '8px' }}>\r\n          <Meta\r\n            title={\r\n              <div>\r\n                <div style={{ display: 'flex' }}>\r\n                  <p\r\n                    style={{\r\n                      flexGrow: 1,\r\n                      overflow: 'hidden',\r\n                      width: '200px'\r\n                    }}\r\n                  >\r\n                    {file.name}\r\n                  </p>\r\n                  <div style={{ flexGrow: 0.1 }}>\r\n                    <Button\r\n                      type={'link'}\r\n                      style={{\r\n                        float: 'right',\r\n                        color: 'gray'\r\n                      }}\r\n                      onClick={() => {\r\n                        const { fileList } = this.state\r\n                        const len = fileList.length\r\n                        for (let i = 0; i < len; i++) {\r\n                          if (fileList[i].uid === file.uid) {\r\n                            fileList.splice(i, 1)\r\n                            break\r\n                          }\r\n                        }\r\n                        this.setState({ fileList })\r\n                      }}\r\n                    >\r\n                      <Icon type={'delete'} />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                <div style={{ color: 'gray' }}>{`${file.size} Byte`}</div>\r\n                {file.status !== 'done' && <Progress percent={file.percent} />}\r\n              </div>\r\n            }\r\n            avatar={<Avatar shape={'square'} size={'large'} icon={'file'} />}\r\n          />\r\n        </Card>\r\n      )\r\n    })\r\n  }\r\n\r\n  renderForm = () => {\r\n    const {\r\n      fileList,\r\n      appConf: { uploadFileMaxAmount }\r\n    } = this.state\r\n    return (\r\n      <div>\r\n        <EditForm wrappedComponentRef={form => (this.editForm = form)} />\r\n        <Form {...formItemLayout}>\r\n          <Form.Item {...singleRowFormItemLayout} key={'upload'} label={'附件'}>\r\n            {fileList.length >= uploadFileMaxAmount ? null : (\r\n              <Dragger\r\n                accept={'.pdf,.docx,.xlsx,.jpg,.png'}\r\n                name={'files'}\r\n                multiple={true}\r\n                showUploadList={false}\r\n                customRequest={this.handleCustomUpload}\r\n              >\r\n                <p className=\"ant-upload-drag-icon\">\r\n                  <Icon type=\"inbox\" />\r\n                </p>\r\n                <p className=\"ant-upload-text\">点击或拖拽文件到此区域上传</p>\r\n                <p className=\"ant-upload-hint\">\r\n                  支持的文件类型为pdf、docx、xlsx、jpg和png，且最多20个附件\r\n                </p>\r\n              </Dragger>\r\n            )}\r\n            {this.showAttachmentList()}\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { mode } = this.state\r\n    return (\r\n      <Content>\r\n        <div\r\n          className={`tool-bar ${this.state.needFixed ? 'toolbar-fixed' : ''}`}\r\n        >\r\n          <div className=\"tool-bar-item\"></div>\r\n          <div className=\"tool-bar-item\"></div>\r\n          <div className=\"tool-bar-item\">\r\n            <div className=\"tool-bar\" style={{ float: 'right' }}>\r\n              <div className=\"tool-bar-item\">\r\n                <Button block type={'primary'} onClick={this.handleSubmit}>\r\n                  {mode === 'add' ? '提交' : '保存'}\r\n                </Button>\r\n              </div>\r\n              <div className=\"tool-bar-item\">\r\n                <Button type={'default'} onClick={this.handleCancel}>\r\n                  返回\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>{this.renderForm()}</div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nconst ContractForm = createForm({\r\n  name: 'form'\r\n})(Edit)\r\n\r\nexport default withRouter(ContractForm)\r\n","import React, { Component } from 'react'\r\nimport { Form, Input, InputNumber, DatePicker } from 'antd'\r\nimport NumericInput from '../../../../../common/NumericInput'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { formItemLayout } from '../../util'\r\n\r\nconst { MonthPicker } = DatePicker\r\n\r\ntype IProps = FormComponentProps & {}\r\ntype IState = {}\r\n\r\nclass PayItemForm extends Component<IProps, IState> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    getFieldDecorator('id')\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        <Form.Item key={'order'} label={'序号'}>\r\n          {getFieldDecorator('order', {\r\n            rules: [{ required: true, message: '序号不能为空' }]\r\n          })(<InputNumber />)}\r\n        </Form.Item>\r\n        <Form.Item key={'money'} label={'金额'}>\r\n          {getFieldDecorator('money', {\r\n            rules: [{ required: true, message: '金额不能为空' }]\r\n          })(<NumericInput />)}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialNum'} label={'凭证号'}>\r\n          {getFieldDecorator('credentialNum', {\r\n            rules: [{ max: 50, message: '不能超过50字符' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialTime'} label={'凭证时间'}>\r\n          {getFieldDecorator('credentialTime')(\r\n            <MonthPicker style={{ width: '100%' }} format={'YYYY-MM'} />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item key={'payTime'} label={'付款时间'}>\r\n          {getFieldDecorator('payTime')(\r\n            <DatePicker style={{ width: '100%' }} format={'YYYY-MM-DD'} />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item key={'desc'} label={'备注'}>\r\n          {getFieldDecorator('desc', {\r\n            rules: [{ max: 500, message: '不能超过500字' }]\r\n          })(<Input.TextArea />)}\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Form.create()(PayItemForm)\r\n","import React, { Component } from 'react'\r\nimport moment from 'moment'\r\nimport PayItemFormDecorator from './decorator'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { IPayItemVO } from '../../type'\r\n\r\ntype IProps = {\r\n  wrappedComponentRef: (form) => void\r\n  data?: IPayItemVO\r\n}\r\ntype IState = {\r\n  data: IPayItemVO | undefined\r\n}\r\n\r\nclass PayItemForm extends Component<IProps, IState> {\r\n  form: React.ReactElement<FormComponentProps> | undefined = undefined\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      data: undefined\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 此处调用 为了保证 第一次进入编辑时回显数据\r\n    this.setValue()\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevProps) {\r\n    const { data } = nextProps\r\n    return { data }\r\n  }\r\n\r\n  setValue() {\r\n    const { data } = this.state\r\n    if (this.form) {\r\n      const { setFieldsValue, resetFields } = this.form.props.form\r\n      if (data) {\r\n        const {\r\n          id,\r\n          order,\r\n          money,\r\n          credentialNum,\r\n          credentialTime,\r\n          payTime,\r\n          desc\r\n        } = data\r\n        setFieldsValue({\r\n          id,\r\n          order,\r\n          money,\r\n          credentialNum,\r\n          credentialTime: credentialTime\r\n            ? moment(credentialTime, 'YYYY-MM')\r\n            : undefined,\r\n          payTime: payTime ? moment(payTime, 'YYYY-MM-DD') : undefined,\r\n          desc\r\n        })\r\n      } else {\r\n        resetFields()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <PayItemFormDecorator\r\n        wrappedComponentRef={form => {\r\n          this.form = form\r\n          this.props.wrappedComponentRef(form)\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport default PayItemForm\r\n","import React from 'react'\r\nimport { Button, message } from 'antd'\r\n\r\ninterface IProps {\r\n  url: string\r\n  icon: string\r\n  text: string\r\n  type: any\r\n  onClick: (e) => void\r\n  onLoad: (fileData) => void\r\n}\r\ninterface IState {\r\n  loading: boolean\r\n  disable: boolean\r\n}\r\n\r\nclass FileDown extends React.Component<IProps, IState> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      loading: false,\r\n      disable: false\r\n    }\r\n  }\r\n\r\n  handleClick = e => {\r\n    this.setState({ loading: true, disable: true })\r\n    this.props.onClick(e)\r\n    const { url } = this.props\r\n    const xhr = new XMLHttpRequest()\r\n    xhr.open('GET', url, true)\r\n    xhr.responseType = 'blob'\r\n    xhr.onload = () => {\r\n      if (xhr.status === 200) {\r\n        const blob = xhr.response\r\n        const blobUrl = window.URL.createObjectURL(blob)\r\n        this.props.onLoad(blobUrl)\r\n        // const reader = new FileReader()\r\n        // reader.readAsDataURL(blob)\r\n        // reader.onload = e => {\r\n        //   const base64Data = reader.result\r\n        //   this.props.onLoad(base64Data)\r\n        // }\r\n        this.setState({ loading: false, disable: false })\r\n      } else {\r\n        message.error(xhr.statusText)\r\n      }\r\n    }\r\n    xhr.send()\r\n  }\r\n\r\n  render() {\r\n    const { text, icon, type } = this.props\r\n    const { loading, disable } = this.state\r\n    return (\r\n      <Button\r\n        type={type}\r\n        loading={loading}\r\n        disabled={disable}\r\n        icon={icon}\r\n        onClick={this.handleClick}\r\n      >\r\n        {loading ? '加载中' : text}\r\n      </Button>\r\n    )\r\n  }\r\n}\r\n\r\nexport default FileDown\r\n","import React, { Component } from 'react'\r\nimport { Document, Page, pdfjs } from 'react-pdf'\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`\r\n// pdfjs.GlobalWorkerOptions.workerSrc = `./static/js/pdf.worker.js`\r\n\r\ninterface IProps {\r\n  fileData: any\r\n}\r\n\r\ninterface IState {}\r\n\r\nconst options = {\r\n  cMapUrl: 'cmaps/',\r\n  cMapPacked: true\r\n}\r\n\r\nexport default class Sample extends Component<IProps, IState> {\r\n  state = {\r\n    numPages: null\r\n  }\r\n\r\n  onDocumentLoadSuccess = ({ numPages }) => {\r\n    this.setState({ numPages })\r\n  }\r\n\r\n  render() {\r\n    const { numPages } = this.state\r\n    const { fileData } = this.props\r\n    return (\r\n      <div>\r\n        <div>\r\n          <div>\r\n            <Document\r\n              file={fileData}\r\n              onLoadSuccess={this.onDocumentLoadSuccess}\r\n              options={options}\r\n            >\r\n              {Array.from(new Array(numPages), (el, index) => (\r\n                <Page\r\n                  key={`page_${index + 1}`}\r\n                  pageNumber={index + 1}\r\n                  renderMode={'svg'}\r\n                />\r\n              ))}\r\n            </Document>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Button,\r\n  Form,\r\n  Spin,\r\n  Modal,\r\n  Row,\r\n  Col,\r\n  Table,\r\n  message\r\n} from 'antd'\r\nimport { UploadFile } from 'antd/lib/upload/interface'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IDocmVO from '../type'\r\nimport {\r\n  colLayout as customColLayout,\r\n  singleRowFormItemLayout,\r\n  formItemLayout,\r\n  commonTableColumnProps\r\n} from '../util'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport PayItemForm from './payItemForm'\r\nimport Http, { serverPath } from '../../../../common/http'\r\nimport { IPayItemVO } from '../type'\r\nimport { modulePath } from '../index'\r\nimport './index.css'\r\nimport FileDown from './filedown'\r\nimport PDFPreviewer from './preview/index'\r\n\r\nconst { Content } = Layout\r\nconst colLayout = {\r\n  ...customColLayout,\r\n  style: { height: '48px' }\r\n}\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  data: IDocmVO\r\n  fileList: Array<UploadFile>\r\n  attachmentId: string | undefined\r\n  showPayItemForm: boolean\r\n  payItem: IPayItemVO | undefined\r\n  showPreview: boolean\r\n  fileData: any\r\n}\r\n\r\nclass View extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      data: {} as IDocmVO,\r\n      fileList: [],\r\n      attachmentId: undefined,\r\n      showPayItemForm: false,\r\n      payItem: undefined,\r\n      showPreview: false,\r\n      fileData: undefined\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshPage()\r\n  }\r\n\r\n  refreshPage() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    this.setState({ loading: true, showPayItemForm: false }, () => {\r\n      Http.get(`/docm?id=${id}`)\r\n        .then(res => {\r\n          const data = res.data.data\r\n          const fileList = data.attachments.map(attachment => ({\r\n            uid: attachment.id,\r\n            size: 123,\r\n            name: attachment.docName,\r\n            type: 'image',\r\n            status: 'done',\r\n            response: {\r\n              status: '00000000',\r\n              data: [\r\n                {\r\n                  docName: attachment.docName,\r\n                  docPath: attachment.docPath\r\n                }\r\n              ]\r\n            }\r\n          }))\r\n          this.setState({ loading: false, data, fileList })\r\n        })\r\n        .catch(error => {})\r\n    })\r\n  }\r\n\r\n  goBack = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${modulePath}/list`)\r\n  }\r\n\r\n  renderToolBar() {\r\n    return (\r\n      <div style={{ margin: '4px', flex: 1 }}>\r\n        <span style={{ float: 'right' }}>\r\n          <Button\r\n            className={'ele-operation'}\r\n            type={'primary'}\r\n            onClick={event => {\r\n              event.preventDefault()\r\n              const { match } = this.props\r\n              const id = match.params['id']\r\n              this.props.history.push(`${modulePath}/edit/${id}`)\r\n            }}\r\n          >\r\n            编辑\r\n          </Button>\r\n          <Button type={'default'} onClick={this.goBack}>\r\n            返回\r\n          </Button>\r\n        </span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleDeletePayItem = (ids: Array<string> | Array<number>) => {\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: async () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        Http.delete(\r\n          `/docm/pay-item?${queryString.substring(0, queryString.length - 1)}`\r\n        )\r\n          .then(res => {\r\n            message.success('删除成功')\r\n            this.refreshPage()\r\n          })\r\n          .catch(err => {})\r\n      }\r\n    })\r\n  }\r\n\r\n  renderContent() {\r\n    const { loading, data, fileList } = this.state\r\n    return !loading && data ? (\r\n      <Form {...formItemLayout}>\r\n        <Row gutter={10}>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'projectName'} label=\"合同名称\">\r\n              {data.projectName}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'dept'} label=\"所属科室\">\r\n              {data.dept ? data.dept.name : ''}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={10}>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'company'} label=\"乙方名称\">\r\n              {data.company}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'projectType'} label=\"合同类型\">\r\n              {data.projectType}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={10}>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'contractNum'} label=\"中标编号\">\r\n              {data.contractNum}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'contractTime'} label=\"合同签订时间\">\r\n              {data.contractTime}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={10}>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'money'} label=\"总金额\">\r\n              {data.money}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...colLayout}>\r\n            <Form.Item key={'description'} label={'备注'}>\r\n              {data.desc}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Form.Item {...singleRowFormItemLayout} key={'upload'} label={'附件'}>\r\n          {fileList.map((file, index) => (\r\n            <div key={index}>\r\n              <Button\r\n                key={`button_${file.uid}`}\r\n                id={file.uid}\r\n                icon={'paper-clip'}\r\n                type={'link'}\r\n                href={`${serverPath}/doc/pre-view?id=${\r\n                  file.uid\r\n                }&xAuthToken=${sessionStorage.getItem('xAuthToken')}`}\r\n              >\r\n                {file.name}\r\n              </Button>\r\n              <FileDown\r\n                key={`fileDown_${file.uid}`}\r\n                url={`${serverPath}/doc/pre-view?id=${\r\n                  file.uid\r\n                }&xAuthToken=${sessionStorage.getItem('xAuthToken')}`}\r\n                icon={'eye'}\r\n                type={'default'}\r\n                text={'预览'}\r\n                onClick={e => this.setState({ showPreview: true })}\r\n                onLoad={fileData => this.setState({ fileData })}\r\n              />\r\n            </div>\r\n          ))}\r\n        </Form.Item>\r\n      </Form>\r\n    ) : (\r\n      <Spin size={'large'} />\r\n    )\r\n  }\r\n\r\n  renderPayItem() {\r\n    const {\r\n      loading,\r\n      data,\r\n      data: { payItems }\r\n    } = this.state\r\n    const columns = [\r\n      {\r\n        ...commonTableColumnProps,\r\n        title: '序号',\r\n        dataIndex: 'order',\r\n        key: 'order',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '3%' }\r\n        })\r\n      },\r\n      {\r\n        ...commonTableColumnProps,\r\n        title: '金额',\r\n        dataIndex: 'money',\r\n        key: 'money'\r\n      },\r\n      {\r\n        ...commonTableColumnProps,\r\n        title: '凭证号',\r\n        dataIndex: 'credentialNum',\r\n        key: 'credentialNum'\r\n      },\r\n      {\r\n        ...commonTableColumnProps,\r\n        title: '凭证时间',\r\n        dataIndex: 'credentialTime',\r\n        key: 'credentialTime'\r\n      },\r\n      {\r\n        ...commonTableColumnProps,\r\n        title: '付款时间',\r\n        dataIndex: 'payTime',\r\n        key: 'payTime'\r\n      },\r\n      {\r\n        ...commonTableColumnProps,\r\n        title: '备注',\r\n        dataIndex: 'desc',\r\n        key: 'desc'\r\n      },\r\n      {\r\n        ...commonTableColumnProps,\r\n        title: '操作',\r\n        dataIndex: 'operation',\r\n        key: 'operation',\r\n        render: (text, record) => {\r\n          return (\r\n            <div>\r\n              <Button\r\n                type={'link'}\r\n                onClick={event => {\r\n                  this.setState({ showPayItemForm: true, payItem: record })\r\n                }}\r\n              >\r\n                {'编辑'}\r\n              </Button>\r\n              <Button\r\n                type={'link'}\r\n                onClick={this.handleDeletePayItem.bind(this, [record.id])}\r\n              >{`删除`}</Button>\r\n            </div>\r\n          )\r\n        }\r\n      }\r\n    ]\r\n    let sum = 0\r\n    payItems && payItems.forEach(item => (sum = sum + item.money))\r\n    return !loading ? (\r\n      <Table\r\n        columns={columns}\r\n        dataSource={payItems}\r\n        rowKey={'id'}\r\n        size={'small'}\r\n        bordered\r\n        pagination={false}\r\n        title={() => (\r\n          <div style={{ display: 'flex', alignItems: 'center' }}>\r\n            <div style={{ flex: 1 }}>\r\n              <h2>{`付款项`}</h2>\r\n            </div>\r\n            <div style={{ flex: 1 }}>\r\n              <h4>{`合计：${sum}`}</h4>\r\n            </div>\r\n            <div style={{ flex: 1 }}>\r\n              <h4>{`百分比：${(\r\n                Math.round(((sum * 100) / data.money) * 100) / 100\r\n              ).toFixed(2)}%`}</h4>\r\n            </div>\r\n            <div style={{ flex: 1 }}>\r\n              <Button\r\n                style={{ float: 'right' }}\r\n                type={'ghost'}\r\n                onClick={() => {\r\n                  this.setState({ showPayItemForm: true, payItem: undefined })\r\n                }}\r\n              >\r\n                添加\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      />\r\n    ) : (\r\n      <Spin size={'large'} />\r\n    )\r\n  }\r\n\r\n  form: React.ReactElement<FormComponentProps> | undefined = undefined\r\n  handleSubmit = () => {\r\n    this.form &&\r\n      this.form.props.form.validateFields((errors, values) => {\r\n        if (!errors) {\r\n          let method\r\n          if (this.state.payItem) {\r\n            // 存在 payItem 表示编辑\r\n            method = Http.post\r\n          } else {\r\n            method = Http.put\r\n          }\r\n          Object.assign(values, { contractId: this.state.data.id })\r\n          // 转换时间格式\r\n          values['credentialTime'] = values['credentialTime']\r\n            ? values['credentialTime'].format('YYYY-MM-DD')\r\n            : undefined\r\n          values['payTime'] = values['payTime']\r\n            ? values['payTime'].format('YYYY-MM-DD')\r\n            : undefined\r\n          method(`/docm/pay-item`, values)\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                this.refreshPage()\r\n                message.success('操作成功')\r\n              } else {\r\n                message.error(res.data.message)\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.info(err.response.data.msg)\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  handlePayItemModalCancel = () => {\r\n    this.setState({ showPayItemForm: false })\r\n  }\r\n\r\n  renderPayItemModal() {\r\n    const { showPayItemForm, payItem } = this.state\r\n    return (\r\n      <Modal\r\n        title=\"添加付款项\"\r\n        visible={showPayItemForm}\r\n        onCancel={this.handlePayItemModalCancel}\r\n        onOk={this.handleSubmit}\r\n        destroyOnClose\r\n      >\r\n        <PayItemForm\r\n          data={payItem}\r\n          wrappedComponentRef={form => (this.form = form)}\r\n        />\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  handlePreviewModalCancel = () => {\r\n    this.setState({ showPreview: false })\r\n  }\r\n\r\n  renderPreviewModal() {\r\n    const { showPreview } = this.state\r\n    const { fileData } = this.state\r\n    return (\r\n      <Modal\r\n        title=\"预览\"\r\n        width={'780px'}\r\n        visible={showPreview}\r\n        onCancel={this.handlePreviewModalCancel}\r\n        footer={null}\r\n        destroyOnClose\r\n      >\r\n        <PDFPreviewer fileData={fileData} />\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          {this.renderToolBar()}\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          {this.renderContent()}\r\n          {this.renderPayItem()}\r\n        </div>\r\n        <div>{this.renderPayItemModal()}</div>\r\n        <div>{this.renderPreviewModal()}</div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(View)\r\n","import React from 'react'\r\nimport { Layout } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Redirect,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport PrivateRoute from '../../../common/route'\r\nimport ListCmpt from './list'\r\nimport EditCmpt from './edit'\r\nimport ViewCmpt from './view'\r\n\r\nexport const modulePath = `/main/docm`\r\n\r\nconst { Sider } = Layout\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Docm extends React.Component<IProps, IState> {\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        {/* 包裹内容的灰色边框，需要Sider的协助 */}\r\n        <Sider width={0}></Sider>\r\n        <Layout>\r\n          <div className=\"layout-content\">\r\n            <div className=\"layout-content-inner\">\r\n              <HashRouter>\r\n                <Switch>\r\n                  <Redirect\r\n                    path={modulePath}\r\n                    exact={true}\r\n                    to={`${modulePath}/list`}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/list`}\r\n                    permission={['DOCM_LIST_VIEW', 'DOCM_LIST_DEPT_VIEW']}\r\n                    component={ListCmpt}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/edit/:id`}\r\n                    permission={'DOCM_EDIT_OPER'}\r\n                    component={EditCmpt}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/add`}\r\n                    permission={'DOCM_ADD_OPER'}\r\n                    component={EditCmpt}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/view/:id`}\r\n                    permission={'DOCM_DETAIL_VIEW'}\r\n                    component={ViewCmpt}\r\n                  />\r\n                  <Redirect\r\n                    path={`${modulePath}/**`}\r\n                    to={`${modulePath}/list`}\r\n                  />\r\n                </Switch>\r\n              </HashRouter>\r\n            </div>\r\n          </div>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Docm)\r\n","import React from 'react'\r\nimport { Layout, Form, Breadcrumb } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport { UserContext } from '../../../index'\r\nimport './index.css'\r\n\r\nconst { Content } = Layout\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\n// const tailFormItemLayout = {\r\n//   wrapperCol: {\r\n//     xs: {\r\n//       span: 2,\r\n//       offset: 0\r\n//     },\r\n//     sm: {\r\n//       span: 2,\r\n//       offset: 4\r\n//     }\r\n//   }\r\n// }\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Info extends React.Component<IProps, IState> {\r\n  renderContent() {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          return (\r\n            <Form {...formItemLayout}>\r\n              <Form.Item key={'username'} label=\"用户名\">\r\n                {userInfo.username}\r\n              </Form.Item>\r\n              <Form.Item key={'phone'} label=\"手机\">\r\n                {userInfo.phone}\r\n              </Form.Item>\r\n              <Form.Item key={'email'} label=\"邮箱\">\r\n                {userInfo.email}\r\n              </Form.Item>\r\n              <Form.Item key={'dept'} label=\"科室\">\r\n                {userInfo.dept ? userInfo.dept.name : ''}\r\n              </Form.Item>\r\n            </Form>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"layout-content\">\r\n        <div className=\"layout-content-inner\">\r\n          <Breadcrumb separator={'>'}>\r\n            <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n            <Breadcrumb.Item>我的账号</Breadcrumb.Item>\r\n            <Breadcrumb.Item>账号信息</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n          <Content>\r\n            <div className=\"view-page-content\">{this.renderContent()}</div>\r\n          </Content>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Info)\r\n","import React from 'react'\r\nimport { Layout, Button, message, Form, Input, Breadcrumb } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport { UserContext } from '../../../index'\r\nimport Http from '../../../../common/http'\r\nimport md5 from 'js-md5'\r\nimport { modulePath } from '../index'\r\n\r\nconst { Content } = Layout\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 2,\r\n      offset: 0\r\n    },\r\n    sm: {\r\n      span: 2,\r\n      offset: 4\r\n    }\r\n  }\r\n}\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  id: string | undefined // 为了设置form表单的id字段\r\n}\r\n\r\nclass ModPwd extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      id: undefined\r\n    }\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields((err, fielldValues) => {\r\n        if (!err) {\r\n          const { id, oldPassword, password } = fielldValues\r\n          const values = {\r\n            id,\r\n            oldPassword: md5(oldPassword),\r\n            password: md5(password)\r\n          }\r\n          Http.post('/account/mod-pwd', values)\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                message.success('修改成功，请重新登录')\r\n                sessionStorage.removeItem('userId')\r\n                this.props.history.push(`${modulePath}/mod-pwd`)\r\n              } else {\r\n                message.error(res.data.message)\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error(err.response.data.message)\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  renderContent() {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const { id } = userInfo\r\n          if (!this.state.id) {\r\n            this.setState({ id })\r\n          } else {\r\n            this.form && this.form.props.form.setFieldsValue({ id })\r\n          }\r\n          return (\r\n            <div>\r\n              <WrappedNormalForm\r\n                wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n                  this.form = form\r\n                }}\r\n              />\r\n              <Form {...tailFormItemLayout}>\r\n                <Form.Item>\r\n                  <Button block type={'primary'} onClick={this.handleSubmit}>\r\n                    {'提交'}\r\n                  </Button>\r\n                </Form.Item>\r\n              </Form>\r\n            </div>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"layout-content\">\r\n        <div className=\"layout-content-inner\">\r\n          <Breadcrumb separator={'>'}>\r\n            <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n            <Breadcrumb.Item>我的账号</Breadcrumb.Item>\r\n            <Breadcrumb.Item>修改密码</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n          <Content>\r\n            <div className=\"view-page-content\">{this.renderContent()}</div>\r\n          </Content>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(ModPwd)\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator, getFieldValue } = this.props.form\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'oldPassword'} label=\"原密码\">\r\n          {getFieldDecorator('oldPassword', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '请输入旧密码',\r\n                pattern: /^.{4,16}$/\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input type={'password'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'password'} label=\"新密码\">\r\n          {getFieldDecorator('password', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '密码为4~16位任意字符',\r\n                pattern: /^.{4,16}$/\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input type={'password'} placeholder={'请输入密码'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'confirmPassword'} label=\"确认密码\">\r\n          {getFieldDecorator('confirmPassword', {\r\n            rules: [\r\n              {\r\n                message: '两次输入密码不一致',\r\n                validator: async (rule, value, callback, source, options) => {\r\n                  const password = getFieldValue('password')\r\n                  if (password !== value) {\r\n                    callback('error')\r\n                  } else {\r\n                    callback()\r\n                  }\r\n                }\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input type={'password'} placeholder={'请再次输入密码'} />)}\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'mod_pwd'\r\n})(NormalForm)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Icon } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport PrivateRoute from '../../../common/route'\r\nimport Info from './info'\r\nimport ModPwd from './mod-pwd'\r\n\r\nexport const modulePath = `/main/account`\r\n\r\nconst { Sider } = Layout\r\n\r\nconst menusKey = ['/info', '/mod-pwd']\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  collapsed: boolean\r\n  selectedKeys: Array<string>\r\n}\r\n\r\nclass AccountSider extends React.Component<IProps, IState> {\r\n  state: IState = {\r\n    collapsed: false,\r\n    selectedKeys: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    const key = this.fetchDefaultSelectedKey()\r\n    this.handleOnSelect({ key })\r\n  }\r\n\r\n  fetchDefaultSelectedKey() {\r\n    const { pathname } = this.props.location\r\n    const selectedKeys = menusKey.filter(key => {\r\n      return pathname.indexOf(key) >= 0\r\n    })\r\n    if (selectedKeys.length < 1) {\r\n      return menusKey[0]\r\n    }\r\n    return selectedKeys[0]\r\n  }\r\n\r\n  handleOnSelect = param => {\r\n    const { key } = param\r\n    this.setState({ selectedKeys: [key] })\r\n    this.props.history.push(`${modulePath}${key}`)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { selectedKeys } = this.state\r\n    return (\r\n      <Layout>\r\n        <Sider\r\n          width={180}\r\n          theme=\"dark\"\r\n          collapsed={this.state.collapsed}\r\n          collapsedWidth={80}\r\n        >\r\n          <span className=\"aside-top\" onClick={this.toggleCollapsed}>\r\n            <Icon\r\n              style={{ margin: '0 0 0 10px' }}\r\n              type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n            />\r\n          </span>\r\n          <Menu\r\n            selectedKeys={selectedKeys}\r\n            mode=\"inline\"\r\n            theme=\"dark\"\r\n            onSelect={this.handleOnSelect}\r\n          >\r\n            <Menu.Item className=\"aside-item\" key=\"/info\">\r\n              <Icon type=\"user\" />\r\n              <span>账号信息</span>\r\n            </Menu.Item>\r\n            <Menu.Item className=\"aside-item\" key=\"/mod-pwd\">\r\n              <Icon type=\"safety\" />\r\n              <span>修改密码</span>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout>\r\n          <HashRouter>\r\n            <Switch>\r\n              <PrivateRoute path={`${modulePath}/info`} component={Info} />\r\n              <PrivateRoute path={`${modulePath}/mod-pwd`} component={ModPwd} />\r\n            </Switch>\r\n          </HashRouter>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(AccountSider)\r\n","import React from 'react'\r\nimport { Select, Spin } from 'antd'\r\nimport debounce from 'lodash/debounce'\r\nimport Http from '../../http'\r\n\r\nconst { Option } = Select\r\n\r\ninterface IProps {\r\n  onChange?: (value: string) => void\r\n}\r\n\r\ninterface IState {\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any\r\n    sorters: any\r\n  }\r\n  data: Array<{ text: string; value: string }>\r\n  value: Array<any>\r\n  loading: boolean\r\n}\r\n\r\nclass UserSelector extends React.Component<IProps, IState> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.fetchUser = debounce(this.fetchUser, 800)\r\n    this.state = {\r\n      param: {\r\n        conditions: { ranges: {} },\r\n        sorters: {}\r\n      },\r\n      data: [],\r\n      value: [],\r\n      loading: false\r\n    }\r\n  }\r\n\r\n  fetchUser = value => {\r\n    const queryRequest = {\r\n      pageSize: 100,\r\n      current: 1,\r\n      conditions: { keywordUsername: value },\r\n      sorters: { username: 'asc' }\r\n    }\r\n    this.setState({ data: [], loading: true })\r\n    setTimeout(() => {\r\n      Http.post(`/user/search`, queryRequest).then(res => {\r\n        let data = []\r\n        if (\r\n          res.data.status === '00000000' &&\r\n          res.data.data.content.length > 0\r\n        ) {\r\n          data = res.data.data.content.map(account => ({\r\n            text: account.username,\r\n            value: account.username\r\n          }))\r\n        }\r\n        this.setState({ data, loading: false })\r\n      })\r\n    }, 300)\r\n  }\r\n\r\n  handleChange = value => {\r\n    const { onChange } = this.props\r\n    this.setState({\r\n      value,\r\n      data: [],\r\n      loading: false\r\n    })\r\n    onChange && onChange(value)\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, value } = this.state\r\n    return (\r\n      <Select\r\n        value={value}\r\n        placeholder=\"搜索用户\"\r\n        notFoundContent={loading ? <Spin size=\"small\" /> : null}\r\n        filterOption={false}\r\n        showSearch\r\n        onSearch={this.fetchUser}\r\n        onChange={this.handleChange}\r\n        showArrow={false}\r\n        allowClear\r\n        style={{ width: '280px' }}\r\n        // suffixIcon={<Icon style={{ fontSize: '16px' }} type=\"search\" />}\r\n      >\r\n        {data.map(d => (\r\n          <Option key={d.value} value={d.value}>\r\n            {d.text}\r\n          </Option>\r\n        ))}\r\n      </Select>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserSelector\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Modal,\r\n  Tooltip,\r\n  Radio,\r\n  Collapse,\r\n  Form\r\n} from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IOperLogVO from '../type'\r\n// import DateRange from './daterange'\r\nimport Http, { QueryResult, QueryRequest } from '../../../../common/http'\r\nimport UserSelector from '../../../../common/selector/user'\r\nimport { modulePath } from '../index'\r\nimport { toLine } from '../../../../common/util'\r\nimport { UserContext } from '../../../index'\r\nimport './index.css'\r\n\r\nconst { Content } = Layout\r\nconst { Option } = Select\r\nconst { Panel } = Collapse\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  selectedRowKeys: string[] | number[]\r\n  /**\r\n   * 模块名称下拉选数据\r\n   */\r\n  modules: Array<string>\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<IOperLogVO>\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any\r\n    sorters: any\r\n  }\r\n  /**\r\n   * 展开筛选折叠面板key\r\n   */\r\n  activeKey: string | undefined\r\n  /**\r\n   * 创建时间范围的选项值\r\n   */\r\n  rangeOptionValue: string | undefined\r\n  /**\r\n   * 操作名称下拉选数据\r\n   */\r\n  operNames: Array<string>\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      selectedRowKeys: [],\r\n      modules: [],\r\n      data: {\r\n        total: undefined,\r\n        content: []\r\n      },\r\n      pageSize: 10,\r\n      current: 1,\r\n      param: {\r\n        conditions: { ranges: {} },\r\n        sorters: {}\r\n      },\r\n      activeKey: 'searchPanel',\r\n      rangeOptionValue: 'none',\r\n      operNames: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleListChange()\r\n    this.loadOperNames()\r\n  }\r\n\r\n  handleListChange = () => {\r\n    this.setState({ loading: true }, () => {\r\n      const { pageSize, current, param } = this.state\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param\r\n      }\r\n      Http.post(`/operlog/list`, queryRequest)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  loadOperNames = () => {\r\n    Http.get(`/operlog/name/list-all`)\r\n      .then(res => {\r\n        this.setState({ operNames: res.data.data })\r\n      })\r\n      .catch(err => {\r\n        message.error('加载操作名称数据失败')\r\n      })\r\n  }\r\n\r\n  handleSelectChangeForOperator = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['operator'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleSelectChangeForOperName = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['name'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: async () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        await Http.delete(\r\n          `/operlog?${queryString.substring(0, queryString.length - 1)}`\r\n        )\r\n        message.success('删除成功')\r\n        this.handleListChange()\r\n      }\r\n    })\r\n  }\r\n\r\n  handleCreateTimeRangeChange = e => {\r\n    let value = e.target.value\r\n    let createTimeRange\r\n    if (value !== 'none') {\r\n      let start\r\n      switch (value) {\r\n        case 'a':\r\n          start = moment()\r\n            .add('day', -3)\r\n            .format('YYYY-MM-DD HH:mm:ss')\r\n          break\r\n        case 'b':\r\n          start = moment()\r\n            .add('day', -7)\r\n            .format('YYYY-MM-DD HH:mm:ss')\r\n          break\r\n        case 'c':\r\n          start = moment()\r\n            .add('month', -1)\r\n            .format('YYYY-MM-DD HH:mm:ss')\r\n          break\r\n        case 'd':\r\n          start = moment()\r\n            .add('month', -6)\r\n            .format('YYYY-MM-DD HH:mm:ss')\r\n          break\r\n      }\r\n      createTimeRange = {\r\n        start,\r\n        end: moment().format('YYYY-MM-DD HH:mm:ss')\r\n      }\r\n    } else {\r\n      createTimeRange = undefined\r\n    }\r\n    const { ranges } = this.state.param.conditions\r\n    ranges['createTime'] = createTimeRange\r\n    this.setState({ rangeOptionValue: value, current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  renderPanel() {\r\n    const { rangeOptionValue } = this.state\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        span: 2,\r\n        offset: 0\r\n      },\r\n      wrapperCol: {\r\n        span: 16,\r\n        offset: 0\r\n      }\r\n    }\r\n    return (\r\n      <div>\r\n        <Form {...formItemLayout}>\r\n          <Form.Item label={'操作时间'}>\r\n            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n              <div>\r\n                <Radio.Group\r\n                  value={rangeOptionValue}\r\n                  onChange={this.handleCreateTimeRangeChange}\r\n                >\r\n                  <Radio.Button\r\n                    className=\"radio-option\"\r\n                    key=\"none\"\r\n                    value=\"none\"\r\n                  >\r\n                    不限\r\n                  </Radio.Button>\r\n                  <Radio.Button className=\"radio-option\" key=\"a\" value=\"a\">\r\n                    近三天\r\n                  </Radio.Button>\r\n                  <Radio.Button className=\"radio-option\" key=\"b\" value=\"b\">\r\n                    近一周\r\n                  </Radio.Button>\r\n                  <Radio.Button className=\"radio-option\" key=\"c\" value=\"c\">\r\n                    近一月\r\n                  </Radio.Button>\r\n                  <Radio.Button className=\"radio-option\" key=\"d\" value=\"d\">\r\n                    近半年\r\n                  </Radio.Button>\r\n                </Radio.Group>\r\n              </div>\r\n              {/* <div><DateRange /></div> */}\r\n            </div>\r\n          </Form.Item>\r\n          <Form.Item label=\"操作者\">\r\n            <UserSelector onChange={this.handleSelectChangeForOperator} />\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderSearchBar() {\r\n    const { activeKey, operNames } = this.state\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        span: 4,\r\n        offset: 0\r\n      },\r\n      wrapperCol: {\r\n        span: 8,\r\n        offset: 0\r\n      }\r\n    }\r\n    return (\r\n      <div>\r\n        <div style={{ display: 'flex', alignItems: 'flex-start' }}>\r\n          <div style={{ flex: '1' }}>\r\n            <Form {...formItemLayout}>\r\n              <Form.Item label={'操作名称'}>\r\n                <Select\r\n                  placeholder={'请选择'}\r\n                  style={{ width: '280px' }}\r\n                  allowClear\r\n                  showArrow={true}\r\n                  onChange={this.handleSelectChangeForOperName}\r\n                >\r\n                  {operNames.map(operName => (\r\n                    <Option key={operName} value={operName}>\r\n                      {operName}\r\n                    </Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n          <div style={{ flex: '1' }}>\r\n            <div style={{ float: 'right' }}>\r\n              <Button\r\n                type={'link'}\r\n                onClick={() =>\r\n                  this.setState({\r\n                    activeKey: activeKey ? undefined : 'searchPanel'\r\n                  })\r\n                }\r\n              >\r\n                {activeKey ? '收起筛选' : '展开筛选'}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Collapse bordered={false} activeKey={activeKey}>\r\n          <Panel\r\n            key=\"searchPanel\"\r\n            style={{ border: 0 }}\r\n            showArrow={false}\r\n            header=\"\"\r\n          >\r\n            {this.renderPanel()}\r\n          </Panel>\r\n        </Collapse>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderButtonBar() {\r\n    const { selectedRowKeys } = this.state\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const DOCM_ADD_OPER_permission = userInfo['permissions'].find(\r\n            perm => perm.id === 'DOCM_ADD_OPER'\r\n          )\r\n          const DOCM_DELETE_OPER_permission = userInfo['permissions'].find(\r\n            perm => perm.id === 'DOCM_DELETE_OPER'\r\n          )\r\n          return (\r\n            <div style={{ margin: '4px', flex: 1 }}>\r\n              <span style={{ float: 'right' }}>\r\n                {DOCM_ADD_OPER_permission && (\r\n                  <Button\r\n                    className=\"ele-operation\"\r\n                    type=\"primary\"\r\n                    onClick={() => {\r\n                      this.props.history.push(`${modulePath}/add`)\r\n                    }}\r\n                  >\r\n                    新建\r\n                  </Button>\r\n                )}\r\n                {DOCM_DELETE_OPER_permission && (\r\n                  <Button\r\n                    type=\"ghost\"\r\n                    disabled={selectedRowKeys.length < 1}\r\n                    onClick={() => {\r\n                      this.handleDeleteOper(selectedRowKeys)\r\n                    }}\r\n                  >\r\n                    批量删除\r\n                  </Button>\r\n                )}\r\n              </span>\r\n            </div>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  buildColumns() {\r\n    const colPropsfor10 = {\r\n      onHeaderCell: column => ({\r\n        style: { textAlign: 'center', width: '10%' }\r\n      }),\r\n      onCell: (record, rowIndex) => ({\r\n        style: {\r\n          textAlign: 'center',\r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          whiteSpace: 'nowrap',\r\n          cursor: 'pointer'\r\n        }\r\n      }),\r\n      render: text => (\r\n        <Tooltip placement=\"topLeft\" title={text}>\r\n          {text}\r\n        </Tooltip>\r\n      )\r\n    }\r\n    const columns = [\r\n      {\r\n        title: '序号',\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n          return index + 1\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '5%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '操作名称',\r\n        dataIndex: 'name',\r\n        key: 'name'\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '模块名称',\r\n        dataIndex: 'module',\r\n        key: 'module'\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '操作者',\r\n        dataIndex: 'operator',\r\n        key: 'operator'\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '操作结果',\r\n        dataIndex: 'result',\r\n        key: 'result',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '5%' }\r\n        })\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '操作时间',\r\n        dataIndex: 'createTime',\r\n        key: 'createTime',\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        }\r\n      }\r\n    ]\r\n    return columns\r\n  }\r\n\r\n  renderTable() {\r\n    const { loading, data, pageSize, current, selectedRowKeys } = this.state\r\n    const { total, content } = data\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const DOCM_DELETE_OPER_permission = userInfo['permissions'].find(\r\n            perm => perm.id === 'DOCM_DELETE_OPER'\r\n          )\r\n          const rowSelection = DOCM_DELETE_OPER_permission\r\n            ? {\r\n                columnWidth: '30px',\r\n                selectedRowKeys,\r\n                onChange: selectedRowKeys => {\r\n                  this.setState({ selectedRowKeys })\r\n                }\r\n              }\r\n            : undefined\r\n          return loading || data.content.length > 0 ? (\r\n            <Table\r\n              rowKey={record => {\r\n                return record.id\r\n              }}\r\n              rowSelection={rowSelection}\r\n              columns={this.buildColumns()}\r\n              dataSource={content}\r\n              loading={loading}\r\n              onRow={(record, index) => {\r\n                return {\r\n                  onClick: event => {\r\n                    if (event.target['tagName'] !== 'TD') {\r\n                      return\r\n                    }\r\n                    this.props.history.push(`${modulePath}/view/${record.id}`)\r\n                  }\r\n                }\r\n              }}\r\n              size={'small'}\r\n              pagination={{\r\n                total,\r\n                current,\r\n                pageSize,\r\n                pageSizeOptions: ['10', '20', '50'],\r\n                showSizeChanger: true,\r\n                onShowSizeChange: (current, pageSize) => {\r\n                  this.setState({ current: 1, pageSize })\r\n                },\r\n                showTotal: total => {\r\n                  return `共 ${total} 条`\r\n                }\r\n              }}\r\n              onChange={(pagination, filters, sorter, extra) => {\r\n                const { param } = this.state\r\n                const { current, pageSize } = pagination\r\n                const { field, order } = sorter\r\n                param.sorters = {}\r\n                if (field && order) {\r\n                  param.sorters[toLine(field)] = fetchOrderDirection(order)\r\n                }\r\n                this.setState({ current, pageSize })\r\n                this.handleListChange()\r\n              }}\r\n            />\r\n          ) : (\r\n            <Empty description={'暂无内容'} />\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div className=\"list-page\">\r\n          <div className=\"list-page-content\">\r\n            <div className=\"list-page-content-toolbar\">\r\n              {this.renderSearchBar()}\r\n            </div>\r\n            <div className=\"list-page-content-buttonbar\">\r\n              {this.renderButtonBar()}\r\n            </div>\r\n            <div className=\"list-page-content-table\">{this.renderTable()}</div>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === 'descend') {\r\n    return 'desc'\r\n  } else {\r\n    return 'asc'\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n","import React from 'react'\r\nimport { Layout, Form, Spin, Button, Row, Col } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IDocmVO from '../type'\r\nimport Http from '../../../../common/http'\r\nimport { modulePath } from '../index'\r\n\r\nconst { Content } = Layout\r\n\r\nconst viewItemLayout = {\r\n  span: 12,\r\n  offset: 0\r\n}\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 4,\r\n    offset: 2\r\n  },\r\n  wrapperCol: {\r\n    span: 16,\r\n    offset: 0\r\n  }\r\n}\r\n\r\n// const tailFormItemLayout = {\r\n//   wrapperCol: {\r\n//     xs: {\r\n//       span: 2,\r\n//       offset: 0\r\n//     },\r\n//     sm: {\r\n//       span: 2,\r\n//       offset: 4\r\n//     }\r\n//   }\r\n// }\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  data: IDocmVO | undefined\r\n}\r\n\r\nclass View extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      data: undefined\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    this.setState({ loading: true }, () => {\r\n      Http.get(`/operlog?id=${id}`)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {})\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${modulePath}/list`)\r\n  }\r\n\r\n  renderContent() {\r\n    const { loading, data } = this.state\r\n    return !loading && data ? (\r\n      <Form {...formItemLayout}>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'name'} label=\"操作名称\">\r\n              {data.name}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'module'} label=\"模块名称\">\r\n              {data.module}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'operator'} label=\"操作者\">\r\n              {data.operator}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'createTime'} label=\"操作时间\">\r\n              {data.createTime}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'result'} label=\"操作结果\">\r\n              {data.result}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'ip'} label=\"远程IP\">\r\n              {data.ip}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'userAgent'} label=\"UserAgent\">\r\n              {data.userAgent}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'method'} label=\"HTTP方法\">\r\n              {data.method}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'url'} label=\"URL\">\r\n              {data.url}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'contractNum'} label=\"操作内容\">\r\n              {data.content}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}></Col>\r\n        </Row>\r\n      </Form>\r\n    ) : (\r\n      <Spin size={'large'} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>{this.renderContent()}</div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(View)\r\n","import React from 'react'\r\nimport { Layout, Breadcrumb } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Redirect,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport PrivateRoute from '../../../common/route'\r\nimport ListCmpt from './list'\r\nimport ViewCmpt from './view'\r\n\r\nexport const modulePath = `/main/operlog`\r\n\r\nconst { Sider } = Layout\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Operlog extends React.Component<IProps, IState> {\r\n  render() {\r\n    const path = this.props.location.pathname\r\n    let curItem\r\n    if (path.indexOf(`${modulePath}/view`) >= 0) {\r\n      curItem = '详情'\r\n    } else if (path.indexOf(`${modulePath}/list`) >= 0) {\r\n      curItem = '查询'\r\n    }\r\n    return (\r\n      <Layout>\r\n        {/* 包裹内容的灰色边框，需要Sider的协助 */}\r\n        <Sider width={0}></Sider>\r\n        <Layout>\r\n          <div className=\"layout-content\">\r\n            <div className=\"layout-content-inner\">\r\n              <Breadcrumb>\r\n                <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n                <Breadcrumb.Item\r\n                  onClick={() => this.props.history.push(`${modulePath}`)}\r\n                >\r\n                  日志审计\r\n                </Breadcrumb.Item>\r\n                <Breadcrumb.Item>{curItem}</Breadcrumb.Item>\r\n              </Breadcrumb>\r\n              <HashRouter>\r\n                <Switch>\r\n                  <Redirect\r\n                    path={modulePath}\r\n                    exact={true}\r\n                    to={`${modulePath}/list`}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/list`}\r\n                    component={ListCmpt}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/view/:id`}\r\n                    component={ViewCmpt}\r\n                  />\r\n                  <Redirect\r\n                    path={`${modulePath}/**`}\r\n                    to={`${modulePath}/list`}\r\n                  />\r\n                </Switch>\r\n              </HashRouter>\r\n            </div>\r\n          </div>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Operlog)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport {\r\n  HashRouter,\r\n  Switch,\r\n  withRouter,\r\n  Redirect,\r\n  Route,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport headerMenu from '../menu'\r\nimport { UserContext } from '../index'\r\nimport UserModule from './user/index'\r\nimport DocmModule from './docm/index'\r\nimport AccountModule from './account/index'\r\nimport OperlogModule from './operlog/index'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ntype IState = {}\r\n\r\nclass Side extends React.Component<IProps, IState> {\r\n  render() {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const menus = headerMenu.filter(m => {\r\n            if (userInfo['username']) {\r\n              if (userInfo['username'] === 'admin') {\r\n                return m.role.filter(role => role === 'admin').length > 0\r\n              } else {\r\n                return m.role.filter(role => role === 'normal').length > 0\r\n              }\r\n            }\r\n            return false\r\n          })\r\n          const routeMap = [\r\n            {\r\n              key: '/docm',\r\n              value: <Route key=\"docm\" path={'/main/docm'} component={DocmModule} />\r\n            },\r\n            {\r\n              key: '/user',\r\n              value: <Route key=\"user\" path={'/main/user'} component={UserModule} />\r\n            },\r\n            {\r\n              key: '/account',\r\n              value: <Route key=\"account\" path={'/main/account'} component={AccountModule} />\r\n            },\r\n            {\r\n              key: '/operlog',\r\n              value: <Route key=\"operlog\" path={'/main/operlog'} component={OperlogModule} />\r\n            }\r\n          ]\r\n          return (\r\n            menus.length > 0 && (\r\n              <HashRouter>\r\n                <Switch>\r\n                  <Redirect\r\n                    path={'/main'}\r\n                    exact={true}\r\n                    to={`/main${menus[0].key}`}\r\n                  />\r\n                  {routeMap\r\n                    .filter(r => menus.filter(m => m.key === r.key).length > 0)\r\n                    .map(r => r.value)}\r\n                </Switch>\r\n              </HashRouter>\r\n            )\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Side)\r\n","import React, { Component } from 'react'\r\nimport { Layout } from 'antd'\r\nimport HomeHeader from './header/index'\r\nimport HomeSider from './sider/index'\r\nimport Http from '../common/http'\r\nimport './index.css'\r\nimport IAccountVO from './sider/user/manage/type'\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nexport const UserContext = React.createContext<IAccountVO>({} as IAccountVO)\r\n\r\nclass Home extends Component<IProps, IState> {\r\n  state = {\r\n    collapsed: false,\r\n    userInfo: {} as IAccountVO\r\n  }\r\n\r\n  componentDidMount() {\r\n    Http.get(`/account?id=${sessionStorage.getItem('userId')}`)\r\n      .then(res => {\r\n        const userInfo = { ...res.data.data }\r\n        this.setState({ userInfo })\r\n      })\r\n      .catch(err => {})\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { userInfo } = this.state\r\n    return userInfo['id'] ? (\r\n      <UserContext.Provider value={userInfo}>\r\n        <Layout className=\"ant-layout-home\">\r\n          <HomeHeader />\r\n          <HomeSider />\r\n        </Layout>\r\n      </UserContext.Provider>\r\n    ) : (\r\n      <div />\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport { Form, Icon, Input, Button, message } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport Http from '../common/http/index'\r\nimport md5 from 'js-md5'\r\nimport img from '../assert/img/login_3.jpg'\r\nimport Logo from '../assert/svg/Logo.svg'\r\nimport './index.css'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Login extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined\r\n\r\n  handleSubmit = (e: React.MouseEvent) => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields(async (err, values) => {\r\n        if (!err) {\r\n          const password = md5(values.password)\r\n          await Http.post(`/account/login`, { ...values, password })\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                sessionStorage.setItem('userId', res.data.data.id)\r\n                setTimeout(() => {\r\n                  this.props.history.push('/main')\r\n                }, 300)\r\n              } else {\r\n                this.form &&\r\n                  this.form.props.form.setFields({\r\n                    password: {\r\n                      value: values.password,\r\n                      errors: [new Error(res.data.message)]\r\n                    }\r\n                  })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error('服务器异常')\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login\">\r\n        <img className=\"login-img\" src={img} alt=\"\" />\r\n        <div className=\"login-form\">\r\n          <div className=\"login-form-top\">\r\n            <div className=\"logo\">\r\n              <a href=\"/\">\r\n                <img className=\"logo-img\" src={Logo} alt=\"logo\" />\r\n                <span className=\"logo-text\">Contract MS</span>\r\n              </a>\r\n            </div>\r\n            <div className=\"logo-desc\">欢迎登录合同管理系统</div>\r\n          </div>\r\n          <WrappedNormalLoginForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          <Button\r\n            className=\"login-form-item\"\r\n            type=\"primary\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            登录\r\n          </Button>\r\n        </div>\r\n        <div className=\"copyright\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Login)\r\n\r\ninterface FormProps extends FormComponentProps {\r\n  username: string\r\n  password: string\r\n  onSubmit?: () => void\r\n}\r\n\r\nclass NormalLoginForm extends React.Component<FormProps, any> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form layout={'vertical'}>\r\n        <Form.Item>\r\n          {getFieldDecorator('username', {\r\n            rules: [{ required: true, message: '请输入用户名' }]\r\n          })(\r\n            <Input\r\n              className=\"login-form-item\"\r\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"用户名\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('password', {\r\n            rules: [{ required: true, message: '请输入密码' }]\r\n          })(\r\n            <Input\r\n              className=\"login-form-item\"\r\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              type=\"password\"\r\n              placeholder=\"密码\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalLoginForm)\r\n","import React, { PureComponent } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom'\r\nimport { LocaleProvider } from 'antd'\r\nimport Home from './home/index'\r\nimport Login from './login/index'\r\nimport zhCN from 'antd/es/locale-provider/zh_CN'\r\nimport PrivateRoute from './common/route'\r\nimport 'moment/locale/zh-cn' // 全局修改\r\nimport './index.css'\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nclass App extends PureComponent<IProps, IState> {\r\n  render() {\r\n    return (\r\n      <LocaleProvider locale={zhCN}>\r\n        <HashRouter>\r\n          <Switch>\r\n            <Redirect path={'/'} exact={true} to={'/main'} />\r\n            <Route path={'/login'} component={Login} />\r\n            <PrivateRoute path={'/main'} component={Home} />\r\n          </Switch>\r\n        </HashRouter>\r\n      </LocaleProvider>\r\n    )\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}