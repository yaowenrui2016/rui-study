(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8529],{34540:function(X,S,e){"use strict";var K=e(22122),y=e(28991),W=e(81253),v=e(67294),$=e(98757),i=e(86190),B=e(66758),w=["fieldProps","proFieldProps"],O="dateRange",V=v.forwardRef(function(A,E){var T=A.fieldProps,f=A.proFieldProps,t=(0,W.Z)(A,w),a=(0,v.useContext)(B.Z);return v.createElement($.Z,(0,K.Z)({ref:E,mode:"edit",fieldProps:(0,y.Z)({getPopupContainer:a.getPopupContainer},T),valueType:O,proFieldProps:f,filedConfig:{valueType:O,lightFilterLabelFormatter:function(F){return(0,i.Z)(F,(T==null?void 0:T.format)||"YYYY-MM-DD")}}},t))});S.Z=V},64317:function(X,S,e){"use strict";var K=e(22122),y=e(28991),W=e(81253),v=e(67294),$=e(98757),i=e(22270),B=e(66758),w=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],O=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],V=v.forwardRef(function(t,a){var j=t.fieldProps,F=t.children,N=t.params,Y=t.proFieldProps,k=t.mode,H=t.valueEnum,q=t.request,_=t.showSearch,G=t.options,ee=(0,W.Z)(t,w),re=(0,v.useContext)(B.Z);return v.createElement($.Z,(0,K.Z)({mode:"edit",valueEnum:(0,i.h)(H),request:q,params:N,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({options:G,mode:k,showSearch:_,getPopupContainer:re.getPopupContainer},j),ref:a,proFieldProps:Y},ee),F)}),A=v.forwardRef(function(t,a){var j=t.fieldProps,F=t.children,N=t.params,Y=t.proFieldProps,k=t.mode,H=t.valueEnum,q=t.request,_=t.options,G=(0,W.Z)(t,O),ee=(0,y.Z)({options:_,mode:k||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},j),re=(0,v.useContext)(B.Z);return v.createElement($.Z,(0,K.Z)({mode:"edit",valueEnum:(0,i.h)(H),request:q,params:N,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,y.Z)({getPopupContainer:re.getPopupContainer},ee),ref:a,proFieldProps:Y},G),F)}),E=V,T=A,f=E;f.SearchSelect=T,f.displayName="ProFormComponent",S.Z=f},5966:function(X,S,e){"use strict";var K=e(22122),y=e(81253),W=e(67294),v=e(98757),$=["fieldProps","proFieldProps"],i=["fieldProps","proFieldProps"],B="text",w=function(E){var T=E.fieldProps,f=E.proFieldProps,t=(0,y.Z)(E,$);return W.createElement(v.Z,(0,K.Z)({mode:"edit",valueType:B,fieldProps:T,filedConfig:{valueType:B},proFieldProps:f},t))},O=function(E){var T=E.fieldProps,f=E.proFieldProps,t=(0,y.Z)(E,i);return W.createElement(v.Z,(0,K.Z)({mode:"edit",valueType:"password",fieldProps:T,proFieldProps:f,filedConfig:{valueType:B}},t))},V=w;V.Password=O,V.displayName="ProFormComponent",S.Z=V},5393:function(X){X.exports={card:"card___1dsH6",errorIcon:"errorIcon___3jptF",anticon:"anticon___A0Hdx",errorPopover:"errorPopover___FGjVx",errorListItem:"errorListItem___1rmVg",errorField:"errorField___2Y7eW",editable:"editable___WRDur"}},64878:function(X,S,e){"use strict";e.r(S),e.d(S,{default:function(){return He}});var K=e(58024),y=e(39144),W=e(13062),v=e(71230),$=e(89032),i=e(15746),B=e(34792),w=e(48086),O=e(3182),V=e(20136),A=e(55241),E=e(2824),T=e(94043),f=e.n(T),t=e(73218),a=e(67294),j=e(22122),F=e(28991),N=e(81253),Y=e(98757),k=e(86190),H=e(66758),q=["fieldProps","proFieldProps"],_=["fieldProps","proFieldProps"],G="time",ee=a.forwardRef(function(r,d){var x=r.fieldProps,s=r.proFieldProps,L=(0,N.Z)(r,q),b=(0,a.useContext)(H.Z);return a.createElement(Y.Z,(0,j.Z)({ref:d,mode:"edit",fieldProps:(0,F.Z)({getPopupContainer:b.getPopupContainer},x),valueType:"timeRange",proFieldProps:s,filedConfig:{valueType:"timeRange",lightFilterLabelFormatter:function(z){return(0,k.Z)(z,"HH:mm:SS")}}},L))}),re=function(d){var x=d.fieldProps,s=d.proFieldProps,L=(0,N.Z)(d,_),b=(0,a.useContext)(H.Z);return a.createElement(Y.Z,(0,j.Z)({mode:"edit",fieldProps:(0,F.Z)({getPopupContainer:b.getPopupContainer},x),valueType:G,proFieldProps:s,filedConfig:{customLightMode:!0,valueType:G}},L))},se=re;se.RangePicker=ee;var ge=se,ie=e(952),le=e(5966),J=e(64317),Ee=e(34540),nr=e(9715),Fe=e(93766),ar=e(57663),Ce=e(71577),xe=e(96156),Ze=e(28481),ye=e(87757),de=e.n(ye),Te=e(92137),Re=e(21770),De=e(49101),je=e(26369),ue=e(22270),be=e(48171),Me=e(60249),Ie=e(66646),Be=e(28487),Oe=e(97462),Ae=e(88306),Le=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange"],Se=["record","position","creatorButtonText","newRecordType","parentKey"],me=a.createContext(void 0);function ve(r){var d=r.children,x=r.record,s=r.position,L=r.newRecordType,b=r.parentKey,Z=(0,a.useContext)(me);return a.cloneElement(d,(0,F.Z)((0,F.Z)({},d.props),{},{onClick:function(){var z=(0,Te.Z)(de().mark(function M(p){var c,I,o,P;return de().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(c=(I=d.props).onClick)===null||c===void 0?void 0:c.call(I,p);case 2:if(P=l.sent,P!==!1){l.next=5;break}return l.abrupt("return");case 5:Z==null||(o=Z.current)===null||o===void 0||o.addEditRecord(x,{position:s,newRecordType:L,parentKey:b});case 6:case"end":return l.stop()}},M)}));function ne(M){return z.apply(this,arguments)}return ne}()}))}function ce(r){var d,x=r.onTableChange,s=r.maxLength,L=r.formItemProps,b=r.recordCreatorProps,Z=r.rowKey,z=r.controlled,ne=r.defaultValue,M=r.onChange,p=(0,N.Z)(r,Le),c=(0,je.Z)(r.value),I=(0,a.useRef)(),o=(0,a.useRef)();(0,a.useImperativeHandle)(p.actionRef,function(){return I.current});var P=(0,Re.Z)(function(){return r.value||ne||[]},{value:r.value,onChange:r.onChange}),h=(0,Ze.Z)(P,2),l=h[0],Ge=h[1],Je=a.useMemo(function(){return typeof Z=="function"&&Z?Z:function(R,u){return R[Z]||u}},[Z]);(0,a.useEffect)(function(){!r.controlled||l.forEach(function(R,u){var m;(m=o.current)===null||m===void 0||m.setFieldsValue((0,xe.Z)({},Je(R,u),R))},{})},[l,r.controlled]);var Q=b||{},ze=Q.record,fe=Q.position,Qe=Q.creatorButtonText,Xe=Q.newRecordType,ke=Q.parentKey,qe=(0,N.Z)(Q,Se),Pe=fe==="top",ae=(0,a.useMemo)(function(){return s&&s<=(l==null?void 0:l.length)?!1:b!==!1&&a.createElement(ve,{record:(0,ue.h)(ze,l==null?void 0:l.length,l)||{},position:fe,parentKey:(0,ue.h)(ke,l==null?void 0:l.length,l),newRecordType:Xe},a.createElement(Ce.Z,(0,j.Z)({type:"dashed",style:{display:"block",margin:"10px 0",width:"100%"},icon:a.createElement(De.Z,null)},qe),Qe||"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"))},[b,s,l==null?void 0:l.length]),_e=(0,a.useMemo)(function(){return ae?Pe?{components:{header:{wrapper:function(u){var m,g=u.className,D=u.children;return a.createElement("thead",{className:g},D,a.createElement("tr",{style:{position:"relative"}},a.createElement("td",{colSpan:0,style:{visibility:"hidden"}},ae),a.createElement("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(m=p.columns)===null||m===void 0?void 0:m.length},ae)))}}}}:{tableViewRender:function(u,m){var g,D;return a.createElement(a.Fragment,null,(g=(D=r.tableViewRender)===null||D===void 0?void 0:D.call(r,u,m))!==null&&g!==void 0?g:m,ae)}}:{}},[Pe,ae]),he=(0,F.Z)({},r.editable),er=(0,be.J)(function(R,u){var m,g,D;if((m=r.editable)===null||m===void 0||(g=m.onValuesChange)===null||g===void 0||g.call(m,R,u),(D=r.onValuesChange)===null||D===void 0||D.call(r,u,R),r.controlled){var te;r==null||(te=r.onChange)===null||te===void 0||te.call(r,u)}});return((r==null?void 0:r.onValuesChange)||((d=r.editable)===null||d===void 0?void 0:d.onValuesChange)||r.controlled&&(r==null?void 0:r.onChange))&&(he.onValuesChange=er),a.createElement(a.Fragment,null,a.createElement(me.Provider,{value:I},a.createElement(Be.Z,(0,j.Z)({search:!1,options:!1,pagination:!1,rowKey:Z,revalidateOnFocus:!1},p,_e,{tableLayout:"fixed",actionRef:I,onChange:x,editable:(0,F.Z)((0,F.Z)({},he),{},{formProps:{formRef:o}}),dataSource:l,onDataSourceChange:function(u){Ge(u)}}))),a.createElement(Oe.Z,{name:[r.name]},function(R){var u,m,g=(0,Ae.Z)(R,[r.name].flat(1)),D=g==null?void 0:g.find(function(te,rr){return!(0,Me.Z)(te,c==null?void 0:c[rr])});return D&&(r==null||(u=r.editable)===null||u===void 0||(m=u.onValuesChange)===null||m===void 0||m.call(u,D,g)),null}))}function pe(r){var d=r.name,x=r.formItemProps;return d?a.createElement(Fe.Z.Item,(0,j.Z)({style:{maxWidth:"100%"}},x,{name:r.name}),a.createElement(a.Fragment,null,a.createElement(Ie.gN,{shouldUpdate:!0,name:r.name,isList:!0},function(s){return s.value===void 0||!Array.isArray(s.value)?null:a.createElement(ce,(0,j.Z)({},r,{value:s.value,onChange:s.onChange}))}))):a.createElement(ce,r)}pe.RecordCreator=ve;var Ke=pe,We=e(85224),Ve=e(75362),Ne=e(21010);function Ue(r){return oe.apply(this,arguments)}function oe(){return oe=(0,O.Z)(f().mark(function r(d){return f().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,Ne.WY)("/api/advancedForm",{method:"POST",data:d}));case 1:case"end":return s.stop()}},r)})),oe.apply(this,arguments)}var $e=e(5393),U=e.n($e),n=e(85893),C={name:"\u4ED3\u5E93\u540D",url:"\u4ED3\u5E93\u57DF\u540D",owner:"\u4ED3\u5E93\u7BA1\u7406\u5458",approver:"\u5BA1\u6279\u4EBA",dateRange:"\u751F\u6548\u65E5\u671F",type:"\u4ED3\u5E93\u7C7B\u578B",name2:"\u4EFB\u52A1\u540D",url2:"\u4EFB\u52A1\u63CF\u8FF0",owner2:"\u6267\u884C\u4EBA",approver2:"\u8D23\u4EFB\u4EBA",dateRange2:"\u751F\u6548\u65E5\u671F",type2:"\u4EFB\u52A1\u7C7B\u578B"},we=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],Ye=function(){var d=(0,a.useState)([]),x=(0,E.Z)(d,2),s=x[0],L=x[1],b=function(p){var c=p.filter(function(P){return P.errors.length>0}).length;if(!p||c===0)return null;var I=function(h){var l=document.querySelector('label[for="'.concat(h,'"]'));l&&l.scrollIntoView(!0)},o=p.map(function(P){if(!P||P.errors.length===0)return null;var h=P.name[0];return(0,n.jsxs)("li",{className:U().errorListItem,onClick:function(){return I(h)},children:[(0,n.jsx)(t.Z,{className:U().errorIcon}),(0,n.jsx)("div",{className:U().errorMessage,children:P.errors[0]}),(0,n.jsx)("div",{className:U().errorField,children:C[h]})]},h)});return(0,n.jsxs)("span",{className:U().errorIcon,children:[(0,n.jsx)(A.Z,{title:"\u8868\u5355\u6821\u9A8C\u4FE1\u606F",content:o,overlayClassName:U().errorPopover,trigger:"click",getPopupContainer:function(h){return h&&h.parentNode?h.parentNode:h},children:(0,n.jsx)(t.Z,{})}),c]})},Z=function(){var M=(0,O.Z)(f().mark(function p(c){return f().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return L([]),o.prev=1,o.next=4,Ue(c);case 4:w.default.success("\u63D0\u4EA4\u6210\u529F"),o.next=9;break;case 7:o.prev=7,o.t0=o.catch(1);case 9:case"end":return o.stop()}},p,null,[[1,7]])}));return function(c){return M.apply(this,arguments)}}(),z=function(p){L(p.errorFields)},ne=[{title:"\u6210\u5458\u59D3\u540D",dataIndex:"name",key:"name",width:"20%"},{title:"\u5DE5\u53F7",dataIndex:"workId",key:"workId",width:"20%"},{title:"\u6240\u5C5E\u90E8\u95E8",dataIndex:"department",key:"department",width:"40%"},{title:"\u64CD\u4F5C",key:"action",valueType:"option",render:function(p,c,I,o){return[(0,n.jsx)("a",{onClick:function(){o==null||o.startEditable(c.key)},children:"\u7F16\u8F91"},"eidit")]}}];return(0,n.jsx)(ie.ZP,{layout:"vertical",hideRequiredMark:!0,submitter:{render:function(p,c){return(0,n.jsxs)(We.Z,{children:[b(s),c]})}},initialValues:{members:we},onFinish:Z,onFinishFailed:z,children:(0,n.jsxs)(Ve.ZP,{content:"\u9AD8\u7EA7\u8868\u5355\u5E38\u89C1\u4E8E\u4E00\u6B21\u6027\u8F93\u5165\u548C\u63D0\u4EA4\u5927\u6279\u91CF\u6570\u636E\u7684\u573A\u666F\u3002",children:[(0,n.jsxs)(y.Z,{title:"\u4ED3\u5E93\u7BA1\u7406",className:U().card,bordered:!1,children:[(0,n.jsxs)(v.Z,{gutter:16,children:[(0,n.jsx)(i.Z,{lg:6,md:12,sm:24,children:(0,n.jsx)(le.Z,{label:C.name,name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"}],placeholder:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"})}),(0,n.jsx)(i.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,n.jsx)(le.Z,{label:C.url,name:"url",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],fieldProps:{style:{width:"100%"},addonBefore:"http://",addonAfter:".com"},placeholder:"\u8BF7\u8F93\u5165"})}),(0,n.jsx)(i.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,n.jsx)(J.Z,{label:C.owner,name:"owner",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"})})]}),(0,n.jsxs)(v.Z,{gutter:16,children:[(0,n.jsx)(i.Z,{lg:6,md:12,sm:24,children:(0,n.jsx)(J.Z,{label:C.approver,name:"approver",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"})}),(0,n.jsx)(i.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,n.jsx)(Ee.Z,{label:C.dateRange,name:"dateRange",fieldProps:{style:{width:"100%"}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u751F\u6548\u65E5\u671F"}]})}),(0,n.jsx)(i.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,n.jsx)(J.Z,{label:C.type,name:"type",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,n.jsxs)(y.Z,{title:"\u4EFB\u52A1\u7BA1\u7406",className:U().card,bordered:!1,children:[(0,n.jsxs)(v.Z,{gutter:16,children:[(0,n.jsx)(i.Z,{lg:6,md:12,sm:24,children:(0,n.jsx)(le.Z,{label:C.name2,name:"name2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}]})}),(0,n.jsx)(i.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,n.jsx)(le.Z,{label:C.url2,name:"url2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]})}),(0,n.jsx)(i.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,n.jsx)(J.Z,{label:C.owner2,name:"owner2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}]})})]}),(0,n.jsxs)(v.Z,{gutter:16,children:[(0,n.jsx)(i.Z,{lg:6,md:12,sm:24,children:(0,n.jsx)(J.Z,{label:C.approver2,name:"approver2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}],options:[{label:"\u4ED8\u6653\u6653",value:"xiao"},{label:"\u5468\u6BDB\u6BDB",value:"mao"}],placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"})}),(0,n.jsx)(i.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24,children:(0,n.jsx)(ge,{label:C.dateRange2,name:"dateRange2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],placeholder:"\u63D0\u9192\u65F6\u95F4",fieldProps:{style:{width:"100%"}}})}),(0,n.jsx)(i.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24,children:(0,n.jsx)(J.Z,{label:C.type2,name:"type2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}],options:[{label:"\u79C1\u5BC6",value:"private"},{label:"\u516C\u5F00",value:"public"}],placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"})})]})]}),(0,n.jsx)(y.Z,{title:"\u6210\u5458\u7BA1\u7406",bordered:!1,children:(0,n.jsx)(ie.ZP.Item,{name:"members",children:(0,n.jsx)(Ke,{recordCreatorProps:{record:function(){return{key:"0".concat(Date.now())}}},columns:ne,rowKey:"key"})})})]})})},He=Ye}}]);
